const xg=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerpolicy&&(s.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?s.credentials="include":r.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}};xg();class mg extends Map{set(e,t){return super.set(e,t),t}}class Zl extends WeakMap{set(e,t){return super.set(e,t),t}}/*! (c) Andrea Giammarchi - ISC */const gg=/^(?:area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)$/i,Og=/<([a-z]+[a-z0-9:._-]*)([^>]*?)(\/?)>/g,yg=/([^\s\\>"'=]+)\s*=\s*(['"]?)\x01/g,bg=/[\x01\x02]/g,Sg=(n,e,t)=>{let i=0;return n.join("").trim().replace(Og,(r,s,o,a)=>{let l=s+o.replace(yg,"=$2$1").trimEnd();return a.length&&(l+=t||gg.test(s)?" /":"></"+s),"<"+l+">"}).replace(bg,r=>r===""?"<!--"+e+i+++"-->":e+i++)},wg=1,e0=111,vg=({firstChild:n,lastChild:e})=>{const t=document.createRange();return t.setStartAfter(n),t.setEndAfter(e),t.deleteContents(),n},kg=(n,e)=>n.nodeType===e0?1/e<0?e?vg(n):n.lastChild:e?n.valueOf():n.firstChild:n,Cg=n=>{const{firstChild:e,lastChild:t}=n;if(e===t)return t||n;const{childNodes:i}=n,r=[...i];return{ELEMENT_NODE:wg,nodeType:e0,firstChild:e,lastChild:t,valueOf(){return i.length!==r.length&&n.append(...r),n}}},{isArray:Dg}=Array,Ag=n=>e=>{for(const t in e){const i=t==="role"?t:`aria-${t}`,r=e[t];r==null?n.removeAttribute(i):n.setAttribute(i,r)}},Eg=(n,e)=>{let t,i=!0;const r=document.createAttributeNS(null,e);return s=>{if(t!==s)if(t=s,t==null)i||(n.removeAttributeNode(r),i=!0);else{const o=s;o==null?(i||n.removeAttributeNode(r),i=!0):(r.value=o,i&&(n.setAttributeNodeNS(r),i=!1))}}},Tg=(n,e,t)=>i=>{t!==!!i&&((t=!!i)?n.setAttribute(e,""):n.removeAttribute(e))},Fg=({dataset:n})=>e=>{for(const t in e){const i=e[t];i==null?delete n[t]:n[t]=i}},Zh=(n,e)=>{let t,i,r=e.slice(2);return!(e in n)&&(i=e.toLowerCase())in n&&(r=i.slice(2)),s=>{const o=Dg(s)?s:[s,!1];t!==o[0]&&(t&&n.removeEventListener(r,t,o[1]),(t=o[0])&&n.addEventListener(r,t,o[1]))}},$g=n=>{let e;return t=>{e!==t&&(e=t,typeof t=="function"?t(n):t.current=n)}},Qg=(n,e)=>e==="dataset"?Fg(n):t=>{n[e]=t},Pg=n=>{let e;return t=>{e!=t&&(e=t,n.textContent=t==null?"":t)}},Rg=(n,e,t,i,r)=>{const s=t.length;let o=e.length,a=s,l=0,h=0,c=null;for(;l<o||h<a;)if(o===l){const u=a<s?h?i(t[h-1],-0).nextSibling:i(t[a-h],0):r;for(;h<a;)n.insertBefore(i(t[h++],1),u)}else if(a===h)for(;l<o;)(!c||!c.has(e[l]))&&n.removeChild(i(e[l],-1)),l++;else if(e[l]===t[h])l++,h++;else if(e[o-1]===t[a-1])o--,a--;else if(e[l]===t[a-1]&&t[h]===e[o-1]){const u=i(e[--o],-1).nextSibling;n.insertBefore(i(t[h++],1),i(e[l++],-1).nextSibling),n.insertBefore(i(t[--a],1),u),e[o]=t[a]}else{if(!c){c=new Map;let u=h;for(;u<a;)c.set(t[u],u++)}if(c.has(e[l])){const u=c.get(e[l]);if(h<u&&u<a){let d=l,x=1;for(;++d<o&&d<a&&c.get(e[d])===u+x;)x++;if(x>u-h){const g=i(e[l],0);for(;h<u;)n.insertBefore(i(t[h++],1),g)}else n.replaceChild(i(t[h++],1),i(e[l++],-1))}else l++}else n.removeChild(i(e[l++],-1))}return t},{isArray:t0,prototype:Ig}=Array,{indexOf:Bg}=Ig,{createDocumentFragment:Mg,createElement:Wg,createElementNS:Ng,createTextNode:Lg,createTreeWalker:Xg,importNode:Ug}=new Proxy(document,{get:(n,e)=>n[e].bind(n)}),zg=n=>{const e=Wg("template");return e.innerHTML=n,e.content};let Ir;const _g=n=>{Ir||(Ir=Ng("http://www.w3.org/2000/svg","svg")),Ir.innerHTML=n;const e=Mg();return e.append(...Ir.childNodes),e},jg=(n,e)=>e?_g(n):zg(n),Zg=({childNodes:n},e)=>n[e],Tn=(n,e,t)=>Rg(n.parentNode,e,t,kg,n),Gg=n=>{let e,t,i=[];const r=s=>{switch(typeof s){case"string":case"number":case"boolean":e!==s&&(e=s,t||(t=Lg("")),t.data=s,i=Tn(n,i,[t]));break;case"object":case"undefined":if(s==null){e!=s&&(e=s,i=Tn(n,i,[]));break}if(t0(s)){e=s,s.length===0?i=Tn(n,i,[]):typeof s[0]=="object"?i=Tn(n,i,s):r(String(s));break}e!==s&&"ELEMENT_NODE"in s&&(e=s,i=Tn(n,i,s.nodeType===11?[...s.childNodes]:[s]));break;case"function":r(s(n));break}};return r},qg=(n,e)=>{switch(e[0]){case"?":return Tg(n,e.slice(1),!1);case".":return Qg(n,e.slice(1));case"@":return Zh(n,"on"+e.slice(1));case"o":if(e[1]==="n")return Zh(n,e)}switch(e){case"ref":return $g(n);case"aria":return Ag(n)}return Eg(n,e)};function Vg(n){const{type:e,path:t}=n,i=t.reduceRight(Zg,this);return e==="node"?Gg(i):e==="attr"?qg(i,n.name):Pg(i)}const Ro=n=>{const e=[];let{parentNode:t}=n;for(;t;)e.push(Bg.call(t.childNodes,n)),n=t,{parentNode:t}=n;return e},Fn="is\xB5",Gh=new Zl,Yg=/^(?:textarea|script|style|title|plaintext|xmp)$/,ir=()=>({stack:[],entry:null,wire:null}),Jg=(n,e)=>{const{content:t,updates:i}=Kg(n,e);return{type:n,template:e,content:t,updates:i,wire:null}},Hg=(n,e)=>{const t=n==="svg",i=Sg(e,Fn,t),r=jg(i,t),s=Xg(r,129),o=[],a=e.length-1;let l=0,h=`${Fn}${l}`;for(;l<a;){const c=s.nextNode();if(!c)throw`bad template: ${i}`;if(c.nodeType===8)c.data===h&&(o.push({type:"node",path:Ro(c)}),h=`${Fn}${++l}`);else{for(;c.hasAttribute(h);)o.push({type:"attr",path:Ro(c),name:c.getAttribute(h)}),c.removeAttribute(h),h=`${Fn}${++l}`;Yg.test(c.localName)&&c.textContent.trim()===`<!--${h}-->`&&(c.textContent="",o.push({type:"text",path:Ro(c)}),h=`${Fn}${++l}`)}}return{content:r,nodes:o}},Kg=(n,e)=>{const{content:t,nodes:i}=Gh.get(e)||Gh.set(e,Hg(n,e)),r=Ug(t,!0),s=i.map(Vg,r);return{content:r,updates:s}},Ss=(n,{type:e,template:t,values:i})=>{const r=i0(n,i);let{entry:s}=n;(!s||s.template!==t||s.type!==e)&&(n.entry=s=Jg(e,t));const{content:o,updates:a,wire:l}=s;for(let h=0;h<r;h++)a[h](i[h]);return l||(s.wire=Cg(o))},i0=({stack:n},e)=>{const{length:t}=e;for(let i=0;i<t;i++){const r=e[i];r instanceof ws?e[i]=Ss(n[i]||(n[i]=ir()),r):t0(r)?i0(n[i]||(n[i]=ir()),r):n[i]=null}return t<n.length&&n.splice(t),t};class ws{constructor(e,t,i){this.type=e,this.template=t,this.values=i}}const n0=n=>{const e=new Zl,t=i=>(r,...s)=>Ss(i,{type:n,template:r,values:s});return Object.assign((i,...r)=>new ws(n,i,r),{for(i,r){const s=e.get(i)||e.set(i,new mg);return s.get(r)||s.set(r,t(ir()))},node:(i,...r)=>Ss(ir(),new ws(n,i,r)).valueOf()})},qh=new Zl,eO=(n,e)=>{const t=typeof e=="function"?e():e,i=qh.get(n)||qh.set(n,ir()),r=t instanceof ws?Ss(i,t):t;return r!==i.wire&&(i.wire=r,n.replaceChildren(r.valueOf())),n},qi=n0("html");n0("svg");var bt={exports:{}},Xi={exports:{}};function Vh(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function tO(n){Xi.exports.defaults=n}Xi.exports={defaults:Vh(),getDefaults:Vh,changeDefaults:tO};const iO=/[&<>"']/,nO=/[&<>"']/g,rO=/[<>"']|&(?!#?\w+;)/,sO=/[<>"']|&(?!#?\w+;)/g,oO={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Yh=n=>oO[n];function aO(n,e){if(e){if(iO.test(n))return n.replace(nO,Yh)}else if(rO.test(n))return n.replace(sO,Yh);return n}const lO=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function r0(n){return n.replace(lO,(e,t)=>(t=t.toLowerCase(),t==="colon"?":":t.charAt(0)==="#"?t.charAt(1)==="x"?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const hO=/(^|[^\[])\^/g;function cO(n,e){n=n.source||n,e=e||"";const t={replace:(i,r)=>(r=r.source||r,r=r.replace(hO,"$1"),n=n.replace(i,r),t),getRegex:()=>new RegExp(n,e)};return t}const uO=/[^\w:]/g,fO=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function dO(n,e,t){if(n){let i;try{i=decodeURIComponent(r0(t)).replace(uO,"").toLowerCase()}catch{return null}if(i.indexOf("javascript:")===0||i.indexOf("vbscript:")===0||i.indexOf("data:")===0)return null}e&&!fO.test(t)&&(t=s0(e,t));try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const Br={},pO=/^[^:]+:\/*[^/]*$/,xO=/^([^:]+:)[\s\S]*$/,mO=/^([^:]+:\/*[^/]*)[\s\S]*$/;function s0(n,e){Br[" "+n]||(pO.test(n)?Br[" "+n]=n+"/":Br[" "+n]=o0(n,"/",!0)),n=Br[" "+n];const t=n.indexOf(":")===-1;return e.substring(0,2)==="//"?t?e:n.replace(xO,"$1")+e:e.charAt(0)==="/"?t?e:n.replace(mO,"$1")+e:n+e}const gO={exec:function(){}};function OO(n){let e=1,t,i;for(;e<arguments.length;e++){t=arguments[e];for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n}function yO(n,e){const t=n.replace(/\|/g,(s,o,a)=>{let l=!1,h=o;for(;--h>=0&&a[h]==="\\";)l=!l;return l?"|":" |"}),i=t.split(/ \|/);let r=0;if(i[0].trim()||i.shift(),i[i.length-1].trim()||i.pop(),i.length>e)i.splice(e);else for(;i.length<e;)i.push("");for(;r<i.length;r++)i[r]=i[r].trim().replace(/\\\|/g,"|");return i}function o0(n,e,t){const i=n.length;if(i===0)return"";let r=0;for(;r<i;){const s=n.charAt(i-r-1);if(s===e&&!t)r++;else if(s!==e&&t)r++;else break}return n.substr(0,i-r)}function bO(n,e){if(n.indexOf(e[1])===-1)return-1;const t=n.length;let i=0,r=0;for(;r<t;r++)if(n[r]==="\\")r++;else if(n[r]===e[0])i++;else if(n[r]===e[1]&&(i--,i<0))return r;return-1}function SO(n){n&&n.sanitize&&!n.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function wO(n,e){if(e<1)return"";let t="";for(;e>1;)e&1&&(t+=n),e>>=1,n+=n;return t+n}var wn={escape:aO,unescape:r0,edit:cO,cleanUrl:dO,resolveUrl:s0,noopTest:gO,merge:OO,splitCells:yO,rtrim:o0,findClosingBracket:bO,checkSanitizeDeprecation:SO,repeatString:wO};const{defaults:vO}=Xi.exports,{rtrim:Io,splitCells:Jh,escape:ct,findClosingBracket:kO}=wn;function Hh(n,e,t,i){const r=e.href,s=e.title?ct(e.title):null,o=n[1].replace(/\\([\[\]])/g,"$1");if(n[0].charAt(0)!=="!"){i.state.inLink=!0;const a={type:"link",raw:t,href:r,title:s,text:o,tokens:i.inlineTokens(o,[])};return i.state.inLink=!1,a}else return{type:"image",raw:t,href:r,title:s,text:ct(o)}}function CO(n,e){const t=n.match(/^(\s+)(?:```)/);if(t===null)return e;const i=t[1];return e.split(`
`).map(r=>{const s=r.match(/^\s+/);if(s===null)return r;const[o]=s;return o.length>=i.length?r.slice(i.length):r}).join(`
`)}var Gl=class{constructor(e){this.options=e||vO}space(e){const t=this.rules.block.newline.exec(e);if(t)return t[0].length>1?{type:"space",raw:t[0]}:{raw:`
`}}code(e){const t=this.rules.block.code.exec(e);if(t){const i=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?i:Io(i,`
`)}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const i=t[0],r=CO(i,t[3]||"");return{type:"code",raw:i,lang:t[2]?t[2].trim():t[2],text:r}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let i=t[2].trim();if(/#$/.test(i)){const s=Io(i,"#");(this.options.pedantic||!s||/ $/.test(s))&&(i=s.trim())}const r={type:"heading",raw:t[0],depth:t[1].length,text:i,tokens:[]};return this.lexer.inline(r.text,r.tokens),r}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const i=t[0].replace(/^ *> ?/gm,"");return{type:"blockquote",raw:t[0],tokens:this.lexer.blockTokens(i,[]),text:i}}}list(e){let t=this.rules.block.list.exec(e);if(t){let i,r,s,o,a,l,h,c,u,d,x=t[1].trim();const g=x.length>1,f={type:"list",raw:"",ordered:g,start:g?+x.slice(0,-1):"",loose:!1,items:[]};x=g?`\\d{1,9}\\${x.slice(-1)}`:`\\${x}`,this.options.pedantic&&(x=g?x:"[*+-]");const p=new RegExp(`^( {0,3}${x})((?: [^\\n]*| *)(?:\\n[^\\n]*)*(?:\\n|$))`);for(;e&&!(this.rules.block.hr.test(e)||!(t=p.exec(e)));){u=t[2].split(`
`),this.options.pedantic?(o=2,d=u[0].trimLeft()):(o=t[2].search(/[^ ]/),o=t[1].length+(o>4?1:o),d=u[0].slice(o-t[1].length)),l=!1,i=t[0],!u[0]&&/^ *$/.test(u[1])&&(i=t[1]+u.slice(0,2).join(`
`)+`
`,f.loose=!0,u=[]);const O=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:[*+-]|\\d{1,9}[.)])`);for(a=1;a<u.length;a++){if(c=u[a],this.options.pedantic&&(c=c.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),O.test(c)){i=t[1]+u.slice(0,a).join(`
`)+`
`;break}if(!l){c.trim()||(l=!0),c.search(/[^ ]/)>=o?d+=`
`+c.slice(o):d+=`
`+c;continue}if(c.search(/[^ ]/)>=o||!c.trim()){d+=`
`+c.slice(o);continue}else{i=t[1]+u.slice(0,a).join(`
`)+`
`;break}}f.loose||(h?f.loose=!0:/\n *\n *$/.test(i)&&(h=!0)),this.options.gfm&&(r=/^\[[ xX]\] /.exec(d),r&&(s=r[0]!=="[ ] ",d=d.replace(/^\[[ xX]\] +/,""))),f.items.push({type:"list_item",raw:i,task:!!r,checked:s,loose:!1,text:d}),f.raw+=i,e=e.slice(i.length)}f.items[f.items.length-1].raw=i.trimRight(),f.items[f.items.length-1].text=d.trimRight(),f.raw=f.raw.trimRight();const m=f.items.length;for(a=0;a<m;a++)this.lexer.state.top=!1,f.items[a].tokens=this.lexer.blockTokens(f.items[a].text,[]),f.items[a].tokens.some(O=>O.type==="space")&&(f.loose=!0,f.items[a].loose=!0);return f}}html(e){const t=this.rules.block.html.exec(e);if(t){const i={type:"html",raw:t[0],pre:!this.options.sanitizer&&(t[1]==="pre"||t[1]==="script"||t[1]==="style"),text:t[0]};return this.options.sanitize&&(i.type="paragraph",i.text=this.options.sanitizer?this.options.sanitizer(t[0]):ct(t[0]),i.tokens=[],this.lexer.inline(i.text,i.tokens)),i}}def(e){const t=this.rules.block.def.exec(e);if(t){t[3]&&(t[3]=t[3].substring(1,t[3].length-1));const i=t[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:i,raw:t[0],href:t[2],title:t[3]}}}table(e){const t=this.rules.block.table.exec(e);if(t){const i={type:"table",header:Jh(t[1]).map(r=>({text:r})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]?t[3].replace(/\n$/,"").split(`
`):[]};if(i.header.length===i.align.length){i.raw=t[0];let r=i.align.length,s,o,a,l;for(s=0;s<r;s++)/^ *-+: *$/.test(i.align[s])?i.align[s]="right":/^ *:-+: *$/.test(i.align[s])?i.align[s]="center":/^ *:-+ *$/.test(i.align[s])?i.align[s]="left":i.align[s]=null;for(r=i.rows.length,s=0;s<r;s++)i.rows[s]=Jh(i.rows[s],i.header.length).map(h=>({text:h}));for(r=i.header.length,o=0;o<r;o++)i.header[o].tokens=[],this.lexer.inlineTokens(i.header[o].text,i.header[o].tokens);for(r=i.rows.length,o=0;o<r;o++)for(l=i.rows[o],a=0;a<l.length;a++)l[a].tokens=[],this.lexer.inlineTokens(l[a].text,l[a].tokens);return i}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t){const i={type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:[]};return this.lexer.inline(i.text,i.tokens),i}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const i={type:"paragraph",raw:t[0],text:t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1],tokens:[]};return this.lexer.inline(i.text,i.tokens),i}}text(e){const t=this.rules.block.text.exec(e);if(t){const i={type:"text",raw:t[0],text:t[0],tokens:[]};return this.lexer.inline(i.text,i.tokens),i}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:ct(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):ct(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const i=t[2].trim();if(!this.options.pedantic&&/^</.test(i)){if(!/>$/.test(i))return;const o=Io(i.slice(0,-1),"\\");if((i.length-o.length)%2===0)return}else{const o=kO(t[2],"()");if(o>-1){const l=(t[0].indexOf("!")===0?5:4)+t[1].length+o;t[2]=t[2].substring(0,o),t[0]=t[0].substring(0,l).trim(),t[3]=""}}let r=t[2],s="";if(this.options.pedantic){const o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(r);o&&(r=o[1],s=o[3])}else s=t[3]?t[3].slice(1,-1):"";return r=r.trim(),/^</.test(r)&&(this.options.pedantic&&!/>$/.test(i)?r=r.slice(1):r=r.slice(1,-1)),Hh(t,{href:r&&r.replace(this.rules.inline._escapes,"$1"),title:s&&s.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let i;if((i=this.rules.inline.reflink.exec(e))||(i=this.rules.inline.nolink.exec(e))){let r=(i[2]||i[1]).replace(/\s+/g," ");if(r=t[r.toLowerCase()],!r||!r.href){const s=i[0].charAt(0);return{type:"text",raw:s,text:s}}return Hh(i,r,i[0],this.lexer)}}emStrong(e,t,i=""){let r=this.rules.inline.emStrong.lDelim.exec(e);if(!r||r[3]&&i.match(/[\p{L}\p{N}]/u))return;const s=r[1]||r[2]||"";if(!s||s&&(i===""||this.rules.inline.punctuation.exec(i))){const o=r[0].length-1;let a,l,h=o,c=0;const u=r[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(u.lastIndex=0,t=t.slice(-1*e.length+o);(r=u.exec(t))!=null;){if(a=r[1]||r[2]||r[3]||r[4]||r[5]||r[6],!a)continue;if(l=a.length,r[3]||r[4]){h+=l;continue}else if((r[5]||r[6])&&o%3&&!((o+l)%3)){c+=l;continue}if(h-=l,h>0)continue;if(l=Math.min(l,l+h+c),Math.min(o,l)%2){const x=e.slice(1,o+r.index+l);return{type:"em",raw:e.slice(0,o+r.index+l+1),text:x,tokens:this.lexer.inlineTokens(x,[])}}const d=e.slice(2,o+r.index+l-1);return{type:"strong",raw:e.slice(0,o+r.index+l+1),text:d,tokens:this.lexer.inlineTokens(d,[])}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let i=t[2].replace(/\n/g," ");const r=/[^ ]/.test(i),s=/^ /.test(i)&&/ $/.test(i);return r&&s&&(i=i.substring(1,i.length-1)),i=ct(i,!0),{type:"codespan",raw:t[0],text:i}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2],[])}}autolink(e,t){const i=this.rules.inline.autolink.exec(e);if(i){let r,s;return i[2]==="@"?(r=ct(this.options.mangle?t(i[1]):i[1]),s="mailto:"+r):(r=ct(i[1]),s=r),{type:"link",raw:i[0],text:r,href:s,tokens:[{type:"text",raw:r,text:r}]}}}url(e,t){let i;if(i=this.rules.inline.url.exec(e)){let r,s;if(i[2]==="@")r=ct(this.options.mangle?t(i[0]):i[0]),s="mailto:"+r;else{let o;do o=i[0],i[0]=this.rules.inline._backpedal.exec(i[0])[0];while(o!==i[0]);r=ct(i[0]),i[1]==="www."?s="http://"+r:s=r}return{type:"link",raw:i[0],text:r,href:s,tokens:[{type:"text",raw:r,text:r}]}}}inlineText(e,t){const i=this.rules.inline.text.exec(e);if(i){let r;return this.lexer.state.inRawBlock?r=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(i[0]):ct(i[0]):i[0]:r=ct(this.options.smartypants?t(i[0]):i[0]),{type:"text",raw:i[0],text:r}}}};const{noopTest:vs,edit:he,merge:Ui}=wn,q={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)( [^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:vs,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html| +\n)[^\n]+)*)/,text:/^[^\n]+/};q._label=/(?!\s*\])(?:\\[\[\]]|[^\[\]])+/;q._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;q.def=he(q.def).replace("label",q._label).replace("title",q._title).getRegex();q.bullet=/(?:[*+-]|\d{1,9}[.)])/;q.listItemStart=he(/^( *)(bull) */).replace("bull",q.bullet).getRegex();q.list=he(q.list).replace(/bull/g,q.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+q.def.source+")").getRegex();q._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";q._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;q.html=he(q.html,"i").replace("comment",q._comment).replace("tag",q._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();q.paragraph=he(q._paragraph).replace("hr",q.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",q._tag).getRegex();q.blockquote=he(q.blockquote).replace("paragraph",q.paragraph).getRegex();q.normal=Ui({},q);q.gfm=Ui({},q.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});q.gfm.table=he(q.gfm.table).replace("hr",q.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",q._tag).getRegex();q.pedantic=Ui({},q.normal,{html:he(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",q._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:vs,paragraph:he(q.normal._paragraph).replace("hr",q.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",q.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const W={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:vs,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(?!\s*\])((?:\\[\[\]]?|[^\[\]\\])+)\]/,nolink:/^!?\[(?!\s*\])((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:vs,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};W._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";W.punctuation=he(W.punctuation).replace(/punctuation/g,W._punctuation).getRegex();W.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;W.escapedEmSt=/\\\*|\\_/g;W._comment=he(q._comment).replace("(?:-->|$)","-->").getRegex();W.emStrong.lDelim=he(W.emStrong.lDelim).replace(/punct/g,W._punctuation).getRegex();W.emStrong.rDelimAst=he(W.emStrong.rDelimAst,"g").replace(/punct/g,W._punctuation).getRegex();W.emStrong.rDelimUnd=he(W.emStrong.rDelimUnd,"g").replace(/punct/g,W._punctuation).getRegex();W._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;W._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;W._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;W.autolink=he(W.autolink).replace("scheme",W._scheme).replace("email",W._email).getRegex();W._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;W.tag=he(W.tag).replace("comment",W._comment).replace("attribute",W._attribute).getRegex();W._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;W._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;W._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;W.link=he(W.link).replace("label",W._label).replace("href",W._href).replace("title",W._title).getRegex();W.reflink=he(W.reflink).replace("label",W._label).getRegex();W.reflinkSearch=he(W.reflinkSearch,"g").replace("reflink",W.reflink).replace("nolink",W.nolink).getRegex();W.normal=Ui({},W);W.pedantic=Ui({},W.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:he(/^!?\[(label)\]\((.*?)\)/).replace("label",W._label).getRegex(),reflink:he(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",W._label).getRegex()});W.gfm=Ui({},W.normal,{escape:he(W.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/});W.gfm.url=he(W.gfm.url,"i").replace("email",W.gfm._extended_email).getRegex();W.breaks=Ui({},W.gfm,{br:he(W.br).replace("{2,}","*").getRegex(),text:he(W.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});var DO={block:q,inline:W};const AO=Gl,{defaults:EO}=Xi.exports,{block:Mr,inline:$n}=DO,{repeatString:Kh}=wn;function TO(n){return n.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function ec(n){let e="",t,i;const r=n.length;for(t=0;t<r;t++)i=n.charCodeAt(t),Math.random()>.5&&(i="x"+i.toString(16)),e+="&#"+i+";";return e}var a0=class Ca{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||EO,this.options.tokenizer=this.options.tokenizer||new AO,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:Mr.normal,inline:$n.normal};this.options.pedantic?(t.block=Mr.pedantic,t.inline=$n.pedantic):this.options.gfm&&(t.block=Mr.gfm,this.options.breaks?t.inline=$n.breaks:t.inline=$n.gfm),this.tokenizer.rules=t}static get rules(){return{block:Mr,inline:$n}}static lex(e,t){return new Ca(t).lex(e)}static lexInline(e,t){return new Ca(t).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    "),this.blockTokens(e,this.tokens);let t;for(;t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){this.options.pedantic&&(e=e.replace(/^ +$/gm,""));let i,r,s,o;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>(i=a.call({lexer:this},e,t))?(e=e.substring(i.raw.length),t.push(i),!0):!1))){if(i=this.tokenizer.space(e)){e=e.substring(i.raw.length),i.type&&t.push(i);continue}if(i=this.tokenizer.code(e)){e=e.substring(i.raw.length),r=t[t.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+i.raw,r.text+=`
`+i.text,this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(i);continue}if(i=this.tokenizer.fences(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.heading(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.hr(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.blockquote(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.list(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.html(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.def(e)){e=e.substring(i.raw.length),r=t[t.length-1],r&&(r.type==="paragraph"||r.type==="text")?(r.raw+=`
`+i.raw,r.text+=`
`+i.raw,this.inlineQueue[this.inlineQueue.length-1].src=r.text):this.tokens.links[i.tag]||(this.tokens.links[i.tag]={href:i.href,title:i.title});continue}if(i=this.tokenizer.table(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.lheading(e)){e=e.substring(i.raw.length),t.push(i);continue}if(s=e,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const l=e.slice(1);let h;this.options.extensions.startBlock.forEach(function(c){h=c.call({lexer:this},l),typeof h=="number"&&h>=0&&(a=Math.min(a,h))}),a<1/0&&a>=0&&(s=e.substring(0,a+1))}if(this.state.top&&(i=this.tokenizer.paragraph(s))){r=t[t.length-1],o&&r.type==="paragraph"?(r.raw+=`
`+i.raw,r.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(i),o=s.length!==e.length,e=e.substring(i.raw.length);continue}if(i=this.tokenizer.text(e)){e=e.substring(i.raw.length),r=t[t.length-1],r&&r.type==="text"?(r.raw+=`
`+i.raw,r.text+=`
`+i.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=r.text):t.push(i);continue}if(e){const a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,t}inline(e,t){this.inlineQueue.push({src:e,tokens:t})}inlineTokens(e,t=[]){let i,r,s,o=e,a,l,h;if(this.tokens.links){const c=Object.keys(this.tokens.links);if(c.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)c.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,a.index)+"["+Kh("a",a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,a.index)+"["+Kh("a",a[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(a=this.tokenizer.rules.inline.escapedEmSt.exec(o))!=null;)o=o.slice(0,a.index)+"++"+o.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(l||(h=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(c=>(i=c.call({lexer:this},e,t))?(e=e.substring(i.raw.length),t.push(i),!0):!1))){if(i=this.tokenizer.escape(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.tag(e)){e=e.substring(i.raw.length),r=t[t.length-1],r&&i.type==="text"&&r.type==="text"?(r.raw+=i.raw,r.text+=i.text):t.push(i);continue}if(i=this.tokenizer.link(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(i.raw.length),r=t[t.length-1],r&&i.type==="text"&&r.type==="text"?(r.raw+=i.raw,r.text+=i.text):t.push(i);continue}if(i=this.tokenizer.emStrong(e,o,h)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.codespan(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.br(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.del(e)){e=e.substring(i.raw.length),t.push(i);continue}if(i=this.tokenizer.autolink(e,ec)){e=e.substring(i.raw.length),t.push(i);continue}if(!this.state.inLink&&(i=this.tokenizer.url(e,ec))){e=e.substring(i.raw.length),t.push(i);continue}if(s=e,this.options.extensions&&this.options.extensions.startInline){let c=1/0;const u=e.slice(1);let d;this.options.extensions.startInline.forEach(function(x){d=x.call({lexer:this},u),typeof d=="number"&&d>=0&&(c=Math.min(c,d))}),c<1/0&&c>=0&&(s=e.substring(0,c+1))}if(i=this.tokenizer.inlineText(s,TO)){e=e.substring(i.raw.length),i.raw.slice(-1)!=="_"&&(h=i.raw.slice(-1)),l=!0,r=t[t.length-1],r&&r.type==="text"?(r.raw+=i.raw,r.text+=i.text):t.push(i);continue}if(e){const c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return t}};const{defaults:FO}=Xi.exports,{cleanUrl:tc,escape:Wr}=wn;var ql=class{constructor(e){this.options=e||FO}code(e,t,i){const r=(t||"").match(/\S*/)[0];if(this.options.highlight){const s=this.options.highlight(e,r);s!=null&&s!==e&&(i=!0,e=s)}return e=e.replace(/\n$/,"")+`
`,r?'<pre><code class="'+this.options.langPrefix+Wr(r,!0)+'">'+(i?e:Wr(e,!0))+`</code></pre>
`:"<pre><code>"+(i?e:Wr(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
`+e+`</blockquote>
`}html(e){return e}heading(e,t,i,r){return this.options.headerIds?"<h"+t+' id="'+this.options.headerPrefix+r.slug(i)+'">'+e+"</h"+t+`>
`:"<h"+t+">"+e+"</h"+t+`>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,t,i){const r=t?"ol":"ul",s=t&&i!==1?' start="'+i+'"':"";return"<"+r+s+`>
`+e+"</"+r+`>
`}listitem(e){return"<li>"+e+`</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return"<p>"+e+`</p>
`}table(e,t){return t&&(t="<tbody>"+t+"</tbody>"),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
`+e+`</tr>
`}tablecell(e,t){const i=t.header?"th":"td";return(t.align?"<"+i+' align="'+t.align+'">':"<"+i+">")+e+"</"+i+`>
`}strong(e){return"<strong>"+e+"</strong>"}em(e){return"<em>"+e+"</em>"}codespan(e){return"<code>"+e+"</code>"}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return"<del>"+e+"</del>"}link(e,t,i){if(e=tc(this.options.sanitize,this.options.baseUrl,e),e===null)return i;let r='<a href="'+Wr(e)+'"';return t&&(r+=' title="'+t+'"'),r+=">"+i+"</a>",r}image(e,t,i){if(e=tc(this.options.sanitize,this.options.baseUrl,e),e===null)return i;let r='<img src="'+e+'" alt="'+i+'"';return t&&(r+=' title="'+t+'"'),r+=this.options.xhtml?"/>":">",r}text(e){return e}},Vl=class{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,i){return""+i}image(e,t,i){return""+i}br(){return""}},Yl=class{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let i=e,r=0;if(this.seen.hasOwnProperty(i)){r=this.seen[e];do r++,i=e+"-"+r;while(this.seen.hasOwnProperty(i))}return t||(this.seen[e]=r,this.seen[i]=0),i}slug(e,t={}){const i=this.serialize(e);return this.getNextSafeSlug(i,t.dryrun)}};const $O=ql,QO=Vl,PO=Yl,{defaults:RO}=Xi.exports,{unescape:IO}=wn;var l0=class Da{constructor(e){this.options=e||RO,this.options.renderer=this.options.renderer||new $O,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new QO,this.slugger=new PO}static parse(e,t){return new Da(t).parse(e)}static parseInline(e,t){return new Da(t).parseInline(e)}parse(e,t=!0){let i="",r,s,o,a,l,h,c,u,d,x,g,f,p,m,O,y,b,w,S;const v=e.length;for(r=0;r<v;r++){if(x=e[r],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[x.type]&&(S=this.options.extensions.renderers[x.type].call({parser:this},x),S!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(x.type))){i+=S||"";continue}switch(x.type){case"space":continue;case"hr":{i+=this.renderer.hr();continue}case"heading":{i+=this.renderer.heading(this.parseInline(x.tokens),x.depth,IO(this.parseInline(x.tokens,this.textRenderer)),this.slugger);continue}case"code":{i+=this.renderer.code(x.text,x.lang,x.escaped);continue}case"table":{for(u="",c="",a=x.header.length,s=0;s<a;s++)c+=this.renderer.tablecell(this.parseInline(x.header[s].tokens),{header:!0,align:x.align[s]});for(u+=this.renderer.tablerow(c),d="",a=x.rows.length,s=0;s<a;s++){for(h=x.rows[s],c="",l=h.length,o=0;o<l;o++)c+=this.renderer.tablecell(this.parseInline(h[o].tokens),{header:!1,align:x.align[o]});d+=this.renderer.tablerow(c)}i+=this.renderer.table(u,d);continue}case"blockquote":{d=this.parse(x.tokens),i+=this.renderer.blockquote(d);continue}case"list":{for(g=x.ordered,f=x.start,p=x.loose,a=x.items.length,d="",s=0;s<a;s++)O=x.items[s],y=O.checked,b=O.task,m="",O.task&&(w=this.renderer.checkbox(y),p?O.tokens.length>0&&O.tokens[0].type==="paragraph"?(O.tokens[0].text=w+" "+O.tokens[0].text,O.tokens[0].tokens&&O.tokens[0].tokens.length>0&&O.tokens[0].tokens[0].type==="text"&&(O.tokens[0].tokens[0].text=w+" "+O.tokens[0].tokens[0].text)):O.tokens.unshift({type:"text",text:w}):m+=w),m+=this.parse(O.tokens,p),d+=this.renderer.listitem(m,b,y);i+=this.renderer.list(d,g,f);continue}case"html":{i+=this.renderer.html(x.text);continue}case"paragraph":{i+=this.renderer.paragraph(this.parseInline(x.tokens));continue}case"text":{for(d=x.tokens?this.parseInline(x.tokens):x.text;r+1<v&&e[r+1].type==="text";)x=e[++r],d+=`
`+(x.tokens?this.parseInline(x.tokens):x.text);i+=t?this.renderer.paragraph(d):d;continue}default:{const C='Token with "'+x.type+'" type was not found.';if(this.options.silent){console.error(C);return}else throw new Error(C)}}}return i}parseInline(e,t){t=t||this.renderer;let i="",r,s,o;const a=e.length;for(r=0;r<a;r++){if(s=e[r],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]&&(o=this.options.extensions.renderers[s.type].call({parser:this},s),o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type))){i+=o||"";continue}switch(s.type){case"escape":{i+=t.text(s.text);break}case"html":{i+=t.html(s.text);break}case"link":{i+=t.link(s.href,s.title,this.parseInline(s.tokens,t));break}case"image":{i+=t.image(s.href,s.title,s.text);break}case"strong":{i+=t.strong(this.parseInline(s.tokens,t));break}case"em":{i+=t.em(this.parseInline(s.tokens,t));break}case"codespan":{i+=t.codespan(s.text);break}case"br":{i+=t.br();break}case"del":{i+=t.del(this.parseInline(s.tokens,t));break}case"text":{i+=t.text(s.text);break}default:{const l='Token with "'+s.type+'" type was not found.';if(this.options.silent){console.error(l);return}else throw new Error(l)}}}return i}};const nr=a0,rr=l0,h0=Gl,c0=ql,BO=Vl,MO=Yl,{merge:ho,checkSanitizeDeprecation:u0,escape:f0}=wn,{getDefaults:WO,changeDefaults:NO,defaults:LO}=Xi.exports;function Y(n,e,t){if(typeof n=="undefined"||n===null)throw new Error("marked(): input parameter is undefined or null");if(typeof n!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");if(typeof e=="function"&&(t=e,e=null),e=ho({},Y.defaults,e||{}),u0(e),t){const i=e.highlight;let r;try{r=nr.lex(n,e)}catch(a){return t(a)}const s=function(a){let l;if(!a)try{e.walkTokens&&Y.walkTokens(r,e.walkTokens),l=rr.parse(r,e)}catch(h){a=h}return e.highlight=i,a?t(a):t(null,l)};if(!i||i.length<3||(delete e.highlight,!r.length))return s();let o=0;Y.walkTokens(r,function(a){a.type==="code"&&(o++,setTimeout(()=>{i(a.text,a.lang,function(l,h){if(l)return s(l);h!=null&&h!==a.text&&(a.text=h,a.escaped=!0),o--,o===0&&s()})},0))}),o===0&&s();return}try{const i=nr.lex(n,e);return e.walkTokens&&Y.walkTokens(i,e.walkTokens),rr.parse(i,e)}catch(i){if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+f0(i.message+"",!0)+"</pre>";throw i}}Y.options=Y.setOptions=function(n){return ho(Y.defaults,n),NO(Y.defaults),Y};Y.getDefaults=WO;Y.defaults=LO;Y.use=function(...n){const e=ho({},...n),t=Y.defaults.extensions||{renderers:{},childTokens:{}};let i;n.forEach(r=>{if(r.extensions&&(i=!0,r.extensions.forEach(s=>{if(!s.name)throw new Error("extension name required");if(s.renderer){const o=t.renderers?t.renderers[s.name]:null;o?t.renderers[s.name]=function(...a){let l=s.renderer.apply(this,a);return l===!1&&(l=o.apply(this,a)),l}:t.renderers[s.name]=s.renderer}if(s.tokenizer){if(!s.level||s.level!=="block"&&s.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");t[s.level]?t[s.level].unshift(s.tokenizer):t[s.level]=[s.tokenizer],s.start&&(s.level==="block"?t.startBlock?t.startBlock.push(s.start):t.startBlock=[s.start]:s.level==="inline"&&(t.startInline?t.startInline.push(s.start):t.startInline=[s.start]))}s.childTokens&&(t.childTokens[s.name]=s.childTokens)})),r.renderer){const s=Y.defaults.renderer||new c0;for(const o in r.renderer){const a=s[o];s[o]=(...l)=>{let h=r.renderer[o].apply(s,l);return h===!1&&(h=a.apply(s,l)),h}}e.renderer=s}if(r.tokenizer){const s=Y.defaults.tokenizer||new h0;for(const o in r.tokenizer){const a=s[o];s[o]=(...l)=>{let h=r.tokenizer[o].apply(s,l);return h===!1&&(h=a.apply(s,l)),h}}e.tokenizer=s}if(r.walkTokens){const s=Y.defaults.walkTokens;e.walkTokens=o=>{r.walkTokens.call(this,o),s&&s(o)}}i&&(e.extensions=t),Y.setOptions(e)})};Y.walkTokens=function(n,e){for(const t of n)switch(e(t),t.type){case"table":{for(const i of t.header)Y.walkTokens(i.tokens,e);for(const i of t.rows)for(const r of i)Y.walkTokens(r.tokens,e);break}case"list":{Y.walkTokens(t.items,e);break}default:Y.defaults.extensions&&Y.defaults.extensions.childTokens&&Y.defaults.extensions.childTokens[t.type]?Y.defaults.extensions.childTokens[t.type].forEach(function(i){Y.walkTokens(t[i],e)}):t.tokens&&Y.walkTokens(t.tokens,e)}};Y.parseInline=function(n,e){if(typeof n=="undefined"||n===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof n!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected");e=ho({},Y.defaults,e||{}),u0(e);try{const t=nr.lexInline(n,e);return e.walkTokens&&Y.walkTokens(t,e.walkTokens),rr.parseInline(t,e)}catch(t){if(t.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+f0(t.message+"",!0)+"</pre>";throw t}};Y.Parser=rr;Y.parser=rr.parse;Y.Renderer=c0;Y.TextRenderer=BO;Y.Lexer=nr;Y.lexer=nr.lex;Y.Tokenizer=h0;Y.Slugger=MO;Y.parse=Y;var XO=Y;const d0=XO,p0=a0,x0=l0,UO=Gl,zO=ql,_O=Vl,jO=Yl;bt.exports=d0;bt.exports.parse=d0;bt.exports.Parser=x0;bt.exports.parser=x0.parse;bt.exports.Renderer=zO;bt.exports.TextRenderer=_O;bt.exports.Lexer=p0;bt.exports.lexer=p0.lex;bt.exports.Tokenizer=UO;bt.exports.Slugger=jO;var ZO=bt.exports;const GO=`
  h1 {
    text-align: center;
    margin: 0;
    margin-top: 20px;
    margin-bottom: -10px;
    color: #868e96;
    font-size: 2.8em;
    line-height: 1;
    font-weight: normal;
  }

  h2 {
    color: var(--pcb-base);
    margin: 0;
    font-size: 1.75em;
    margin-top: 40px;
    margin-bottom: 20px;
  }

  h3 {
    margin: 0;
    margin-top: 30px;
    font-size: 1.125em;
  }

  p, ul, pre {
    color: #495057;
    margin: 16px 0;
    line-height: 1.5;
  }

  code, pre {
    font-family: monospace;
    font-size: 1.1em;
    background: #e9ecef;
    color: #343a40;
  }

  code {
    padding: 0 4px;
  }

  pre code {
    display: block;
    padding: 12px 16px;
    overflow: auto;
  }
`;customElements.define("markdown-renderer",class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){new MutationObserver(()=>this.update()).observe(this,{childList:!0}),this.update()}update(){let n=`${ZO(this.innerHTML)}`;n=n.replaceAll("&amp;gt;",">").replaceAll("&amp;lt;","<"),this.shadowRoot.innerHTML=`<style>${GO}</style>${n}`}});class qO extends Map{set(e,t){return super.set(e,t),t}}class Jl extends WeakMap{set(e,t){return super.set(e,t),t}}/*! (c) Andrea Giammarchi - ISC */const VO=/^(?:area|base|br|col|embed|hr|img|input|keygen|link|menuitem|meta|param|source|track|wbr)$/i,YO=/<([a-z]+[a-z0-9:._-]*)([^>]*?)(\/?)>/g,JO=/([^\s\\>"'=]+)\s*=\s*(['"]?)\x01/g,HO=/[\x01\x02]/g;var KO=(n,e,t)=>{let i=0;return n.join("").trim().replace(YO,(r,s,o,a)=>{let l=s+o.replace(JO,"=$2$1").trimEnd();return a.length&&(l+=t||VO.test(s)?" /":"></"+s),"<"+l+">"}).replace(HO,r=>r===""?"<!--"+e+i+++"-->":e+i++)};const e1=1,m0=111,t1=({firstChild:n,lastChild:e})=>{const t=document.createRange();return t.setStartAfter(n),t.setEndAfter(e),t.deleteContents(),n},i1=(n,e)=>n.nodeType===m0?1/e<0?e?t1(n):n.lastChild:e?n.valueOf():n.firstChild:n,n1=n=>{const{firstChild:e,lastChild:t}=n;if(e===t)return t||n;const{childNodes:i}=n,r=[...i];return{ELEMENT_NODE:e1,nodeType:m0,firstChild:e,lastChild:t,valueOf(){return i.length!==r.length&&n.append(...r),n}}},{isArray:r1}=Array,s1=n=>e=>{for(const t in e){const i=t==="role"?t:`aria-${t}`,r=e[t];r==null?n.removeAttribute(i):n.setAttribute(i,r)}},o1=(n,e)=>{let t,i=!0;const r=document.createAttributeNS(null,e);return s=>{if(t!==s)if(t=s,t==null)i||(n.removeAttributeNode(r),i=!0);else{const o=s;o==null?(i||n.removeAttributeNode(r),i=!0):(r.value=o,i&&(n.setAttributeNodeNS(r),i=!1))}}},a1=(n,e,t)=>i=>{t!==!!i&&((t=!!i)?n.setAttribute(e,""):n.removeAttribute(e))},l1=({dataset:n})=>e=>{for(const t in e){const i=e[t];i==null?delete n[t]:n[t]=i}},ic=(n,e)=>{let t,i,r=e.slice(2);return!(e in n)&&(i=e.toLowerCase())in n&&(r=i.slice(2)),s=>{const o=r1(s)?s:[s,!1];t!==o[0]&&(t&&n.removeEventListener(r,t,o[1]),(t=o[0])&&n.addEventListener(r,t,o[1]))}},h1=n=>{let e;return t=>{e!==t&&(e=t,typeof t=="function"?t(n):t.current=n)}},c1=(n,e)=>e==="dataset"?l1(n):t=>{n[e]=t},u1=n=>{let e;return t=>{e!=t&&(e=t,n.textContent=t==null?"":t)}};var f1=(n,e,t,i,r)=>{const s=t.length;let o=e.length,a=s,l=0,h=0,c=null;for(;l<o||h<a;)if(o===l){const u=a<s?h?i(t[h-1],-0).nextSibling:i(t[a-h],0):r;for(;h<a;)n.insertBefore(i(t[h++],1),u)}else if(a===h)for(;l<o;)(!c||!c.has(e[l]))&&n.removeChild(i(e[l],-1)),l++;else if(e[l]===t[h])l++,h++;else if(e[o-1]===t[a-1])o--,a--;else if(e[l]===t[a-1]&&t[h]===e[o-1]){const u=i(e[--o],-1).nextSibling;n.insertBefore(i(t[h++],1),i(e[l++],-1).nextSibling),n.insertBefore(i(t[--a],1),u),e[o]=t[a]}else{if(!c){c=new Map;let u=h;for(;u<a;)c.set(t[u],u++)}if(c.has(e[l])){const u=c.get(e[l]);if(h<u&&u<a){let d=l,x=1;for(;++d<o&&d<a&&c.get(e[d])===u+x;)x++;if(x>u-h){const g=i(e[l],0);for(;h<u;)n.insertBefore(i(t[h++],1),g)}else n.replaceChild(i(t[h++],1),i(e[l++],-1))}else l++}else n.removeChild(i(e[l++],-1))}return t};const{isArray:g0,prototype:d1}=Array,{indexOf:p1}=d1,{createDocumentFragment:x1,createElement:m1,createElementNS:g1,createTextNode:O1,createTreeWalker:y1,importNode:b1}=new Proxy(document,{get:(n,e)=>n[e].bind(n)}),S1=n=>{const e=m1("template");return e.innerHTML=n,e.content};let Nr;const w1=n=>{Nr||(Nr=g1("http://www.w3.org/2000/svg","svg")),Nr.innerHTML=n;const e=x1();return e.append(...Nr.childNodes),e},v1=(n,e)=>e?w1(n):S1(n),k1=({childNodes:n},e)=>n[e],Qn=(n,e,t)=>f1(n.parentNode,e,t,i1,n),C1=n=>{let e,t,i=[];const r=s=>{switch(typeof s){case"string":case"number":case"boolean":e!==s&&(e=s,t||(t=O1("")),t.data=s,i=Qn(n,i,[t]));break;case"object":case"undefined":if(s==null){e!=s&&(e=s,i=Qn(n,i,[]));break}if(g0(s)){e=s,s.length===0?i=Qn(n,i,[]):typeof s[0]=="object"?i=Qn(n,i,s):r(String(s));break}e!==s&&"ELEMENT_NODE"in s&&(e=s,i=Qn(n,i,s.nodeType===11?[...s.childNodes]:[s]));break;case"function":r(s(n));break}};return r},D1=(n,e)=>{switch(e[0]){case"?":return a1(n,e.slice(1),!1);case".":return c1(n,e.slice(1));case"@":return ic(n,"on"+e.slice(1));case"o":if(e[1]==="n")return ic(n,e)}switch(e){case"ref":return h1(n);case"aria":return s1(n)}return o1(n,e)};function A1(n){const{type:e,path:t}=n,i=t.reduceRight(k1,this);return e==="node"?C1(i):e==="attr"?D1(i,n.name):u1(i)}const Bo=n=>{const e=[];let{parentNode:t}=n;for(;t;)e.push(p1.call(t.childNodes,n)),n=t,{parentNode:t}=n;return e},Pn="is\xB5",nc=new Jl,E1=/^(?:textarea|script|style|title|plaintext|xmp)$/,sr=()=>({stack:[],entry:null,wire:null}),T1=(n,e)=>{const{content:t,updates:i}=$1(n,e);return{type:n,template:e,content:t,updates:i,wire:null}},F1=(n,e)=>{const t=n==="svg",i=KO(e,Pn,t),r=v1(i,t),s=y1(r,129),o=[],a=e.length-1;let l=0,h=`${Pn}${l}`;for(;l<a;){const c=s.nextNode();if(!c)throw`bad template: ${i}`;if(c.nodeType===8)c.data===h&&(o.push({type:"node",path:Bo(c)}),h=`${Pn}${++l}`);else{for(;c.hasAttribute(h);)o.push({type:"attr",path:Bo(c),name:c.getAttribute(h)}),c.removeAttribute(h),h=`${Pn}${++l}`;E1.test(c.localName)&&c.textContent.trim()===`<!--${h}-->`&&(c.textContent="",o.push({type:"text",path:Bo(c)}),h=`${Pn}${++l}`)}}return{content:r,nodes:o}},$1=(n,e)=>{const{content:t,nodes:i}=nc.get(e)||nc.set(e,F1(n,e)),r=b1(t,!0),s=i.map(A1,r);return{content:r,updates:s}},ks=(n,{type:e,template:t,values:i})=>{const r=O0(n,i);let{entry:s}=n;(!s||s.template!==t||s.type!==e)&&(n.entry=s=T1(e,t));const{content:o,updates:a,wire:l}=s;for(let h=0;h<r;h++)a[h](i[h]);return l||(s.wire=n1(o))},O0=({stack:n},e)=>{const{length:t}=e;for(let i=0;i<t;i++){const r=e[i];r instanceof Cs?e[i]=ks(n[i]||(n[i]=sr()),r):g0(r)?O0(n[i]||(n[i]=sr()),r):n[i]=null}return t<n.length&&n.splice(t),t};class Cs{constructor(e,t,i){this.type=e,this.template=t,this.values=i}}const y0=n=>{const e=new Jl,t=i=>(r,...s)=>ks(i,{type:n,template:r,values:s});return Object.assign((i,...r)=>new Cs(n,i,r),{for(i,r){const s=e.get(i)||e.set(i,new qO);return s.get(r)||s.set(r,t(sr()))},node:(i,...r)=>ks(sr(),new Cs(n,i,r)).valueOf()})},rc=new Jl,Q1=(n,e)=>{const t=typeof e=="function"?e():e,i=rc.get(n)||rc.set(n,sr()),r=t instanceof Cs?ks(i,t):t;return r!==i.wire&&(i.wire=r,n.replaceChildren(r.valueOf())),n},sc=y0("html"),Mo=y0("svg");let hs={c:16.35,"c#":17.32,d:18.35,"d#":19.45,e:20.6,f:21.83,"f#":23.12,g:24.5,"g#":25.96,a:27.5,"a#":29.14,b:30.87};for(let n=1;n<10;n++)for(const e in hs)hs[`${e}${n}`]=hs[e]*2**n;const P1=window.AudioContext||window.webkitAudioContext,ti=new P1;function R1(n,e,t){var i=ti.createOscillator(),r=ti.createGain();i.frequency.value=n,i.type=t!=null?t:"sine",i.connect(r),r.connect(ti.destination),i.start();const s=ti.currentTime+e*2/1e3;i.stop(s),r.gain.setValueAtTime(0,ti.currentTime),r.gain.linearRampToValueAtTime(.2,ti.currentTime+e/5/1e3),r.gain.exponentialRampToValueAtTime(1e-5,ti.currentTime+e/1e3),r.gain.linearRampToValueAtTime(0,ti.currentTime+e*2/1e3),i.onended=()=>{r.disconnect()}}function Aa(n,e,t){let i=hs[n];R1(i,e,t)}const I1={B0:31,C1:33,"C#1":35,D1:37,"D#1":39,E1:41,F1:44,"F#1":46,G1:49,"G#1":52,A1:55,"A#1":58,B1:62,C2:65,"C#2":69,D2:73,"D#2":78,E2:82,F2:87,"F#2":93,G2:98,"G#2":104,A2:110,"A#2":117,B2:123,C3:131,"C#3":139,D3:147,"D#3":156,E3:165,F3:175,"F#3":185,G3:196,"G#3":208,A3:220,"A#3":233,B3:247,C4:262,"C#4":277,D4:294,"D#4":311,E4:330,F4:349,"F#4":370,G4:392,"G#4":415,A4:440,"A#4":466,B4:494,C5:523,"C#5":554,D5:587,"D#5":622,E5:659,F5:698,"F#5":740,G5:784,"G#5":831,A5:880,"A#5":932,B5:988,C6:1047,"C#6":1109,D6:1175,"D#6":1245,E6:1319,F6:1397,"F#6":1480,G6:1568,"G#6":1661,A6:1760,"A#6":1865,B6:1976,C7:2093,"C#7":2217,D7:2349,"D#7":2489,E7:2637,F7:2794,"F#7":2960,G7:3136,"G#7":3322,A7:3520,"A#7":3729,B7:3951,C8:4186,"C#8":4435,D8:4699,"D#8":4978},b0={"~":"sine","-":"square","^":"triangle","/":"sawtooth"},B1=Object.fromEntries(Object.entries(b0).map(([n,e])=>[e,n]));function S0(n){const e=n.replace(/\s/g,"").split(","),t=[];for(const i of e){if(!i)continue;const[r,s]=i.split(":"),o=Math.round(parseInt(r)),a=(s||"").split("+").map(l=>{if(!l)return[];const[,h,c,u]=l.match(/^(.+)([~\-^\/])(.+)$/);return[b0[c],isNaN(parseInt(h,10))?h:parseInt(h,10),parseInt(u,10)]});t.push([o,...a].flat())}return t}function M1(n){const e=r=>{const s=[];for(let o=0;o<r.length;o++)o%3===0?s.push([r[o]]):s[s.length-1].push(r[o]);return s},t=([r,...s])=>s.length===0?r:`${r}: ${e(s).map(i).join(" + ")}`,i=([r,s,o])=>`${s}${B1[r]}${o}`;return n.map(t).join(`,
`)}const w0=[["0",[0,0,0,255]],["1",[255/2,255/2,255/2,255]],["L",[255/3,255/3,255/3,255]],["2",[255,255,255,255]],["3",[255,0,0,255]],["4",[0,255,0,255]],["5",[0,0,255,255]],["6",[255,255,0,255]],["7",[0,255,255,255]],["8",[255,0,255,255]],[".",[0,0,0,0]]].map(([n,e])=>[n,e.map(Math.round)]),W1=n=>`https://hackclub.github.io/sprig/games/${n}.js`,N1=n=>`${window.location.protocol}//${window.location.host}/?file=${W1(n)}`,Wo=n=>({name:n,link:N1(n)}),co={codemirror:void 0,errorInfo:null,logs:[],editor:null,editRange:null,samples:[Wo("maze"),Wo("pyre"),Wo("laser-tag")],bitmaps:[],savedGames:[],palette:w0,stale:!1,staleRun:!0},L1=`
  :root {
    --dark-grey: #434343;
  }

  html, body {
    margin: 0px;
  }

  .svg-container {
    width: 100%;
    height: 100%;
    flex: 1;
    background: white;
  }

  .container {
    display: flex;
    flex-direction: column;
    width: 100%;
    height: 100%;
  }

  .sequencer-toolbox {
    display: flex;
    min-height: 80px;
    max-height: 80px;
    background: lightgrey;
    justify-content: space-around;
    align-items: center;
  }

  .bpm {
    display: flex;
  }

  .instruments {
    display: flex;
    flex-wrap: wrap;
    min-width: 140px;
    justify-content: flex-end;
  }

  .instrument {
    color: white;
    height: 30px;
    display: flex;
    width: 70px;
    justify-content: center;
    align-items: center;
  }

  .bpm-control {
    cursor: pointer;
  }

  .bpm-control:hover {
    color: orange;
  }
`,oc={sine:"red",square:"blue",sawtooth:"orange",triangle:"green"},nn={13:"c4",12:"d4",11:"e4",10:"f4",9:"g4",8:"a4",7:"b4",6:"c5",5:"d5",4:"e5",3:"f5",2:"g5",1:"a5",0:"b5"};function X1(n,e,t){const i=[];Object.entries(n).forEach(([r,s])=>{const[o,a]=r.split("_").map(Number);o===t&&i.push([a,s])}),i.forEach(([r,s])=>{const o=nn[r],a=1e3*60/e;Aa(o,a,s)})}function U1(n,e,t){const i=[],r=6e4/e,s=o=>Object.entries(n).filter(([a])=>a.split("_")[0]===o.toString()).map(([a,l])=>[Number(a.split("_")[1]),l]);for(let o=0;o<t;o++){let a=0;for(;s(o).length===0&&o<t;)a++,o++;if(a&&i.push([a*r]),o>=t)break;const l=s(o);i.push([r,...l.map(([h,c])=>[c,nn[h],r])].flat())}return i}function z1(n){const e=n.filter(s=>s.length>1);if(!e.length)return{};const t=e[0][0],i={};let r=0;for(const[s,...o]of n){for(let a=0;a<o.length;a+=3){const[l,h]=o.slice(a,a+2),c=typeof h=="string"?h.toLowerCase():Object.entries(I1).find(([,d])=>d===h)[0].toLowerCase(),u=Object.entries(nn).find(([,d])=>d===c)[0];i[`${r}_${u}`]=l}o.length?r++:r+=s/t}return i}function _1(n,e){const t=new Blob([e],{type:"text/plain"});var i=document.createElement("a");i.href=URL.createObjectURL(t),i.download=`${n}`,i.click(),URL.revokeObjectURL(i)}function j1(n,e,t,i){const r=[];for(let s=0;s<t;s++)r.push([]);for(const s in n){const[o,a]=s.split("_").map(Number);r[o].push([i[a],1e3*60/e,n[s]])}return r}function Z1(n,e){const t=[];if(Math.abs(n[0]-e[0])>Math.abs(n[1]-e[1])){n[0]>e[0]&&([n,e]=[e,n]);let i=(e[1]-n[1])/(e[0]-n[0]);for(let[r,s]=n;r<=e[0];r++)t.push([r,Math.round(s)]),s+=i}else{n[1]>e[1]&&([n,e]=[e,n]);let i=(e[0]-n[0])/(e[1]-n[1]);for(let[r,s]=n;s<=e[1];s++)t.push([Math.round(r),s]),r+=i}return t}function G1(n){const e={numberX:32,numberY:14,svg:null,instrument:"sine",cells:{},beat:0,bpm:120,interval:null,lastPt:[0,0],drawing:!1,erasing:!1,data:{}};function t(O,y=[]){let b=O[0],w=b.name.split(".");if(w[0],w[w.length-1],y.length>0&&y.includes(enxtension))throw"Extension not recognized: "+w;i(b)}function i(O){var y=new FileReader;y.readAsText(O),y.onloadend=b=>{let w=y.result;const S=JSON.parse(w),{song:v,cells:C,bpm:k}=S;for(const A in e.cells)delete e.cells[A];for(const A in C)e.cells[A]=C[A];e.bpm=k,e.data.cells=e.cells,e.data.bpm=e.bpm,e.data.song=v,f()}}function r(){const O=n.querySelector(".container");O.addEventListener("drop",y=>{let w=y.dataTransfer.files;t(w),y.stopPropagation&&y.stopPropagation(),y.preventDefault&&y.preventDefault(),y.cancelBubble=!0,y.returnValue=!1}),O.addEventListener("dragover",y=>{y.stopPropagation&&y.stopPropagation(),y.preventDefault&&y.preventDefault(),y.cancelBubble=!0,y.returnValue=!1})}const s=O=>{const y=(b,w,S)=>`${b} ${S===0?"M":"L"} ${w.join(",")}`;return O.reduce(y,"")},o=(O,y,b)=>{const{left:w,right:S,bottom:v,top:C,width:k,height:A}=b.getBoundingClientRect(),Q=[];let R=k/O,M=A/y,_=0;for(;(_+1)*R<k;)Q.push([[(_+1)*R,0],[(_+1)*R,A]]),_++;let Z=0;for(;(Z+1)*M<A;)Q.push([[0,(Z+1)*M],[k,(Z+1)*M]]),Z++;return Q.map(G=>Mo`
      <path 
        stroke="black"
        vector-effect="non-scaling-stroke" 
        stroke-width="1" d="${s(G)}"/>
    `)},a=O=>{const{left:y,right:b,bottom:w,top:S,width:v,height:C}=O.svg.getBoundingClientRect(),k=v/O.numberX;return C/O.numberY,Mo`
      <rect 
        fill=#72cacb33
        x=${O.beat*k} 
        y=${0} 
        width=${k} 
        height=${C}/>
    `},l=({cells:O,svg:y,numberX:b,numberY:w})=>{const{left:S,right:v,bottom:C,top:k,width:A,height:Q}=y.getBoundingClientRect(),R=A/b,M=Q/w,_=([G,ce,ee])=>Mo`
        <rect 
          fill=${ee}
          x=${G*R} 
          y=${ce*M} 
          width=${R} 
          height=${M}/>
      `,Z=[];for(const G in O){const[ce,ee]=G.split("_").map(Number),ne=oc[O[G]];Z.push([ce,ee,ne])}return Z.map(_)},h=(O,y)=>{const b={sine:"~",triangle:"^",square:"-",sawtooth:"/"}[O];return sc`
      <div 
        class="instrument" 
        style=${`
          background: ${y};
          width:50px;
          height:50px;
          border: ${e.instrument===O?"2px solid black":"none"};
          box-sizing: border-box;
          `} 
        @click=${()=>{e.instrument=O,f()}}>
        ${b}
        </div>
    `},c=O=>sc`
    <style>${L1}</style>
    <div class="container" @mouseup=${g}>
      <svg 
        class="svg-container" 
        @mousedown=${d} 
        @mousemove=${x}>
        ${O.svg?l(O):""}
        ${O.svg?a(O):""}
        ${O.svg?o(O.numberX,O.numberY,O.svg):""}
      </svg>
      <div class="sequencer-toolbox">
        <div class="play-pause">
          <button @click=${()=>{O.interval?(clearInterval(O.interval),O.interval=null):O.interval=p()}}>play/pause</button>
          <button @click=${()=>{const y=j1(O.cells,O.bpm,O.numberX,nn);_1("jam.json",JSON.stringify({song:y,cells:O.cells,bpm:O.bpm}))}}>export</button>
        </div>
        <div class="bpm">
          <div style="padding-right: 10px;">BPM:</div>
          <div 
            class="bpm-control" 
            style="padding-right: 5px;" 
            @click=${()=>{O.bpm=Math.max(O.bpm-1,1),O.data.bpm=O.bpm,O.interval&&(clearInterval(O.interval),O.interval=p()),f()}}>-</div>
          <input @input=${y=>{O.bpm=Number(y.target.value),O.data.bpm=O.bpm,O.interval&&(clearInterval(O.interval),O.interval=p()),f()}} type="range" min="1" max="2000" .value=${O.bpm}>
          </input>
          <span style="width: 30px;">${O.bpm}</span>
          <div 
            class="bpm-control" 
            style="padding-left: 5px;" 
            @click=${()=>{O.bpm=Math.min(O.bpm+1,2e3),O.data.bpm=O.bpm,O.interval&&(clearInterval(O.interval),O.interval=p()),f()}}>+</div>
        </div>
        <div class="instruments">
          ${Object.entries(oc).map(y=>h(y[0],y[1]))}
        </div>
      </div>
    </div>
  `,u=O=>{const{left:y,right:b,bottom:w,top:S,width:v,height:C}=e.svg.getBoundingClientRect(),k=v/e.numberX,A=C/e.numberY,Q=Math.floor(O.offsetX/k),R=Math.floor(O.offsetY/A);return[Q,R]},d=O=>{let[y,b]=u(O);y=Math.max(Math.min(y,e.numberX-1),0),b=Math.max(Math.min(b,e.numberY-1),0);const w=`${y}_${b}`;if(w in e.cells&&e.cells[w]===e.instrument)delete e.cells[w],e.erasing=!0;else{e.cells[w]=e.instrument;const S=nn[b],v=1e3*60/e.bpm;Aa(S,v,e.instrument),e.drawing=!0}e.lastPt=[y,b],f()},x=O=>{const y=u(O);(e.drawing||e.erasing)&&Z1(e.lastPt,y).forEach(([w,S])=>{const v=`${w}_${S}`;if(e.erasing)delete e.cells[v];else{if(e.cells[v]!==e.instrument){const C=nn[S],k=1e3*60/e.bpm;Aa(C,k,e.instrument)}e.cells[v]=e.instrument}}),e.lastPt=y,f()},g=O=>{e.erasing=!1,e.drawing=!1;let y=M1(U1(e.cells,e.bpm,e.numberX));y=`
`+y.trim(),oe("SET_EDITOR_TEXT",{text:y,range:co.editRange}),f()},f=()=>{Q1(n,c(e))},p=()=>setInterval(()=>{e.beat=(e.beat+1)%e.numberX,X1(e.cells,e.bpm,e.beat),f()},1e3*60/e.bpm);return(O=>{f(),O.svg=n.querySelector("svg"),r()})(e),{loadInitValue({text:O}){e.cells=z1(S0(O));let y=O.match(/(.+):/);y?y=60*1e3/Number(y[1]):y=120,e.bpm=Math.round(y),f()},end(){e.interval&&clearInterval(e.interval)},setTune(O){const{cells:y,bpm:b}=O;e.cells=y,e.bpm=b,e.data=O,f()},getTune(){return{cells:e.cells,bpm:e.bpm}}}}class q1 extends HTMLElement{constructor(){super()}connectedCallback(){const e=this.attachShadow({mode:"open"}),t=G1(e);for(let i in t)this[i]=t[i]}disconnectedCallback(){this.end()}}customElements.define("sequencer-editor",q1);function v0(n){var l;const e=n.trim().split(`
`).map(h=>h.trim()),t=e.map(h=>h.length);if(!t.every(h=>h===t[0]))throw new Error("Level must be rect.");const r=e[0].length||1,s=e.length||1,o=new Uint8ClampedArray(r*s*4),a=Object.fromEntries(w0);for(let h=0;h<r*s;h++){const c=n.split("").filter(f=>f.match(/\S/))[h];if(!(c in a)){const f=`in sprite string: no known color for char "${c}"`;throw console.error(f+`
`+n),new Error(f+" (invalid sprite in console)")}const[u,d,x,g]=(l=a[c])!=null?l:a["."];o[h*4]=u,o[h*4+1]=d,o[h*4+2]=x,o[h*4+3]=g}return new ImageData(o,r,s)}co.palette;class V1 extends HTMLElement{constructor(){super()}connectedCallback(){const e=this.attachShadow({mode:"open"});this.canvas=e.appendChild(document.createElement("canvas")),this.canvas.style.display="block",this.canvas.style.width="100%",this.canvas.style.imageRendering="pixelated",this.attributeChangedCallback()}attributeChangedCallback(){var t;if(!this.canvas)return;const e=v0((t=this.getAttribute("text"))!=null?t:"");this.canvas.width=e.width,this.canvas.height=e.height,this.canvas.getContext("2d").clearRect(0,0,e.width,e.height),this.canvas.getContext("2d").putImageData(e,0,0),this.staleCanvas=!1}static get observedAttributes(){return["text"]}}customElements.define("bitmap-preview",V1);const Y1=n=>{const e=i=>{document.querySelectorAll(".popup").forEach(r=>r.style.display="none")};return qi`
  <div class="popup" id="popup-0">
    <div>
      <a href="https://hack.af/draw-dino">
        <img src="./popups/0.png" width="100%" height="100%">
      </a>
      <button @click=${e}>X</button>
    </div>
  </div>

  <div class="popup" id="popup-1">
    <div>
      <a href="https://anti.hackclub.com">
        <img src="./popups/1.png" width="100%" height="100%">
      </a>
      <button @click=${e}>X</button>
    </div>
  </div>

  <div class="popup" id="popup-2">
    <div>
      <img src="./popups/2.png" width="100%" height="100%">
      <button @click=${e}>X</button>
    </div>
  </div>

  <div class="popup" id="popup-cheating">
    <div>
      <img src="./popups/cheating.png" width="100%" height="100%">
      <button class="disaprove" style="font-size: 1.5rem" @click=${e}>I will be a better person</button>
    </div>
  </div>

  <div class="popup" id="popup-paywall">
    <div>
      <img src="./popups/paywall.png" width="100%" height="100%">
      <button class="payup" @click=${i=>{document.querySelectorAll(".popup").forEach(r=>r.style.display="none"),document.querySelectorAll("#popup-payment").forEach(r=>r.style.display="flex")}}>Pay fee</button>
    </div>
  </div>

  <div class="popup" id="popup-payment">
    <div>
      <img src="./popups/payment.png" width="100%" height="100%">
      <button class="continue" @click=${e}>Continue</button>
    </div>
  </div>

  <div class="popup" id="popup-prize">
    <div>
      <img src="./popups/prize1.jpg" width="30%" style="position: absolute;top: 15%;left: 20px;">
      <img src="./popups/prize.png" width="100%" height="100%">
      <button @click=${e}>X</button>
    </div>
  </div>

  <div class="main">
    ${J1(n)}

    <div class="main-container">
      <div class="code-container">
        <div id="code-editor"></div>
          <div class=${["logs",n.errorInfo?"erred":""].join(" ")}>
            ${n.logs.map(i=>qi`${i}<br>`)}
          </div>
        </div>
      
        <div class="game-canvas-container">
          <canvas class="game-canvas"></canvas>
          <canvas class="game-text"></canvas>
        </div>
      </div>

    </div>

    <div class=${["asset-editor-container",n.editor?"":"hide"].join(" ")}  @click=${i=>{for(const r of i.composedPath())if(r.classList&&r.classList.contains("asset-editor-content"))return;oe("SET_ASSET_EDITOR",{type:null,text:null})}}>
      <button class="close"><ion-icon icon="close" /></button>
      <div class="asset-editor-content">
        ${{bitmap:qi`<pixel-editor id="asset-editor"></pixel-editor>`,sequencer:qi`<sequencer-editor id="asset-editor"></sequencer-editor>`,map:qi`<map-editor id="asset-editor"></map-editor>`,[void 0]:""}[n.editor]}
      </div>
    </div>
  </div>
`},J1=n=>qi`
<div 
  class=${["menu-item","run",n.staleRun?"stale-run":""].join(" ")} 
  @click=${()=>oe("RUN")}>
  <ion-icon name="play" style="margin-right: 6px;" />
  Restart game
</div>
`;class Ne{emit(e){this._events=this._events||{};var t,i,r,s,o;if(t=Array.prototype.slice.call(arguments,1),o=this._events[e],o){for(o=o.slice(),i=0,r=o.length;i<r;++i)s=o[i],s.apply(this,t);return!0}return!1}eventNames(){return Object.keys(this._events=this._events||{})}getMaxListeners(){return typeof this._maxListeners=="number"?this._maxListeners:Ne.defaultMaxListeners}hasListeners(e){return this._events=this._events||{},(this._events[e]||[]).length>0}listenerCount(e){return this._events=this._events||{},(this._events[e]||[]).length}listeners(e){return this._events=this._events||{},Array.prototype.slice.call(this._events[e]||[])}off(e,t){var i=arguments.length;return i===0||i===1?this.removeAllListeners.apply(this,arguments):i===2?this.removeListener.apply(this,arguments):this}on(e,t){return Ne._.append(this,e,t),this}once(e,t){function i(){this.off(e,i),t.apply(this,arguments)}return i.fn=t,Ne._.append(this,e,i,t),this}prependListener(e,t){return Ne._.prepend(this,e,t),this}prependOnceListener(e,t){function i(){this.off(e,i),t.apply(this,arguments)}return i.fn=t,Ne._.prepend(this,e,i,t),this}removeListener(e,t){this._events=this._events||{};var i,r,s;if(r=this._events[e],!r)return this;for(s=0;s<r.length;++s)if(i=r[s],i===t||i.fn===t){r.splice(s,1),this.emit("removeListener",e,t);break}return r.length===0&&delete this._events[e],this}removeAllListeners(e){this._events=this._events||{};var t,i,r,s;if(arguments.length===0){for(e in this._events)if(e!="removeListener"){for(t=this._events[e],i=0,r=t.length;i<r;++i)s=t[i],this.emit("removeListener",e,s);delete this._events[e]}delete this._events.removeListener,this._events={}}else if(arguments.length===1){if(t=this._events[e],t)for(i=0,r=t.length;i<r;++i)s=t[i],this.emit("removeListener",e,s);delete this._events[e]}return this}setMaxListeners(e){if(typeof e!="number"||Number.isNaN(e)||e<0)throw new TypeError("n must be a positive number");return this._maxListeners=e,this}}Ne.defaultMaxListeners=10;Ne._={checkMaxListeners:function(n,e){var t=n._events[e].length;t>n.getMaxListeners()&&console.warn("possible EventEmitter memory leak detected. %d %s listeners added. Use emitter.setMaxListeners() to increase limit.",t,e)},append:function(n,e,t,i){n._events=n._events||{},n.emit("newListener",e,i||t),(n._events[e]=n._events[e]||[]).push(t),this.checkMaxListeners(n,e)},prepend:function(n,e,t,i){n._events=n._events||{},n.emit("newListener",e,i||t),(n._events[e]=n._events[e]||[]).splice(0,0,t),this.checkMaxListeners(n,e)}};Ne.prototype.trigger=Ne.prototype.emit;Ne.prototype.addListener=Ne.prototype.addEventListener=Ne.prototype.on;Ne.prototype.removeEventListener=Ne.prototype.removeListener;class H1 extends Ne{constructor(e){super(),this.serial=e,this.reader=null}async getInfo(){return this.serial.getInfo()}open(e){return new Promise((t,i)=>{this.serial.open(e).then(()=>{const r=()=>{const s=this.serial.readable.getReader();this.reader=s,s.read().then(({value:o,done:a})=>{s.releaseLock(),o&&this.emit("data",o),a||r()}).catch(o=>{console.log(o),this.emit("disconnect")})};r(),this.emit("connect"),t()}).catch(r=>{i(r)})})}close(){return new Promise((e,t)=>{this.reader?this.reader.cancel().then(()=>this.serial.close()).then(()=>e()).catch(i=>t(i)):(this.reader=null,this.serial.close().then(()=>e()).catch(i=>t(i)))})}write(e,t="string"){return new Promise((i,r)=>{const s=this.serial.writable.getWriter();if(t==="string"){const o=new TextEncoder;s.write(o.encode(e)).then(()=>i()).catch(a=>r(a))}else t==="binary"&&s.write(e).then(()=>i()).catch(o=>r(o));s.releaseLock()})}}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */const Ea=(()=>{const n={};n.byteLength=l,n.toByteArray=c,n.fromByteArray=x;for(var e=[],t=[],i=typeof Uint8Array!="undefined"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,o=r.length;s<o;++s)e[s]=r[s],t[r.charCodeAt(s)]=s;t["-".charCodeAt(0)]=62,t["_".charCodeAt(0)]=63;function a(g){var f=g.length;if(f%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var p=g.indexOf("=");p===-1&&(p=f);var m=p===f?0:4-p%4;return[p,m]}function l(g){var f=a(g),p=f[0],m=f[1];return(p+m)*3/4-m}function h(g,f,p){return(f+p)*3/4-p}function c(g){var f,p=a(g),m=p[0],O=p[1],y=new i(h(g,m,O)),b=0,w=O>0?m-4:m,S;for(S=0;S<w;S+=4)f=t[g.charCodeAt(S)]<<18|t[g.charCodeAt(S+1)]<<12|t[g.charCodeAt(S+2)]<<6|t[g.charCodeAt(S+3)],y[b++]=f>>16&255,y[b++]=f>>8&255,y[b++]=f&255;return O===2&&(f=t[g.charCodeAt(S)]<<2|t[g.charCodeAt(S+1)]>>4,y[b++]=f&255),O===1&&(f=t[g.charCodeAt(S)]<<10|t[g.charCodeAt(S+1)]<<4|t[g.charCodeAt(S+2)]>>2,y[b++]=f>>8&255,y[b++]=f&255),y}function u(g){return e[g>>18&63]+e[g>>12&63]+e[g>>6&63]+e[g&63]}function d(g,f,p){for(var m,O=[],y=f;y<p;y+=3)m=(g[y]<<16&16711680)+(g[y+1]<<8&65280)+(g[y+2]&255),O.push(u(m));return O.join("")}function x(g){for(var f,p=g.length,m=p%3,O=[],y=16383,b=0,w=p-m;b<w;b+=y)O.push(d(g,b,b+y>w?w:b+y));return m===1?(f=g[p-1],O.push(e[f>>2]+e[f<<4&63]+"==")):m===2&&(f=(g[p-2]<<8)+g[p-1],O.push(e[f>>10]+e[f>>4&63]+e[f<<2&63]+"=")),O.join("")}return n})(),vn={read:function(n,e,t,i,r){let s,o;const a=r*8-i-1,l=(1<<a)-1,h=l>>1;let c=-7,u=t?r-1:0;const d=t?-1:1;let x=n[e+u];for(u+=d,s=x&(1<<-c)-1,x>>=-c,c+=a;c>0;)s=s*256+n[e+u],u+=d,c-=8;for(o=s&(1<<-c)-1,s>>=-c,c+=i;c>0;)o=o*256+n[e+u],u+=d,c-=8;if(s===0)s=1-h;else{if(s===l)return o?NaN:(x?-1:1)*(1/0);o=o+Math.pow(2,i),s=s-h}return(x?-1:1)*o*Math.pow(2,s-i)},write:function(n,e,t,i,r,s){let o,a,l,h=s*8-r-1;const c=(1<<h)-1,u=c>>1,d=r===23?Math.pow(2,-24)-Math.pow(2,-77):0;let x=i?0:s-1;const g=i?1:-1,f=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=c):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+u>=1?e+=d/l:e+=d*Math.pow(2,1-u),e*l>=2&&(o++,l/=2),o+u>=c?(a=0,o=c):o+u>=1?(a=(e*l-1)*Math.pow(2,r),o=o+u):(a=e*Math.pow(2,u-1)*Math.pow(2,r),o=0));r>=8;)n[t+x]=a&255,x+=g,a/=256,r-=8;for(o=o<<r|a,h+=r;h>0;)n[t+x]=o&255,x+=g,o/=256,h-=8;n[t+x-g]|=f*128}},ac=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,K1=50,Ta=2147483647;F.TYPED_ARRAY_SUPPORT=ey();!F.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function ey(){try{const n=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(n,e),n.foo()===42}catch{return!1}}Object.defineProperty(F.prototype,"parent",{enumerable:!0,get:function(){if(!!F.isBuffer(this))return this.buffer}});Object.defineProperty(F.prototype,"offset",{enumerable:!0,get:function(){if(!!F.isBuffer(this))return this.byteOffset}});function Gt(n){if(n>Ta)throw new RangeError('The value "'+n+'" is invalid for option "size"');const e=new Uint8Array(n);return Object.setPrototypeOf(e,F.prototype),e}function F(n,e,t){if(typeof n=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return Hl(n)}return k0(n,e,t)}F.poolSize=8192;function k0(n,e,t){if(typeof n=="string")return iy(n,e);if(ArrayBuffer.isView(n))return ny(n);if(n==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n);if(Rt(n,ArrayBuffer)||n&&Rt(n.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(Rt(n,SharedArrayBuffer)||n&&Rt(n.buffer,SharedArrayBuffer)))return $a(n,e,t);if(typeof n=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const i=n.valueOf&&n.valueOf();if(i!=null&&i!==n)return F.from(i,e,t);const r=ry(n);if(r)return r;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof n[Symbol.toPrimitive]=="function")return F.from(n[Symbol.toPrimitive]("string"),e,t);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof n)}F.from=function(n,e,t){return k0(n,e,t)};Object.setPrototypeOf(F.prototype,Uint8Array.prototype);Object.setPrototypeOf(F,Uint8Array);function C0(n){if(typeof n!="number")throw new TypeError('"size" argument must be of type number');if(n<0)throw new RangeError('The value "'+n+'" is invalid for option "size"')}function ty(n,e,t){return C0(n),n<=0?Gt(n):e!==void 0?typeof t=="string"?Gt(n).fill(e,t):Gt(n).fill(e):Gt(n)}F.alloc=function(n,e,t){return ty(n,e,t)};function Hl(n){return C0(n),Gt(n<0?0:Kl(n)|0)}F.allocUnsafe=function(n){return Hl(n)};F.allocUnsafeSlow=function(n){return Hl(n)};function iy(n,e){if((typeof e!="string"||e==="")&&(e="utf8"),!F.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const t=D0(n,e)|0;let i=Gt(t);const r=i.write(n,e);return r!==t&&(i=i.slice(0,r)),i}function Fa(n){const e=n.length<0?0:Kl(n.length)|0,t=Gt(e);for(let i=0;i<e;i+=1)t[i]=n[i]&255;return t}function ny(n){if(Rt(n,Uint8Array)){const e=new Uint8Array(n);return $a(e.buffer,e.byteOffset,e.byteLength)}return Fa(n)}function $a(n,e,t){if(e<0||n.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(n.byteLength<e+(t||0))throw new RangeError('"length" is outside of buffer bounds');let i;return e===void 0&&t===void 0?i=new Uint8Array(n):t===void 0?i=new Uint8Array(n,e):i=new Uint8Array(n,e,t),Object.setPrototypeOf(i,F.prototype),i}function ry(n){if(F.isBuffer(n)){const e=Kl(n.length)|0,t=Gt(e);return t.length===0||n.copy(t,0,0,e),t}if(n.length!==void 0)return typeof n.length!="number"||th(n.length)?Gt(0):Fa(n);if(n.type==="Buffer"&&Array.isArray(n.data))return Fa(n.data)}function Kl(n){if(n>=Ta)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Ta.toString(16)+" bytes");return n|0}F.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==F.prototype};F.compare=function(e,t){if(Rt(e,Uint8Array)&&(e=F.from(e,e.offset,e.byteLength)),Rt(t,Uint8Array)&&(t=F.from(t,t.offset,t.byteLength)),!F.isBuffer(e)||!F.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let i=e.length,r=t.length;for(let s=0,o=Math.min(i,r);s<o;++s)if(e[s]!==t[s]){i=e[s],r=t[s];break}return i<r?-1:r<i?1:0};F.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};F.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return F.alloc(0);let i;if(t===void 0)for(t=0,i=0;i<e.length;++i)t+=e[i].length;const r=F.allocUnsafe(t);let s=0;for(i=0;i<e.length;++i){let o=e[i];if(Rt(o,Uint8Array))s+o.length>r.length?(F.isBuffer(o)||(o=F.from(o)),o.copy(r,s)):Uint8Array.prototype.set.call(r,o,s);else if(F.isBuffer(o))o.copy(r,s);else throw new TypeError('"list" argument must be an Array of Buffers');s+=o.length}return r};function D0(n,e){if(F.isBuffer(n))return n.length;if(ArrayBuffer.isView(n)||Rt(n,ArrayBuffer))return n.byteLength;if(typeof n!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof n);const t=n.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&t===0)return 0;let r=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":return Qa(n).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return t*2;case"hex":return t>>>1;case"base64":return I0(n).length;default:if(r)return i?-1:Qa(n).length;e=(""+e).toLowerCase(),r=!0}}F.byteLength=D0;function sy(n,e,t){let i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0,e>>>=0,t<=e))return"";for(n||(n="utf8");;)switch(n){case"hex":return xy(this,e,t);case"utf8":case"utf-8":return E0(this,e,t);case"ascii":return dy(this,e,t);case"latin1":case"binary":return py(this,e,t);case"base64":return uy(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return my(this,e,t);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(n+"").toLowerCase(),i=!0}}F.prototype._isBuffer=!0;function Ei(n,e,t){const i=n[e];n[e]=n[t],n[t]=i}F.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)Ei(this,t,t+1);return this};F.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)Ei(this,t,t+3),Ei(this,t+1,t+2);return this};F.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)Ei(this,t,t+7),Ei(this,t+1,t+6),Ei(this,t+2,t+5),Ei(this,t+3,t+4);return this};F.prototype.toString=function(){const e=this.length;return e===0?"":arguments.length===0?E0(this,0,e):sy.apply(this,arguments)};F.prototype.toLocaleString=F.prototype.toString;F.prototype.equals=function(e){if(!F.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:F.compare(this,e)===0};F.prototype.inspect=function(){let e="";const t=K1;return e=this.toString("hex",0,t).replace(/(.{2})/g,"$1 ").trim(),this.length>t&&(e+=" ... "),"<Buffer "+e+">"};ac&&(F.prototype[ac]=F.prototype.inspect);F.prototype.compare=function(e,t,i,r,s){if(Rt(e,Uint8Array)&&(e=F.from(e,e.offset,e.byteLength)),!F.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(t===void 0&&(t=0),i===void 0&&(i=e?e.length:0),r===void 0&&(r=0),s===void 0&&(s=this.length),t<0||i>e.length||r<0||s>this.length)throw new RangeError("out of range index");if(r>=s&&t>=i)return 0;if(r>=s)return-1;if(t>=i)return 1;if(t>>>=0,i>>>=0,r>>>=0,s>>>=0,this===e)return 0;let o=s-r,a=i-t;const l=Math.min(o,a),h=this.slice(r,s),c=e.slice(t,i);for(let u=0;u<l;++u)if(h[u]!==c[u]){o=h[u],a=c[u];break}return o<a?-1:a<o?1:0};function A0(n,e,t,i,r){if(n.length===0)return-1;if(typeof t=="string"?(i=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,th(t)&&(t=r?0:n.length-1),t<0&&(t=n.length+t),t>=n.length){if(r)return-1;t=n.length-1}else if(t<0)if(r)t=0;else return-1;if(typeof e=="string"&&(e=F.from(e,i)),F.isBuffer(e))return e.length===0?-1:lc(n,e,t,i,r);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?r?Uint8Array.prototype.indexOf.call(n,e,t):Uint8Array.prototype.lastIndexOf.call(n,e,t):lc(n,[e],t,i,r);throw new TypeError("val must be string, number or Buffer")}function lc(n,e,t,i,r){let s=1,o=n.length,a=e.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(n.length<2||e.length<2)return-1;s=2,o/=2,a/=2,t/=2}function l(c,u){return s===1?c[u]:c.readUInt16BE(u*s)}let h;if(r){let c=-1;for(h=t;h<o;h++)if(l(n,h)===l(e,c===-1?0:h-c)){if(c===-1&&(c=h),h-c+1===a)return c*s}else c!==-1&&(h-=h-c),c=-1}else for(t+a>o&&(t=o-a),h=t;h>=0;h--){let c=!0;for(let u=0;u<a;u++)if(l(n,h+u)!==l(e,u)){c=!1;break}if(c)return h}return-1}F.prototype.includes=function(e,t,i){return this.indexOf(e,t,i)!==-1};F.prototype.indexOf=function(e,t,i){return A0(this,e,t,i,!0)};F.prototype.lastIndexOf=function(e,t,i){return A0(this,e,t,i,!1)};function oy(n,e,t,i){t=Number(t)||0;const r=n.length-t;i?(i=Number(i),i>r&&(i=r)):i=r;const s=e.length;i>s/2&&(i=s/2);let o;for(o=0;o<i;++o){const a=parseInt(e.substr(o*2,2),16);if(th(a))return o;n[t+o]=a}return o}function ay(n,e,t,i){return uo(Qa(e,n.length-t),n,t,i)}function ly(n,e,t,i){return uo(by(e),n,t,i)}function hy(n,e,t,i){return uo(I0(e),n,t,i)}function cy(n,e,t,i){return uo(Sy(e,n.length-t),n,t,i)}F.prototype.write=function(e,t,i,r){if(t===void 0)r="utf8",i=this.length,t=0;else if(i===void 0&&typeof t=="string")r=t,i=this.length,t=0;else if(isFinite(t))t=t>>>0,isFinite(i)?(i=i>>>0,r===void 0&&(r="utf8")):(r=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const s=this.length-t;if((i===void 0||i>s)&&(i=s),e.length>0&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let o=!1;for(;;)switch(r){case"hex":return oy(this,e,t,i);case"utf8":case"utf-8":return ay(this,e,t,i);case"ascii":case"latin1":case"binary":return ly(this,e,t,i);case"base64":return hy(this,e,t,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return cy(this,e,t,i);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}};F.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function uy(n,e,t){return e===0&&t===n.length?Ea.fromByteArray(n):Ea.fromByteArray(n.slice(e,t))}function E0(n,e,t){t=Math.min(n.length,t);const i=[];let r=e;for(;r<t;){const s=n[r];let o=null,a=s>239?4:s>223?3:s>191?2:1;if(r+a<=t){let l,h,c,u;switch(a){case 1:s<128&&(o=s);break;case 2:l=n[r+1],(l&192)===128&&(u=(s&31)<<6|l&63,u>127&&(o=u));break;case 3:l=n[r+1],h=n[r+2],(l&192)===128&&(h&192)===128&&(u=(s&15)<<12|(l&63)<<6|h&63,u>2047&&(u<55296||u>57343)&&(o=u));break;case 4:l=n[r+1],h=n[r+2],c=n[r+3],(l&192)===128&&(h&192)===128&&(c&192)===128&&(u=(s&15)<<18|(l&63)<<12|(h&63)<<6|c&63,u>65535&&u<1114112&&(o=u))}}o===null?(o=65533,a=1):o>65535&&(o-=65536,i.push(o>>>10&1023|55296),o=56320|o&1023),i.push(o),r+=a}return fy(i)}const hc=4096;function fy(n){const e=n.length;if(e<=hc)return String.fromCharCode.apply(String,n);let t="",i=0;for(;i<e;)t+=String.fromCharCode.apply(String,n.slice(i,i+=hc));return t}function dy(n,e,t){let i="";t=Math.min(n.length,t);for(let r=e;r<t;++r)i+=String.fromCharCode(n[r]&127);return i}function py(n,e,t){let i="";t=Math.min(n.length,t);for(let r=e;r<t;++r)i+=String.fromCharCode(n[r]);return i}function xy(n,e,t){const i=n.length;(!e||e<0)&&(e=0),(!t||t<0||t>i)&&(t=i);let r="";for(let s=e;s<t;++s)r+=wy[n[s]];return r}function my(n,e,t){const i=n.slice(e,t);let r="";for(let s=0;s<i.length-1;s+=2)r+=String.fromCharCode(i[s]+i[s+1]*256);return r}F.prototype.slice=function(e,t){const i=this.length;e=~~e,t=t===void 0?i:~~t,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,F.prototype),r};function Fe(n,e,t){if(n%1!==0||n<0)throw new RangeError("offset is not uint");if(n+e>t)throw new RangeError("Trying to access beyond buffer length")}F.prototype.readUintLE=F.prototype.readUIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||Fe(e,t,this.length);let r=this[e],s=1,o=0;for(;++o<t&&(s*=256);)r+=this[e+o]*s;return r};F.prototype.readUintBE=F.prototype.readUIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||Fe(e,t,this.length);let r=this[e+--t],s=1;for(;t>0&&(s*=256);)r+=this[e+--t]*s;return r};F.prototype.readUint8=F.prototype.readUInt8=function(e,t){return e=e>>>0,t||Fe(e,1,this.length),this[e]};F.prototype.readUint16LE=F.prototype.readUInt16LE=function(e,t){return e=e>>>0,t||Fe(e,2,this.length),this[e]|this[e+1]<<8};F.prototype.readUint16BE=F.prototype.readUInt16BE=function(e,t){return e=e>>>0,t||Fe(e,2,this.length),this[e]<<8|this[e+1]};F.prototype.readUint32LE=F.prototype.readUInt32LE=function(e,t){return e=e>>>0,t||Fe(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};F.prototype.readUint32BE=F.prototype.readUInt32BE=function(e,t){return e=e>>>0,t||Fe(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};F.prototype.readBigUInt64LE=vi(function(e){e=e>>>0,kn(e,"offset");const t=this[e],i=this[e+7];(t===void 0||i===void 0)&&vr(e,this.length-8);const r=t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,s=this[++e]+this[++e]*2**8+this[++e]*2**16+i*2**24;return BigInt(r)+(BigInt(s)<<BigInt(32))});F.prototype.readBigUInt64BE=vi(function(e){e=e>>>0,kn(e,"offset");const t=this[e],i=this[e+7];(t===void 0||i===void 0)&&vr(e,this.length-8);const r=t*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],s=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i;return(BigInt(r)<<BigInt(32))+BigInt(s)});F.prototype.readIntLE=function(e,t,i){e=e>>>0,t=t>>>0,i||Fe(e,t,this.length);let r=this[e],s=1,o=0;for(;++o<t&&(s*=256);)r+=this[e+o]*s;return s*=128,r>=s&&(r-=Math.pow(2,8*t)),r};F.prototype.readIntBE=function(e,t,i){e=e>>>0,t=t>>>0,i||Fe(e,t,this.length);let r=t,s=1,o=this[e+--r];for(;r>0&&(s*=256);)o+=this[e+--r]*s;return s*=128,o>=s&&(o-=Math.pow(2,8*t)),o};F.prototype.readInt8=function(e,t){return e=e>>>0,t||Fe(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]};F.prototype.readInt16LE=function(e,t){e=e>>>0,t||Fe(e,2,this.length);const i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i};F.prototype.readInt16BE=function(e,t){e=e>>>0,t||Fe(e,2,this.length);const i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i};F.prototype.readInt32LE=function(e,t){return e=e>>>0,t||Fe(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};F.prototype.readInt32BE=function(e,t){return e=e>>>0,t||Fe(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};F.prototype.readBigInt64LE=vi(function(e){e=e>>>0,kn(e,"offset");const t=this[e],i=this[e+7];(t===void 0||i===void 0)&&vr(e,this.length-8);const r=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(i<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)});F.prototype.readBigInt64BE=vi(function(e){e=e>>>0,kn(e,"offset");const t=this[e],i=this[e+7];(t===void 0||i===void 0)&&vr(e,this.length-8);const r=(t<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i)});F.prototype.readFloatLE=function(e,t){return e=e>>>0,t||Fe(e,4,this.length),vn.read(this,e,!0,23,4)};F.prototype.readFloatBE=function(e,t){return e=e>>>0,t||Fe(e,4,this.length),vn.read(this,e,!1,23,4)};F.prototype.readDoubleLE=function(e,t){return e=e>>>0,t||Fe(e,8,this.length),vn.read(this,e,!0,52,8)};F.prototype.readDoubleBE=function(e,t){return e=e>>>0,t||Fe(e,8,this.length),vn.read(this,e,!1,52,8)};function et(n,e,t,i,r,s){if(!F.isBuffer(n))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<s)throw new RangeError('"value" argument is out of bounds');if(t+i>n.length)throw new RangeError("Index out of range")}F.prototype.writeUintLE=F.prototype.writeUIntLE=function(e,t,i,r){if(e=+e,t=t>>>0,i=i>>>0,!r){const a=Math.pow(2,8*i)-1;et(this,e,t,i,a,0)}let s=1,o=0;for(this[t]=e&255;++o<i&&(s*=256);)this[t+o]=e/s&255;return t+i};F.prototype.writeUintBE=F.prototype.writeUIntBE=function(e,t,i,r){if(e=+e,t=t>>>0,i=i>>>0,!r){const a=Math.pow(2,8*i)-1;et(this,e,t,i,a,0)}let s=i-1,o=1;for(this[t+s]=e&255;--s>=0&&(o*=256);)this[t+s]=e/o&255;return t+i};F.prototype.writeUint8=F.prototype.writeUInt8=function(e,t,i){return e=+e,t=t>>>0,i||et(this,e,t,1,255,0),this[t]=e&255,t+1};F.prototype.writeUint16LE=F.prototype.writeUInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||et(this,e,t,2,65535,0),this[t]=e&255,this[t+1]=e>>>8,t+2};F.prototype.writeUint16BE=F.prototype.writeUInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||et(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=e&255,t+2};F.prototype.writeUint32LE=F.prototype.writeUInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||et(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=e&255,t+4};F.prototype.writeUint32BE=F.prototype.writeUInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||et(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};function T0(n,e,t,i,r){R0(e,i,r,n,t,7);let s=Number(e&BigInt(4294967295));n[t++]=s,s=s>>8,n[t++]=s,s=s>>8,n[t++]=s,s=s>>8,n[t++]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return n[t++]=o,o=o>>8,n[t++]=o,o=o>>8,n[t++]=o,o=o>>8,n[t++]=o,t}function F0(n,e,t,i,r){R0(e,i,r,n,t,7);let s=Number(e&BigInt(4294967295));n[t+7]=s,s=s>>8,n[t+6]=s,s=s>>8,n[t+5]=s,s=s>>8,n[t+4]=s;let o=Number(e>>BigInt(32)&BigInt(4294967295));return n[t+3]=o,o=o>>8,n[t+2]=o,o=o>>8,n[t+1]=o,o=o>>8,n[t]=o,t+8}F.prototype.writeBigUInt64LE=vi(function(e,t=0){return T0(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});F.prototype.writeBigUInt64BE=vi(function(e,t=0){return F0(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))});F.prototype.writeIntLE=function(e,t,i,r){if(e=+e,t=t>>>0,!r){const l=Math.pow(2,8*i-1);et(this,e,t,i,l-1,-l)}let s=0,o=1,a=0;for(this[t]=e&255;++s<i&&(o*=256);)e<0&&a===0&&this[t+s-1]!==0&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+i};F.prototype.writeIntBE=function(e,t,i,r){if(e=+e,t=t>>>0,!r){const l=Math.pow(2,8*i-1);et(this,e,t,i,l-1,-l)}let s=i-1,o=1,a=0;for(this[t+s]=e&255;--s>=0&&(o*=256);)e<0&&a===0&&this[t+s+1]!==0&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+i};F.prototype.writeInt8=function(e,t,i){return e=+e,t=t>>>0,i||et(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=e&255,t+1};F.prototype.writeInt16LE=function(e,t,i){return e=+e,t=t>>>0,i||et(this,e,t,2,32767,-32768),this[t]=e&255,this[t+1]=e>>>8,t+2};F.prototype.writeInt16BE=function(e,t,i){return e=+e,t=t>>>0,i||et(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=e&255,t+2};F.prototype.writeInt32LE=function(e,t,i){return e=+e,t=t>>>0,i||et(this,e,t,4,2147483647,-2147483648),this[t]=e&255,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4};F.prototype.writeInt32BE=function(e,t,i){return e=+e,t=t>>>0,i||et(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=e&255,t+4};F.prototype.writeBigInt64LE=vi(function(e,t=0){return T0(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});F.prototype.writeBigInt64BE=vi(function(e,t=0){return F0(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function $0(n,e,t,i,r,s){if(t+i>n.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function Q0(n,e,t,i,r){return e=+e,t=t>>>0,r||$0(n,e,t,4),vn.write(n,e,t,i,23,4),t+4}F.prototype.writeFloatLE=function(e,t,i){return Q0(this,e,t,!0,i)};F.prototype.writeFloatBE=function(e,t,i){return Q0(this,e,t,!1,i)};function P0(n,e,t,i,r){return e=+e,t=t>>>0,r||$0(n,e,t,8),vn.write(n,e,t,i,52,8),t+8}F.prototype.writeDoubleLE=function(e,t,i){return P0(this,e,t,!0,i)};F.prototype.writeDoubleBE=function(e,t,i){return P0(this,e,t,!1,i)};F.prototype.copy=function(e,t,i,r){if(!F.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),!r&&r!==0&&(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<i&&(r=i),r===i||e.length===0||this.length===0)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-i&&(r=e.length-t+i);const s=r-i;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(t,i,r):Uint8Array.prototype.set.call(e,this.subarray(i,r),t),s};F.prototype.fill=function(e,t,i,r){if(typeof e=="string"){if(typeof t=="string"?(r=t,t=0,i=this.length):typeof i=="string"&&(r=i,i=this.length),r!==void 0&&typeof r!="string")throw new TypeError("encoding must be a string");if(typeof r=="string"&&!F.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(e.length===1){const o=e.charCodeAt(0);(r==="utf8"&&o<128||r==="latin1")&&(e=o)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;t=t>>>0,i=i===void 0?this.length:i>>>0,e||(e=0);let s;if(typeof e=="number")for(s=t;s<i;++s)this[s]=e;else{const o=F.isBuffer(e)?e:F.from(e,r),a=o.length;if(a===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<i-t;++s)this[s+t]=o[s%a]}return this};const rn={};function eh(n,e,t){rn[n]=class extends t{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${n}]`,this.stack,delete this.name}get code(){return n}set code(r){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:r,writable:!0})}toString(){return`${this.name} [${n}]: ${this.message}`}}}eh("ERR_BUFFER_OUT_OF_BOUNDS",function(n){return n?`${n} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError);eh("ERR_INVALID_ARG_TYPE",function(n,e){return`The "${n}" argument must be of type number. Received type ${typeof e}`},TypeError);eh("ERR_OUT_OF_RANGE",function(n,e,t){let i=`The value of "${n}" is out of range.`,r=t;return Number.isInteger(t)&&Math.abs(t)>2**32?r=cc(String(t)):typeof t=="bigint"&&(r=String(t),(t>BigInt(2)**BigInt(32)||t<-(BigInt(2)**BigInt(32)))&&(r=cc(r)),r+="n"),i+=` It must be ${e}. Received ${r}`,i},RangeError);function cc(n){let e="",t=n.length;const i=n[0]==="-"?1:0;for(;t>=i+4;t-=3)e=`_${n.slice(t-3,t)}${e}`;return`${n.slice(0,t)}${e}`}function gy(n,e,t){kn(e,"offset"),(n[e]===void 0||n[e+t]===void 0)&&vr(e,n.length-(t+1))}function R0(n,e,t,i,r,s){if(n>t||n<e){const o=typeof e=="bigint"?"n":"";let a;throw s>3?e===0||e===BigInt(0)?a=`>= 0${o} and < 2${o} ** ${(s+1)*8}${o}`:a=`>= -(2${o} ** ${(s+1)*8-1}${o}) and < 2 ** ${(s+1)*8-1}${o}`:a=`>= ${e}${o} and <= ${t}${o}`,new rn.ERR_OUT_OF_RANGE("value",a,n)}gy(i,r,s)}function kn(n,e){if(typeof n!="number")throw new rn.ERR_INVALID_ARG_TYPE(e,"number",n)}function vr(n,e,t){throw Math.floor(n)!==n?(kn(n,t),new rn.ERR_OUT_OF_RANGE(t||"offset","an integer",n)):e<0?new rn.ERR_BUFFER_OUT_OF_BOUNDS:new rn.ERR_OUT_OF_RANGE(t||"offset",`>= ${t?1:0} and <= ${e}`,n)}const Oy=/[^+/0-9A-Za-z-_]/g;function yy(n){if(n=n.split("=")[0],n=n.trim().replace(Oy,""),n.length<2)return"";for(;n.length%4!==0;)n=n+"=";return n}function Qa(n,e){e=e||1/0;let t;const i=n.length;let r=null;const s=[];for(let o=0;o<i;++o){if(t=n.charCodeAt(o),t>55295&&t<57344){if(!r){if(t>56319){(e-=3)>-1&&s.push(239,191,189);continue}else if(o+1===i){(e-=3)>-1&&s.push(239,191,189);continue}r=t;continue}if(t<56320){(e-=3)>-1&&s.push(239,191,189),r=t;continue}t=(r-55296<<10|t-56320)+65536}else r&&(e-=3)>-1&&s.push(239,191,189);if(r=null,t<128){if((e-=1)<0)break;s.push(t)}else if(t<2048){if((e-=2)<0)break;s.push(t>>6|192,t&63|128)}else if(t<65536){if((e-=3)<0)break;s.push(t>>12|224,t>>6&63|128,t&63|128)}else if(t<1114112){if((e-=4)<0)break;s.push(t>>18|240,t>>12&63|128,t>>6&63|128,t&63|128)}else throw new Error("Invalid code point")}return s}function by(n){const e=[];for(let t=0;t<n.length;++t)e.push(n.charCodeAt(t)&255);return e}function Sy(n,e){let t,i,r;const s=[];for(let o=0;o<n.length&&!((e-=2)<0);++o)t=n.charCodeAt(o),i=t>>8,r=t%256,s.push(r),s.push(i);return s}function I0(n){return Ea.toByteArray(yy(n))}function uo(n,e,t,i){let r;for(r=0;r<i&&!(r+t>=e.length||r>=n.length);++r)e[r+t]=n[r];return r}function Rt(n,e){return n instanceof e||n!=null&&n.constructor!=null&&n.constructor.name!=null&&n.constructor.name===e.name}function th(n){return n!==n}const wy=function(){const n="0123456789abcdef",e=new Array(256);for(let t=0;t<16;++t){const i=t*16;for(let r=0;r<16;++r)e[i+r]=n[t]+n[r]}return e}();function vi(n){return typeof BigInt=="undefined"?vy:n}function vy(){throw new Error("BigInt not supported")}const ky=(n,e=0)=>{let t=~~e,i=0;for(let r=0;r<n.length;r++)i+=n[r];return t+=i%256,t%256},uc=(n,e)=>F.from(n,e);function St(n,e){const t=(i,r)=>e(uc(i),r)>>>0;return t.signed=(i,r)=>e(uc(i),r),t.unsigned=t,t.model=n,t}St("crc1",ky);let Pa=[0,7,14,9,28,27,18,21,56,63,54,49,36,35,42,45,112,119,126,121,108,107,98,101,72,79,70,65,84,83,90,93,224,231,238,233,252,251,242,245,216,223,214,209,196,195,202,205,144,151,158,153,140,139,130,133,168,175,166,161,180,179,186,189,199,192,201,206,219,220,213,210,255,248,241,246,227,228,237,234,183,176,185,190,171,172,165,162,143,136,129,134,147,148,157,154,39,32,41,46,59,60,53,50,31,24,17,22,3,4,13,10,87,80,89,94,75,76,69,66,111,104,97,102,115,116,125,122,137,142,135,128,149,146,155,156,177,182,191,184,173,170,163,164,249,254,247,240,229,226,235,236,193,198,207,200,221,218,211,212,105,110,103,96,117,114,123,124,81,86,95,88,77,74,67,68,25,30,23,16,5,2,11,12,33,38,47,40,61,58,51,52,78,73,64,71,82,85,92,91,118,113,120,127,106,109,100,99,62,57,48,55,34,37,44,43,6,1,8,15,26,29,20,19,174,169,160,167,178,181,188,187,150,145,152,159,138,141,132,131,222,217,208,215,194,197,204,203,230,225,232,239,250,253,244,243];typeof Int32Array!="undefined"&&(Pa=new Int32Array(Pa));const Cy=(n,e=0)=>{let t=~~e;for(let i=0;i<n.length;i++)t=Pa[(t^n[i])&255]&255;return t};St("crc-8",Cy);let Ra=[0,94,188,226,97,63,221,131,194,156,126,32,163,253,31,65,157,195,33,127,252,162,64,30,95,1,227,189,62,96,130,220,35,125,159,193,66,28,254,160,225,191,93,3,128,222,60,98,190,224,2,92,223,129,99,61,124,34,192,158,29,67,161,255,70,24,250,164,39,121,155,197,132,218,56,102,229,187,89,7,219,133,103,57,186,228,6,88,25,71,165,251,120,38,196,154,101,59,217,135,4,90,184,230,167,249,27,69,198,152,122,36,248,166,68,26,153,199,37,123,58,100,134,216,91,5,231,185,140,210,48,110,237,179,81,15,78,16,242,172,47,113,147,205,17,79,173,243,112,46,204,146,211,141,111,49,178,236,14,80,175,241,19,77,206,144,114,44,109,51,209,143,12,82,176,238,50,108,142,208,83,13,239,177,240,174,76,18,145,207,45,115,202,148,118,40,171,245,23,73,8,86,180,234,105,55,213,139,87,9,235,181,54,104,138,212,149,203,41,119,244,170,72,22,233,183,85,11,136,214,52,106,43,117,151,201,74,20,246,168,116,42,200,150,21,75,169,247,182,232,10,84,215,137,107,53];typeof Int32Array!="undefined"&&(Ra=new Int32Array(Ra));const Dy=(n,e=0)=>{let t=~~e;for(let i=0;i<n.length;i++)t=Ra[(t^n[i])&255]&255;return t};St("dallas-1-wire",Dy);let Ia=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];typeof Int32Array!="undefined"&&(Ia=new Int32Array(Ia));const Ay=(n,e=0)=>{let t=~~e;for(let i=0;i<n.length;i++)t=(Ia[(t^n[i])&255]^t>>8)&65535;return t};St("crc-16",Ay);let Ba=[0,4129,8258,12387,16516,20645,24774,28903,33032,37161,41290,45419,49548,53677,57806,61935,4657,528,12915,8786,21173,17044,29431,25302,37689,33560,45947,41818,54205,50076,62463,58334,9314,13379,1056,5121,25830,29895,17572,21637,42346,46411,34088,38153,58862,62927,50604,54669,13907,9842,5649,1584,30423,26358,22165,18100,46939,42874,38681,34616,63455,59390,55197,51132,18628,22757,26758,30887,2112,6241,10242,14371,51660,55789,59790,63919,35144,39273,43274,47403,23285,19156,31415,27286,6769,2640,14899,10770,56317,52188,64447,60318,39801,35672,47931,43802,27814,31879,19684,23749,11298,15363,3168,7233,60846,64911,52716,56781,44330,48395,36200,40265,32407,28342,24277,20212,15891,11826,7761,3696,65439,61374,57309,53244,48923,44858,40793,36728,37256,33193,45514,41451,53516,49453,61774,57711,4224,161,12482,8419,20484,16421,28742,24679,33721,37784,41979,46042,49981,54044,58239,62302,689,4752,8947,13010,16949,21012,25207,29270,46570,42443,38312,34185,62830,58703,54572,50445,13538,9411,5280,1153,29798,25671,21540,17413,42971,47098,34713,38840,59231,63358,50973,55100,9939,14066,1681,5808,26199,30326,17941,22068,55628,51565,63758,59695,39368,35305,47498,43435,22596,18533,30726,26663,6336,2273,14466,10403,52093,56156,60223,64286,35833,39896,43963,48026,19061,23124,27191,31254,2801,6864,10931,14994,64814,60687,56684,52557,48554,44427,40424,36297,31782,27655,23652,19525,15522,11395,7392,3265,61215,65342,53085,57212,44955,49082,36825,40952,28183,32310,20053,24180,11923,16050,3793,7920];typeof Int32Array!="undefined"&&(Ba=new Int32Array(Ba));const Ey=(n,e)=>{let t=typeof e!="undefined"?~~e:65535;for(let i=0;i<n.length;i++)t=(Ba[(t>>8^n[i])&255]^t<<8)&65535;return t};St("ccitt",Ey);let Ma=[0,49345,49537,320,49921,960,640,49729,50689,1728,1920,51009,1280,50625,50305,1088,52225,3264,3456,52545,3840,53185,52865,3648,2560,51905,52097,2880,51457,2496,2176,51265,55297,6336,6528,55617,6912,56257,55937,6720,7680,57025,57217,8e3,56577,7616,7296,56385,5120,54465,54657,5440,55041,6080,5760,54849,53761,4800,4992,54081,4352,53697,53377,4160,61441,12480,12672,61761,13056,62401,62081,12864,13824,63169,63361,14144,62721,13760,13440,62529,15360,64705,64897,15680,65281,16320,16e3,65089,64001,15040,15232,64321,14592,63937,63617,14400,10240,59585,59777,10560,60161,11200,10880,59969,60929,11968,12160,61249,11520,60865,60545,11328,58369,9408,9600,58689,9984,59329,59009,9792,8704,58049,58241,9024,57601,8640,8320,57409,40961,24768,24960,41281,25344,41921,41601,25152,26112,42689,42881,26432,42241,26048,25728,42049,27648,44225,44417,27968,44801,28608,28288,44609,43521,27328,27520,43841,26880,43457,43137,26688,30720,47297,47489,31040,47873,31680,31360,47681,48641,32448,32640,48961,32e3,48577,48257,31808,46081,29888,30080,46401,30464,47041,46721,30272,29184,45761,45953,29504,45313,29120,28800,45121,20480,37057,37249,20800,37633,21440,21120,37441,38401,22208,22400,38721,21760,38337,38017,21568,39937,23744,23936,40257,24320,40897,40577,24128,23040,39617,39809,23360,39169,22976,22656,38977,34817,18624,18816,35137,19200,35777,35457,19008,19968,36545,36737,20288,36097,19904,19584,35905,17408,33985,34177,17728,34561,18368,18048,34369,33281,17088,17280,33601,16640,33217,32897,16448];typeof Int32Array!="undefined"&&(Ma=new Int32Array(Ma));const Ty=(n,e)=>{let t=typeof e!="undefined"?~~e:65535;for(let i=0;i<n.length;i++)t=(Ma[(t^n[i])&255]^t>>8)&65535;return t};St("crc-16-modbus",Ty);const Fy=(n,e)=>{let t=typeof e!="undefined"?~~e:0;for(let i=0;i<n.length;i++){let r=t>>>8&255;r^=n[i]&255,r^=r>>>4,t=t<<8&65535,t^=r,r=r<<5&65535,t^=r,r=r<<7&65535,t^=r}return t},$y=St("xmodem",Fy);let Wa=[0,4489,8978,12955,17956,22445,25910,29887,35912,40385,44890,48851,51820,56293,59774,63735,4225,264,13203,8730,22181,18220,30135,25662,40137,36160,49115,44626,56045,52068,63999,59510,8450,12427,528,5017,26406,30383,17460,21949,44362,48323,36440,40913,60270,64231,51324,55797,12675,8202,4753,792,30631,26158,21685,17724,48587,44098,40665,36688,64495,60006,55549,51572,16900,21389,24854,28831,1056,5545,10034,14011,52812,57285,60766,64727,34920,39393,43898,47859,21125,17164,29079,24606,5281,1320,14259,9786,57037,53060,64991,60502,39145,35168,48123,43634,25350,29327,16404,20893,9506,13483,1584,6073,61262,65223,52316,56789,43370,47331,35448,39921,29575,25102,20629,16668,13731,9258,5809,1848,65487,60998,56541,52564,47595,43106,39673,35696,33800,38273,42778,46739,49708,54181,57662,61623,2112,6601,11090,15067,20068,24557,28022,31999,38025,34048,47003,42514,53933,49956,61887,57398,6337,2376,15315,10842,24293,20332,32247,27774,42250,46211,34328,38801,58158,62119,49212,53685,10562,14539,2640,7129,28518,32495,19572,24061,46475,41986,38553,34576,62383,57894,53437,49460,14787,10314,6865,2904,32743,28270,23797,19836,50700,55173,58654,62615,32808,37281,41786,45747,19012,23501,26966,30943,3168,7657,12146,16123,54925,50948,62879,58390,37033,33056,46011,41522,23237,19276,31191,26718,7393,3432,16371,11898,59150,63111,50204,54677,41258,45219,33336,37809,27462,31439,18516,23005,11618,15595,3696,8185,63375,58886,54429,50452,45483,40994,37561,33584,31687,27214,22741,18780,15843,11370,7921,3960];typeof Int32Array!="undefined"&&(Wa=new Int32Array(Wa));const Qy=(n,e)=>{let t=typeof e!="undefined"?~~e:0;for(let i=0;i<n.length;i++)t=(Wa[(t^n[i])&255]^t>>8)&65535;return t};St("kermit",Qy);let Na=[0,8801531,9098509,825846,9692897,1419802,1651692,10452759,10584377,2608578,2839604,11344079,3303384,11807523,12104405,4128302,12930697,4391538,5217156,13227903,5679208,13690003,14450021,5910942,6606768,14844747,15604413,6837830,16197969,7431594,8256604,16494759,840169,9084178,8783076,18463,10434312,1670131,1434117,9678590,11358416,2825259,2590173,10602790,4109873,12122826,11821884,3289031,13213536,5231515,4409965,12912278,5929345,14431610,13675660,5693559,6823513,15618722,14863188,6588335,16513208,8238147,7417269,16212302,1680338,10481449,9664223,1391140,9061683,788936,36926,8838341,12067563,4091408,3340262,11844381,2868234,11372785,10555655,2579964,14478683,5939616,5650518,13661357,5180346,13190977,12967607,4428364,8219746,16457881,16234863,7468436,15633027,6866552,6578062,14816117,1405499,9649856,10463030,1698765,8819930,55329,803287,9047340,11858690,3325945,4072975,12086004,2561507,10574104,11387118,2853909,13647026,5664841,5958079,14460228,4446803,12949160,13176670,5194661,7454091,16249200,16476294,8201341,14834538,6559633,6852199,15647388,3360676,11864927,12161705,4185682,10527045,2551230,2782280,11286707,9619101,1346150,1577872,10379115,73852,8875143,9172337,899466,16124205,7357910,8182816,16421083,6680524,14918455,15678145,6911546,5736468,13747439,14507289,5968354,12873461,4334094,5159928,13170435,4167245,12180150,11879232,3346363,11301036,2767959,2532769,10545498,10360692,1596303,1360505,9604738,913813,9157998,8856728,92259,16439492,8164415,7343561,16138546,6897189,15692510,14936872,6662099,5986813,14488838,13733104,5750795,13156124,5174247,4352529,12855018,2810998,11315341,10498427,2522496,12124823,4148844,3397530,11901793,9135439,862644,110658,8912057,1606574,10407765,9590435,1317464,15706879,6940164,6651890,14889737,8145950,16384229,16161043,7394792,5123014,13133629,12910283,4370992,14535975,5997020,5707818,13718737,2504095,10516836,11329682,2796649,11916158,3383173,4130419,12143240,8893606,129117,876971,9121104,1331783,9576124,10389322,1625009,14908182,6633453,6925851,15721184,7380471,16175372,16402682,8127489,4389423,12891860,13119266,5137369,13704398,5722165,6015427,14517560];typeof Int32Array!="undefined"&&(Na=new Int32Array(Na));const Py=(n,e)=>{let t=typeof e!="undefined"?~~e:11994318;for(let i=0;i<n.length;i++)t=(Na[(t>>16^n[i])&255]^t<<8)&16777215;return t};St("crc-24",Py);let La=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array!="undefined"&&(La=new Int32Array(La));const Ry=(n,e)=>{let t=e===0?0:~~e^-1;for(let i=0;i<n.length;i++)t=La[(t^n[i])&255]^t>>>8;return t^-1};St("crc-32",Ry);let Xa=[0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117];typeof Int32Array!="undefined"&&(Xa=new Int32Array(Xa));const Iy=(n,e=-1)=>{let t=e===0?0:~~e;for(let i=0;i<n.length;i++)t=Xa[(t^n[i])&255]^t>>>8;return t};St("jam",Iy);const Vi=1024,fc=2,By=4,My=6,Wy=21,Ny=24,Ly=67;function Xy(n,e){var t=F.alloc(Vi,0),i=0;return n&&(t.write(n,i),i=n.length+1),e&&t.write(e.toString()+" ",i),t}function dc(n,e,t){if(n.byteLength>e){for(var i=[],r=0,s=r+e-1;r<n.byteLength;){s>=n.byteLength&&(s=n.byteLength-1);var o=F.alloc(t||s-r+1,255);n.copy(o,0,r,s+1),i.push(o),r=r+e,s=r+e-1}return i}else{var a=F.alloc(t||e,255);return n.copy(a,0,0,n.byteLength),[a]}}function Uy(n,e,t){return new Promise((i,r)=>{var s=[],o=0,a=0,l=0,h=!1,c=!1,u=!1;t=F.from(t.buffer);function d(O){async function y(){var b=dc(O,256);for(const S of b){var w=new Uint8Array(S.buffer);await n.write(w,"binary")}}return y()}function x(){if(l<s.length){var O=F.alloc(3+Vi+2);O[0]=fc,O[1]=l,O[2]=255-O[1];var y=s[l];y.copy(O,3);var b=$y(y);O.writeUInt16BE(b,O.byteLength-2),d(O)}else c&&d(F.from([By]))}function g(O){for(var y=0;y<O.byteLength;y++)if(!u){var b=O[y];if(b===Ly)c||(x(),c=!0);else if(b===My){if(h||f(),c)if(l<s.length)a<o&&(a=(l+1)*Vi,a>o&&(a=o)),l++,x();else{c=!1,h=!1;var w=F.alloc(Vi+5,0);w[0]=fc,w[1]=0,w[2]=255,d(w)}}else b===Wy?x():b===Ny&&f()}}function f(){h=!1,c=!1,n.removeListener("data",g),u||i({filePath:e,totalBytes:o,writtenBytes:a}),u=!0}o=t.byteLength;var p=Xy(e,o);s.push(p);var m=dc(t,Vi,Vi);m.forEach(O=>{s.push(O)}),h=!0,n.on("data",g)})}let _t;function pc(n){return new Promise(e=>{setTimeout(()=>{e()},n)})}function xc(n){const e=[...n.data],{width:t,height:i}=n,r=new Uint8Array(t*i*2),s=(a,l,h)=>(a&248)<<8|(l&252)<<3|h>>3;for(let a=0;a<t;a++)for(let l=0;l<i;l++){let h=l*t+a;const[c,u,d,x]=e.slice(h*4,(h+1)*4);if(x<255)continue;const g=s(Math.max(d,5),Math.max(u,5),Math.max(c,5));r[h*2+0]=g>>8,r[h*2+1]=g}return`{
    data: new Uint16Array([${[...new Uint16Array(r.buffer)]}]),
    width: ${t},
    height: ${i}
  }`}let jt;const Ua={list:(()=>{var t;const n=JSON.parse((t=localStorage.getItem("beaker-games"))!=null?t:"[]"),e=Array.isArray(n)?n:[];return[...Array(3)].map((i,r)=>{var s;return(s=e[r])!=null?s:{name:"<empty>",code:""}})})(),save(){localStorage.setItem("beaker-games",JSON.stringify(this.list))},add(n){do if(jt=prompt(`
Your Beaker has 3 slots:
${this.list.map((t,i)=>`[${i}] - ${t==null?void 0:t.name}`).join(`
`)}
Where shall we write your game? [0, 1, 2]
      `),jt==null)return null;while(!["0","1","2"].includes(jt));jt=+jt;let e;for(;!(e=prompt("What do you call your game?")););alert(`Press upload again to write "${e}" to slot ${jt}!`),this.list[jt]={code:n,name:e},this.save()}};function zy(){const n=(e,t=80,i=16)=>{const r=document.createElement("canvas");r.width=t,r.height=i;const s=r.getContext("2d");return s.fillStyle="white",s.fillRect(0,0,108,108),s.fillStyle="black",s.fillText(e,2,10),s.getImageData(0,0,t,i)};return n("maze game"),n("suckyban"),`
    const games = [
      ${Ua.list.map(({name:e,code:t})=>`{
        code: \`${t.replaceAll("`","\\`")}\`,
        img: ${xc(n(e))},
      }`).join(`,
`)}
    ];
    const cr = ${xc(n(">",16,16))};

    /* input */
    const { GPIO } = require("gpio");
    const btn = pin => ({
      last: 1,
      pin: new GPIO(pin, INPUT_PULLUP),
      read() {
        const now = this.pin.read();
        return (now != this.last && !(this.last = now));
      }
    });
    const down = btn(0);
    const open = btn(1);

    /* drawin */
    const width = 128, height = 160;
    const pixels = new Uint16Array(width * height);
    const { rfill, sprdraw } = global.require("native");
    const { screen } = require("screen");

    const gc = screen.getContext("buffer");

    let ts = 0;
    let i = 0;
    const loop = (function loop() {
      i = (i + down.read()) % games.length;
      if (open.read()) {
        if (games[i].code) {
          eval(games[i].code);
          return;
        }
        console.log("there's no game there!");
      }
      rfill(pixels, gc.color16(255, 255, 255), width*height);

      let y = 20;
      for (const { img } of games) {
        sprdraw(img.data, img.width, img.height, pixels, 30, y);
        y += 30
      }
      let t = Math.sin(ts++ / 5) * 4;
      sprdraw(cr.data, cr.width, cr.height, pixels, 10+t, 20+30*i);
      
      const pixels8 = new Uint8Array(pixels.buffer);
      screen.fillImage(0, 0, width, height, pixels8);
      setTimeout(loop, 1000/20);
    })();
  `}async function _y(n){if(jt==null){Ua.add(n);return}if(Ua.list[jt].code=n,!_t){const t=await navigator.serial.requestPort();_t=new H1(t),await _t.open({baudRate:115200});let i;_t.on("data",r=>{for(let s of r){if(s==10)return;s==13?(console.log(i),i=""):i+=String.fromCharCode(s)}}),_t.write("\r.hi\r")}await _t.write("\r"),await _t.write(".flash -w\r"),await pc(500);const e=await Uy(_t,"code",new TextEncoder().encode(zy()));console.log("ymodem transfer result: ",e),await pc(500),_t.write("\r.load\r")}function ih(){const n=document.querySelector(".game-canvas-container"),e=n.querySelector(".game-canvas");if(!n||!e)return;const{width:t,height:i}=n.getBoundingClientRect(),r=(s,o)=>{let a=Math.min(t/s,i/o);return{w:Math.floor(s*a),h:Math.floor(o*a)}};(()=>{const{w:s,h:o}=r(...window.idealDimensions||[1,1]);e.style.width=`${s}px`,e.style.height=`${o}px`})(),(()=>{const s=document.querySelector(".game-text"),{w:o,h:a}=r(5,4);s.style.width=`${o}px`,s.style.height=`${a}px`})()}const B0=0,mc=1;let z,M0,W0,N0,L0;const Un=(1<<10)/16;function jy(n){const e=16*Un,t=16*Un,i=new ImageData(e,t);for(let r=0;r<n.length;r++){const{data:s}=v0(n[r][1]);for(let o=0;o<16;o++)for(let a=0;a<16;a++){const l=r%Un*16+o,h=Math.floor(r/Un)*16+a;i.data[(h*e+l)*4+0]=s[(a*16+o)*4+0],i.data[(h*e+l)*4+1]=s[(a*16+o)*4+1],i.data[(h*e+l)*4+2]=s[(a*16+o)*4+2],i.data[(h*e+l)*4+3]=s[(a*16+o)*4+3]}}U0(i,B0)}function Zy(n){z=n.getContext("webgl2");const e=i(gc["shader-vertex"],gc["shader-fragment"]);z.useProgram(e),M0=z.getUniformLocation(e,"u_tex"),W0=z.getUniformLocation(e,"u_texres"),N0=z.getUniformLocation(e,"u_spritesheet"),L0=z.getUniformLocation(e,"u_spritesheet_tile_count"),X0(n);function t(r,s){var o=z.createShader(s);if(z.shaderSource(o,r),z.compileShader(o),!z.getShaderParameter(o,z.COMPILE_STATUS))throw new Error(z.getShaderInfoLog(o));return o}function i(r,s){var o=z.createProgram();return z.attachShader(o,t(r,z.VERTEX_SHADER)),z.attachShader(o,t(s,z.FRAGMENT_SHADER)),z.linkProgram(o),o.createUniform=function(a,l){var h=z.getUniformLocation(o,l);return function(c,u,d,x){z["uniform"+a](h,c,u,d,x)}},o}}function X0(n){z.viewport(0,0,n.width,n.height)}function Gy(n){U0(n,mc,z.NEAREST),z.uniform1i(N0,B0),z.uniform1i(M0,mc),z.uniform2f(W0,n.width,n.height),z.uniform1i(L0,Un),z.drawArrays(z.TRIANGLE_FAN,0,3)}function U0(n,e,t=z.NEAREST){var i=z.createTexture();z.activeTexture(z.TEXTURE0+e),z.bindTexture(z.TEXTURE_2D,i),z.texParameteri(z.TEXTURE_2D,z.TEXTURE_WRAP_S,z.CLAMP_TO_EDGE),z.texParameteri(z.TEXTURE_2D,z.TEXTURE_WRAP_T,z.CLAMP_TO_EDGE),z.texParameteri(z.TEXTURE_2D,z.TEXTURE_MIN_FILTER,t),z.texParameteri(z.TEXTURE_2D,z.TEXTURE_MAG_FILTER,t);var r=0,s=z.RGBA,o=z.RGBA,a=z.UNSIGNED_BYTE;z.texImage2D(z.TEXTURE_2D,r,s,o,a,n)}const gc={"shader-fragment":`#version 300 es
precision highp float;

uniform sampler2D u_tex;
uniform sampler2D u_spritesheet;
uniform int u_spritesheet_tile_count;
uniform vec2 u_texres;
in vec2 texCoord;

out vec4 frag;

vec4 sampleTile(vec2 coord, float index) {
  int spriteIndex = int(index*255.0)-1;
  vec2 fcoord = mod(coord*u_texres, 1.0);
  fcoord += vec2(spriteIndex % u_spritesheet_tile_count,
                 spriteIndex / u_spritesheet_tile_count);
  vec4 ret = texture(u_spritesheet, fcoord/float(u_spritesheet_tile_count));
  ret.a *= min(1.0, index);
  return ret;
}

void main(void) {
  vec2 coord = vec2(texCoord.x, 1.0 - texCoord.y);
  vec4 raw = texture(u_tex, coord);

  frag = vec4(1);
  vec4 sprite;
  sprite = sampleTile(coord, raw.a); if (sprite.a > 0.0) frag = vec4(sprite.xyz, 1);
  sprite = sampleTile(coord, raw.b); if (sprite.a > 0.0) frag = vec4(sprite.xyz, 1);
  sprite = sampleTile(coord, raw.g); if (sprite.a > 0.0) frag = vec4(sprite.xyz, 1);
  sprite = sampleTile(coord, raw.r); if (sprite.a > 0.0) frag = vec4(sprite.xyz, 1);
}
  `,"shader-vertex":`#version 300 es

precision highp float;

out vec2 texCoord;

void main(void) {
    float x = float((gl_VertexID & 1) << 2);
    float y = float((gl_VertexID & 2) << 1);
    texCoord.x = x * 0.5;
    texCoord.y = y * 0.5;
    gl_Position = vec4(x - 1.0, y - 1.0, 0, 1);
}
  `};function No(n){return(e,...t)=>{if(typeof e=="string")throw new Error("Tagged template literal must be used like name`text`, instead of name(`text`)");const i=e.reduce((r,s,o)=>{var a;return r+s+((a=t[o])!=null?a:"")},"");return n(i)}}function qy(){let n={legend:[],texts:[],dimensions:{width:0,height:0},sprites:[],solids:[],pushable:{}};class e{constructor(v,C,k){this._type=v,this._x=C,this._y=k,this.dx=0,this.dy=0}set type(v){const C=Object.fromEntries(n.legend);if(!(v in C))throw new Error(`"${v}" not in legend.`);this.remove(),o(this._x,this._y,v)}get type(){return this._type}set x(v){const C=v-this.x;return t(this,C,0)&&(this.dx=C),this}get x(){return this._x}set y(v){const C=v-this.y;return t(this,0,C)&&(this.dy=C),this}get y(){return this._y}remove(){return n.sprites=n.sprites.filter(v=>v!==this),this}}const t=(S,v,C)=>{const{x:k,y:A,type:Q}=S,{width:R,height:M}=n.dimensions,_=k+v+(A+C)*R;if(!(k+v<R&&k+v>=0&&A+C<M&&A+C>=0))return!1;const G=i(),ce=!n.solids.includes(Q),ee=v===0&&C===0,ne=_<G.length&&G[_].length===0;if(ce||ee||ne)return S._x+=v,S._y+=C,!0;let se=!0;const{pushable:be}=n;return G[_].forEach(ke=>{const qe=n.solids.includes(ke.type),wt=Q in be&&be[Q].includes(ke.type);qe&&!wt&&(se=!1),qe&&wt&&(se=se&&t(ke,v,C))}),se&&(S._x+=v,S._y+=C),se},i=()=>{const{width:S,height:v}=n.dimensions,C=new Array(S*v).fill(0).map(k=>[]);return n.sprites.forEach(k=>{const A=k.x+k.y*S;C[A].push(k)}),C},r=(S,v)=>{const{width:C,height:k}=n.dimensions;if(S>C||S<0||v<0||v>k)throw new Error("Sprite out of bounds.")},s=S=>{if(!(S in Object.fromEntries(n.legend)))throw new Error(`Unknown sprite type: ${S}`)},o=(S,v,C)=>{if(C===".")return;r(S,v),s(C);const k=new e(C,S,v);n.sprites.push(k)},a=S=>S.every(v=>v===S[0]);function l(S){if(!S)throw new Error("Tried to set empty map.");const v=S.trim().split(`
`).map(R=>R.trim()),C=v.map(R=>R.length);if(!a(C))throw new Error("Level must be rect.");const A=v[0].length,Q=v.length;n.dimensions.width=A,n.dimensions.height=Q,n.sprites=[];for(let R=0;R<A*Q;R++){const M=S.split("").filter(ce=>ce.match(/\S/))[R];if(M===".")continue;const _=M,Z=R%A,G=Math.floor(R/A);o(Z,G,_)}}function h(S,v){n.sprites=n.sprites.filter(C=>C.x!==S||C.y!==v)}function c(S,v={}){var A,Q,R;const k=Math.floor((21-S.length)/2);n.texts.push({x:(A=v.x)!=null?A:k,y:(Q=v.y)!=null?Q:0,color:(R=v.color)!=null?R:[10,10,40],content:S})}function u(){n.texts=[]}function d(S,v){return v<0?[]:S<0?[]:v>=n.dimensions.height?[]:S>=n.dimensions.width?[]:i()[n.dimensions.width*v+S]||[]}function x(S){return new Set(S).size!==S.length}function g(...S){const{width:v,height:C}=n.dimensions,k=[],A=i();for(let Q=0;Q<v;Q++)for(let R=0;R<C;R++){const M=A[v*R+Q]||[],_=S.map(Z=>M.map(G=>G.type).indexOf(Z));!x(_)&&!_.includes(-1)&&k.push(M)}return k}function f(S){n.solids=S}function p(S){n.pushable=S}const m=(S,v,C)=>d(S,v).map(k=>k.type).some(k=>C.includes(k)),O=(S,v,C)=>d(S,v).map(k=>k.type).every(k=>C.includes(k));async function y(){let S=Number(sessionStorage.getItem("game"))||0;S>1&&(S=0),sessionStorage.setItem("game",S+1);const v=C=>oe("SET_EDITOR_TEXT",{text:C,range:[0,0]});switch(S+1){case 1:v(await fetch("https://raw.githubusercontent.com/adrianoapj/sprig/main/games/maze.js").then(A=>A.text())),n={legend:[],texts:[],dimensions:{width:0,height:0},sprites:[],solids:[],pushable:{}},oe("RUN");break;case 2:v(await fetch("https://raw.githubusercontent.com/adrianoapj/sprig/main/games/platform.js").then(A=>A.text())),n={legend:[],texts:[],dimensions:{width:0,height:0},sprites:[],solids:[],pushable:{}},oe("RUN");break}}function b(S){const v=Number(sessionStorage.getItem("game"))||0;if(S.type==="popup"){const C=Array.from(document.querySelectorAll(".popup").values()).some(({style:{display:A}})=>A==="flex");if(console.log(C),C)return;const k=Math.floor(Math.random()*3);document.querySelector(`#popup-${k}`).style.display="flex"}if(S.type==="cheating"){if(v===2)return;document.querySelector("#popup-cheating").style.display="flex"}if(S.type==="paywall"&&(document.querySelector("#popup-paywall").style.display="flex"),S.type==="prize"){const C=Math.ceil(Math.random()*3);document.querySelector("#popup-prize").style.display="flex",document.querySelector("#popup-prize").src=`./popups/prize${C}.jpg`,setTimeout(()=>{document.querySelector("#popup-prize").style.display="none"},1e4)}}return{api:{setMap:l,addText:c,clearText:u,addSprite:o,getGrid:i,getTile:d,tilesWith:g,hasTypeAny:m,hasTypeAll:O,clearTile:h,setSolids:f,setPushables:p,dispatch:b,getPoints:()=>sessionStorage.getItem("points")||0,setPoints:S=>sessionStorage.setItem("points",S),nextGame:y,map:No(S=>S),bitmap:No(S=>S),tune:No(S=>S),getFirst:S=>n.sprites.find(v=>v.type===S),getAll:S=>S?n.sprites.filter(v=>v.type===S):n.sprites,width:()=>n.dimensions.width,height:()=>n.dimensions.height,setBackground:S=>{s(S),background=S}},state:n}}const Vy=[0,0,0,0,0,0,129,255,0,0,34,114,34,62,0,0,0,0,18,50,126,50,18,0,126,129,185,165,185,165,185,129,85,255,85,255,85,255,85,255,170,170,170,170,170,170,170,170,255,0,255,0,255,0,255,0,0,0,60,66,66,126,0,0,0,16,48,126,48,16,0,0,0,8,12,126,12,8,0,0,0,16,16,16,124,56,16,0,8,28,62,8,8,8,8,0,56,48,40,8,8,8,62,0,0,0,18,50,126,48,16,0,170,85,170,85,170,85,170,85,62,124,124,62,62,124,248,248,56,48,40,4,4,4,4,0,127,8,28,42,8,8,8,0,0,8,8,8,42,28,8,127,126,129,157,161,185,133,133,185,0,60,66,90,90,66,60,0,136,68,34,17,136,68,34,17,0,127,34,114,39,34,127,0,17,34,68,136,17,34,68,136,0,1,9,13,127,13,9,1,0,144,176,254,176,144,0,0,0,8,124,6,124,8,0,0,204,204,51,51,204,204,51,51,126,129,161,161,161,161,189,129,126,129,185,165,185,165,165,129,126,129,153,161,161,161,153,129,0,16,62,96,62,16,0,0,0,0,0,0,0,0,0,0,48,48,48,48,48,0,48,0,119,51,102,0,0,0,0,0,54,54,254,108,254,216,216,0,24,62,108,62,27,27,126,24,0,198,204,24,48,102,198,0,56,108,56,118,220,204,118,0,28,12,24,0,0,0,0,0,24,48,96,96,96,48,24,0,96,48,24,24,24,48,96,0,0,102,60,255,60,102,0,0,0,48,48,252,48,48,0,0,0,0,0,0,0,28,12,24,0,0,0,254,0,0,0,0,0,0,0,0,0,48,48,0,6,12,24,48,96,192,128,0,124,198,206,222,246,230,124,0,48,112,48,48,48,48,252,0,120,204,12,56,96,204,252,0,252,24,48,120,12,204,120,0,28,60,108,204,254,12,30,0,252,192,248,12,12,204,120,0,56,96,192,248,204,204,120,0,252,204,12,24,48,48,48,0,120,204,204,120,204,204,120,0,120,204,204,124,12,24,112,0,0,0,48,48,0,48,48,0,0,0,48,48,0,48,48,96,24,48,96,192,96,48,24,0,0,0,252,0,252,0,0,0,96,48,24,12,24,48,96,0,120,204,12,24,48,0,48,0,124,198,222,222,222,192,120,0,48,120,204,204,252,204,204,0,252,102,102,124,102,102,252,0,60,102,192,192,192,102,60,0,248,108,102,102,102,108,248,0,254,98,104,120,104,98,254,0,254,98,104,120,104,96,240,0,60,102,192,192,206,102,60,0,204,204,204,252,204,204,204,0,120,48,48,48,48,48,120,0,30,12,12,12,204,204,120,0,230,102,108,112,108,102,230,0,240,96,96,96,98,102,254,0,198,238,254,214,198,198,198,0,198,230,246,222,206,198,198,0,56,108,198,198,198,108,56,0,252,102,102,124,96,96,240,0,120,204,204,204,220,120,28,0,252,102,102,124,108,102,230,0,124,198,240,60,14,198,124,0,252,180,48,48,48,48,120,0,204,204,204,204,204,204,120,0,204,204,204,120,120,48,48,0,198,198,198,214,254,238,198,0,198,198,108,56,108,198,198,0,204,204,204,120,48,48,120,0,254,198,140,24,50,102,254,0,255,255,255,255,255,255,255,255,24,24,24,24,24,24,24,0,0,254,6,6,0,0,0,0,16,56,108,198,0,0,0,0,0,0,0,0,0,0,0,255,60,66,153,161,161,153,66,60,0,0,120,12,124,204,118,0,224,96,124,102,102,102,220,0,0,0,120,204,192,204,120,0,28,12,124,204,204,204,118,0,0,0,120,204,252,192,120,0,56,108,96,240,96,96,240,0,0,0,118,204,204,124,12,248,224,96,108,118,102,102,230,0,48,0,112,48,48,48,252,0,12,0,28,12,12,204,204,120,224,96,102,108,120,108,230,0,112,48,48,48,48,48,252,0,0,0,204,254,254,214,198,0,0,0,248,204,204,204,204,0,0,0,120,204,204,204,120,0,0,0,220,102,102,124,96,240,0,0,118,204,204,124,12,30,0,0,220,118,102,96,240,0,0,0,124,192,120,12,248,0,16,48,124,48,48,52,24,0,0,0,204,204,204,204,118,0,0,0,204,204,204,120,48,0,0,0,198,214,254,254,108,0,0,0,198,108,56,108,198,0,0,0,204,204,204,124,12,248,0,0,252,152,48,100,252,0,108,0,120,12,124,204,118,0,204,0,120,204,204,204,120,0,204,0,204,204,204,204,118,0,60,102,102,108,102,102,108,240,255,129,129,129,129,129,129,255,255,255,255,255,255,255,126,0,255,255,221,141,221,193,255,255,255,255,237,205,129,205,237,255,129,126,70,90,70,90,70,126,170,0,170,0,170,0,170,0,85,85,85,85,85,85,85,85,0,255,0,255,0,255,0,255,255,255,195,189,189,129,255,255,255,239,207,129,207,239,255,255,255,247,243,129,243,247,255,255,255,239,239,239,131,199,239,255,247,227,193,247,247,247,247,255,199,207,215,247,247,247,193,255,255,255,237,205,129,207,239,255,85,170,85,170,85,170,85,170,193,131,131,193,193,131,7,7,199,207,215,251,251,251,251,255,128,247,227,213,247,247,247,255,255,247,247,247,213,227,247,128,129,126,98,94,70,122,122,70,255,195,189,165,165,189,195,255,119,187,221,238,119,187,221,238,255,128,221,141,216,221,128,255,238,221,187,119,238,221,187,119,255,254,246,242,128,242,246,254,255,111,79,1,79,111,255,255,255,247,131,249,131,247,255,255,51,51,204,204,51,51,204,204,129,126,94,94,94,94,66,126,129,126,70,90,70,90,90,126,129,126,102,94,94,94,102,126,255,239,193,159,193,239,255,255,255,255,255,255,255,255,255,255,207,207,207,207,207,255,207,255,136,204,153,255,255,255,255,255,201,201,1,147,1,39,39,255,231,193,147,193,228,228,129,231,255,57,51,231,207,153,57,255,199,147,199,137,35,51,137,255,227,243,231,255,255,255,255,255,231,207,159,159,159,207,231,255,159,207,231,231,231,207,159,255,255,153,195,0,195,153,255,255,255,207,207,3,207,207,255,255,255,255,255,255,255,227,243,231,255,255,255,1,255,255,255,255,255,255,255,255,255,207,207,255,249,243,231,207,159,63,127,255,131,57,49,33,9,25,131,255,207,143,207,207,207,207,3,255,135,51,243,199,159,51,3,255,3,231,207,135,243,51,135,255,227,195,147,51,1,243,225,255,3,63,7,243,243,51,135,255,199,159,63,7,51,51,135,255,3,51,243,231,207,207,207,255,135,51,51,135,51,51,135,255,135,51,51,131,243,231,143,255,255,255,207,207,255,207,207,255,255,255,207,207,255,207,207,159,231,207,159,63,159,207,231,255,255,255,3,255,3,255,255,255,159,207,231,243,231,207,159,255,135,51,243,231,207,255,207,255,131,57,33,33,33,63,135,255,207,135,51,51,3,51,51,255,3,153,153,131,153,153,3,255,195,153,63,63,63,153,195,255,7,147,153,153,153,147,7,255,1,157,151,135,151,157,1,255,1,157,151,135,151,159,15,255,195,153,63,63,49,153,195,255,51,51,51,3,51,51,51,255,135,207,207,207,207,207,135,255,225,243,243,243,51,51,135,255,25,153,147,143,147,153,25,255,15,159,159,159,157,153,1,255,57,17,1,41,57,57,57,255,57,25,9,33,49,57,57,255,199,147,57,57,57,147,199,255,3,153,153,131,159,159,15,255,135,51,51,51,35,135,227,255,3,153,153,131,147,153,25,255,131,57,15,195,241,57,131,255,3,75,207,207,207,207,135,255,51,51,51,51,51,51,135,255,51,51,51,135,135,207,207,255,57,57,57,41,1,17,57,255,57,57,147,199,147,57,57,255,51,51,51,135,207,207,135,255,1,57,115,231,205,153,1,255,0,0,0,0,0,0,0,0,231,231,231,231,231,231,231,255,255,1,249,249,255,255,255,255,239,199,147,57,255,255,255,255,255,255,255,255,255,255,255,0,195,189,102,94,94,102,189,195,255,255,135,243,131,51,137,255,31,159,131,153,153,153,35,255,255,255,135,51,63,51,135,255,227,243,131,51,51,51,137,255,255,255,135,51,3,63,135,255,199,147,159,15,159,159,15,255,255,255,137,51,51,131,243,7,31,159,147,137,153,153,25,255,207,255,143,207,207,207,3,255,243,255,227,243,243,51,51,135,31,159,153,147,135,147,25,255,143,207,207,207,207,207,3,255,255,255,51,1,1,41,57,255,255,255,7,51,51,51,51,255,255,255,135,51,51,51,135,255,255,255,35,153,153,131,159,15,255,255,137,51,51,131,243,225,255,255,35,137,153,159,15,255,255,255,131,63,135,243,7,255,239,207,131,207,207,203,231,255,255,255,51,51,51,51,137,255,255,255,51,51,51,135,207,255,255,255,57,41,1,1,147,255,255,255,57,147,199,147,57,255,255,255,51,51,51,131,243,7,255,255,3,103,207,155,3,255,147,255,135,243,131,51,137,255,51,255,135,51,51,51,135,255,51,255,51,51,51,51,137,255,195,153,153,147,153,153,147,15,0,126,126,126,126,126,126,0];function Yy(n){const e=()=>({char:" ",color:[0,0,0]}),t=(a,l)=>Array.from({length:a},l),o=((a,l)=>t(l,h=>t(a,e)))(20,16);for(const{x:a,y:l,content:h,color:c}of n){let u=l;for(const d of h.split(`
`)){let x=a;for(const g of d.split(""))x<=20&&u<16&&(o[u][x++]={color:c,char:g});u++}}return o}function Jy(n){const e=new ImageData(168,120);e.data.fill(0);for(const[i,r]of Object.entries(n)){let s=0;for(const{char:o,color:a}of r){const l=o.charCodeAt(0);let h=i*8;for(const c of Vy.slice(l*8,(1+l)*8)){for(let u=0;u<8;u++){const d=c>>7-u&1;e.data[(h*e.width+s+u)*4+0]=d*a[0],e.data[(h*e.width+s+u)*4+1]=d*a[1],e.data[(h*e.width+s+u)*4+2]=d*a[2],e.data[(h*e.width+s+u)*4+3]=d*255}h++}s+=8}}const t=document.querySelector(".game-text");t.width=e.width,t.height=e.height,t.getContext("2d").putImageData(e,0,0)}let Lo=null;function Hy(n){const{api:e,state:t}=qy();let i=n.cloneNode(!0);n.parentNode.replaceChild(i,n),n=i,Zy(n),n.setAttribute("tabindex","1");function r(){const f=t.dimensions;l(f.width*16,f.height*16),Jy(Yy(t.texts)),Gy(x()),a=window.requestAnimationFrame(r)}function s(...f){f.forEach(([p,m])=>{if(p.length!==1)throw new Error("Bitmaps must have one character names.")}),t.legend=f,jy(f),oe("SET_BITMAPS",{bitmaps:f})}function o(){window.cancelAnimationFrame(a)}Lo&&Lo(),Lo=o;let a=window.requestAnimationFrame(r);function l(f,p){n.width=f,n.height=p;const{width:m,height:O}=t.dimensions;window.idealDimensions=[m,O],ih(),X0(n)}let h={w:[],s:[],a:[],d:[],i:[],j:[],k:[],l:[]},c=[];const u=["w","a","s","d","i","j","k","l"];n.addEventListener("keydown",f=>{const p=f.key;if(!!u.includes(p)){for(const m of u)p==m&&h[p].forEach(O=>O());c.forEach(m=>m()),t.sprites.forEach(m=>{m.dx=0,m.dy=0}),f.preventDefault()}});function d(f,p){if(!(f in h))throw new Error(`Unknown input key, "${f}": expected one of ${u.join(", ")}`);h[f].push(p)}function x(){const{dimensions:f,legend:p}=t,{width:m,height:O,maxTileDim:y}=f,b=e.getGrid();if(m==0||O==0)return new ImageData(1,1);const w=new ImageData(m,O);for(let S=0;S<b.length;S++){const v=S%m,C=Math.floor(S/m),k=b[S],A=p.map(Q=>Q[0]);k.sort((Q,R)=>A.indexOf(Q.type)-A.indexOf(R.type));for(let Q=0;Q<4;Q++){if(!k[Q])continue;const{type:R}=k[Q];w.data[(C*f.width+v)*4+Q]=1+p.findIndex(M=>M[0]==R)}}return w}function g(f){c.push(f)}return{setLegend:s,onInput:d,afterInput:g,setScreenSize:l,getState:()=>t,...e}}const Ky=window.AudioContext||window.webkitAudioContext,ii=new Ky,eb={B0:31,C1:33,"C#1":35,D1:37,"D#1":39,E1:41,F1:44,"F#1":46,G1:49,"G#1":52,A1:55,"A#1":58,B1:62,C2:65,"C#2":69,D2:73,"D#2":78,E2:82,F2:87,"F#2":93,G2:98,"G#2":104,A2:110,"A#2":117,B2:123,C3:131,"C#3":139,D3:147,"D#3":156,E3:165,F3:175,"F#3":185,G3:196,"G#3":208,A3:220,"A#3":233,B3:247,C4:262,"C#4":277,D4:294,"D#4":311,E4:330,F4:349,"F#4":370,G4:392,"G#4":415,A4:440,"A#4":466,B4:494,C5:523,"C#5":554,D5:587,"D#5":622,E5:659,F5:698,"F#5":740,G5:784,"G#5":831,A5:880,"A#5":932,B5:988,C6:1047,"C#6":1109,D6:1175,"D#6":1245,E6:1319,F6:1397,"F#6":1480,G6:1568,"G#6":1661,A6:1760,"A#6":1865,B6:1976,C7:2093,"C#7":2217,D7:2349,"D#7":2489,E7:2637,F7:2794,"F#7":2960,G7:3136,"G#7":3322,A7:3520,"A#7":3729,B7:3951,C8:4186,"C#8":4435,D8:4699,"D#8":4978},tb=async n=>new Promise(e=>setTimeout(e,n)),ib=["sine","triangle","square","sawtooth"];async function nb(n,e,t){for(let i=0;i<n.length*e;i++){const r=i%n.length;if(!t.playing)break;const s=n[r],o=s[0];for(let a=1;a<s.length;a+=3){const l=s[a],h=s[a+1],c=s[a+2],u=typeof h=="string"?eb[h.toUpperCase()]:2**((h-69)/12)*440;ib.includes(l)&&u!==void 0&&sb(u,c,l)}await tb(o)}}function rb(n,e=1){let t={playing:!0};return nb(n,e,t),{end(){t.playing=!1},isPlaying(){return t.playing}}}function sb(n,e,t){var i=ii.createOscillator(),r=ii.createGain();i.frequency.value=n,i.type=t!=null?t:"sine",i.connect(r),r.connect(ii.destination),i.start();const s=ii.currentTime+e*2/1e3;i.stop(s),r.gain.setValueAtTime(0,ii.currentTime),r.gain.linearRampToValueAtTime(.2,ii.currentTime+e/5/1e3),r.gain.exponentialRampToValueAtTime(1e-5,ii.currentTime+e/1e3),r.gain.linearRampToValueAtTime(0,ii.currentTime+e*2/1e3),i.onended=()=>{r.disconnect()}}var ob=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{},z0={exports:{}};(function(n,e){(function(i,r){n.exports=r()})(ob,function(){return function(t){var i={};function r(s){if(i[s])return i[s].exports;var o=i[s]={exports:{},id:s,loaded:!1};return t[s].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}return r.m=t,r.c=i,r.p="",r(0)}([function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=r(1),o=r(3),a=r(8),l=r(15);function h(g,f,p){var m=null,O=function(A,Q){p&&p(A,Q),m&&m.visit(A,Q)},y=typeof p=="function"?O:null,b=!1;if(f){b=typeof f.comment=="boolean"&&f.comment;var w=typeof f.attachComment=="boolean"&&f.attachComment;(b||w)&&(m=new s.CommentHandler,m.attach=w,f.comment=!0,y=O)}var S=!1;f&&typeof f.sourceType=="string"&&(S=f.sourceType==="module");var v;f&&typeof f.jsx=="boolean"&&f.jsx?v=new o.JSXParser(g,f,y):v=new a.Parser(g,f,y);var C=S?v.parseModule():v.parseScript(),k=C;return b&&m&&(k.comments=m.comments),v.config.tokens&&(k.tokens=v.tokens),v.config.tolerant&&(k.errors=v.errorHandler.errors),k}i.parse=h;function c(g,f,p){var m=f||{};return m.sourceType="module",h(g,m,p)}i.parseModule=c;function u(g,f,p){var m=f||{};return m.sourceType="script",h(g,m,p)}i.parseScript=u;function d(g,f,p){var m=new l.Tokenizer(g,f),O;O=[];try{for(;;){var y=m.getNextToken();if(!y)break;p&&(y=p(y)),O.push(y)}}catch(b){m.errorHandler.tolerate(b)}return m.errorHandler.tolerant&&(O.errors=m.errors()),O}i.tokenize=d;var x=r(2);i.Syntax=x.Syntax,i.version="4.0.1"},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=r(2),o=function(){function a(){this.attach=!1,this.comments=[],this.stack=[],this.leading=[],this.trailing=[]}return a.prototype.insertInnerComments=function(l,h){if(l.type===s.Syntax.BlockStatement&&l.body.length===0){for(var c=[],u=this.leading.length-1;u>=0;--u){var d=this.leading[u];h.end.offset>=d.start&&(c.unshift(d.comment),this.leading.splice(u,1),this.trailing.splice(u,1))}c.length&&(l.innerComments=c)}},a.prototype.findTrailingComments=function(l){var h=[];if(this.trailing.length>0){for(var c=this.trailing.length-1;c>=0;--c){var u=this.trailing[c];u.start>=l.end.offset&&h.unshift(u.comment)}return this.trailing.length=0,h}var d=this.stack[this.stack.length-1];if(d&&d.node.trailingComments){var x=d.node.trailingComments[0];x&&x.range[0]>=l.end.offset&&(h=d.node.trailingComments,delete d.node.trailingComments)}return h},a.prototype.findLeadingComments=function(l){for(var h=[],c;this.stack.length>0;){var u=this.stack[this.stack.length-1];if(u&&u.start>=l.start.offset)c=u.node,this.stack.pop();else break}if(c){for(var d=c.leadingComments?c.leadingComments.length:0,x=d-1;x>=0;--x){var g=c.leadingComments[x];g.range[1]<=l.start.offset&&(h.unshift(g),c.leadingComments.splice(x,1))}return c.leadingComments&&c.leadingComments.length===0&&delete c.leadingComments,h}for(var x=this.leading.length-1;x>=0;--x){var u=this.leading[x];u.start<=l.start.offset&&(h.unshift(u.comment),this.leading.splice(x,1))}return h},a.prototype.visitNode=function(l,h){if(!(l.type===s.Syntax.Program&&l.body.length>0)){this.insertInnerComments(l,h);var c=this.findTrailingComments(h),u=this.findLeadingComments(h);u.length>0&&(l.leadingComments=u),c.length>0&&(l.trailingComments=c),this.stack.push({node:l,start:h.start.offset})}},a.prototype.visitComment=function(l,h){var c=l.type[0]==="L"?"Line":"Block",u={type:c,value:l.value};if(l.range&&(u.range=l.range),l.loc&&(u.loc=l.loc),this.comments.push(u),this.attach){var d={comment:{type:c,value:l.value,range:[h.start.offset,h.end.offset]},start:h.start.offset};l.loc&&(d.comment.loc=l.loc),l.type=c,this.leading.push(d),this.trailing.push(d)}},a.prototype.visit=function(l,h){l.type==="LineComment"?this.visitComment(l,h):l.type==="BlockComment"?this.visitComment(l,h):this.attach&&this.visitNode(l,h)},a}();i.CommentHandler=o},function(t,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Syntax={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DoWhileStatement:"DoWhileStatement",DebuggerStatement:"DebuggerStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForOfStatement:"ForOfStatement",ForInStatement:"ForInStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",Program:"Program",Property:"Property",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchCase:"SwitchCase",SwitchStatement:"SwitchStatement",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"}},function(t,i,r){var s=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,m){p.__proto__=m}||function(p,m){for(var O in m)m.hasOwnProperty(O)&&(p[O]=m[O])};return function(p,m){f(p,m);function O(){this.constructor=p}p.prototype=m===null?Object.create(m):(O.prototype=m.prototype,new O)}}();Object.defineProperty(i,"__esModule",{value:!0});var o=r(4),a=r(5),l=r(6),h=r(7),c=r(8),u=r(13),d=r(14);u.TokenName[100]="JSXIdentifier",u.TokenName[101]="JSXText";function x(f){var p;switch(f.type){case l.JSXSyntax.JSXIdentifier:var m=f;p=m.name;break;case l.JSXSyntax.JSXNamespacedName:var O=f;p=x(O.namespace)+":"+x(O.name);break;case l.JSXSyntax.JSXMemberExpression:var y=f;p=x(y.object)+"."+x(y.property);break}return p}var g=function(f){s(p,f);function p(m,O,y){return f.call(this,m,O,y)||this}return p.prototype.parsePrimaryExpression=function(){return this.match("<")?this.parseJSXRoot():f.prototype.parsePrimaryExpression.call(this)},p.prototype.startJSX=function(){this.scanner.index=this.startMarker.index,this.scanner.lineNumber=this.startMarker.line,this.scanner.lineStart=this.startMarker.index-this.startMarker.column},p.prototype.finishJSX=function(){this.nextToken()},p.prototype.reenterJSX=function(){this.startJSX(),this.expectJSX("}"),this.config.tokens&&this.tokens.pop()},p.prototype.createJSXNode=function(){return this.collectComments(),{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},p.prototype.createJSXChildNode=function(){return{index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}},p.prototype.scanXHTMLEntity=function(m){for(var O="&",y=!0,b=!1,w=!1,S=!1;!this.scanner.eof()&&y&&!b;){var v=this.scanner.source[this.scanner.index];if(v===m)break;if(b=v===";",O+=v,++this.scanner.index,!b)switch(O.length){case 2:w=v==="#";break;case 3:w&&(S=v==="x",y=S||o.Character.isDecimalDigit(v.charCodeAt(0)),w=w&&!S);break;default:y=y&&!(w&&!o.Character.isDecimalDigit(v.charCodeAt(0))),y=y&&!(S&&!o.Character.isHexDigit(v.charCodeAt(0)));break}}if(y&&b&&O.length>2){var C=O.substr(1,O.length-2);w&&C.length>1?O=String.fromCharCode(parseInt(C.substr(1),10)):S&&C.length>2?O=String.fromCharCode(parseInt("0"+C.substr(1),16)):!w&&!S&&d.XHTMLEntities[C]&&(O=d.XHTMLEntities[C])}return O},p.prototype.lexJSX=function(){var m=this.scanner.source.charCodeAt(this.scanner.index);if(m===60||m===62||m===47||m===58||m===61||m===123||m===125){var O=this.scanner.source[this.scanner.index++];return{type:7,value:O,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index-1,end:this.scanner.index}}if(m===34||m===39){for(var y=this.scanner.index,b=this.scanner.source[this.scanner.index++],w="";!this.scanner.eof();){var S=this.scanner.source[this.scanner.index++];if(S===b)break;S==="&"?w+=this.scanXHTMLEntity(b):w+=S}return{type:8,value:w,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:y,end:this.scanner.index}}if(m===46){var v=this.scanner.source.charCodeAt(this.scanner.index+1),C=this.scanner.source.charCodeAt(this.scanner.index+2),O=v===46&&C===46?"...":".",y=this.scanner.index;return this.scanner.index+=O.length,{type:7,value:O,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:y,end:this.scanner.index}}if(m===96)return{type:10,value:"",lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:this.scanner.index,end:this.scanner.index};if(o.Character.isIdentifierStart(m)&&m!==92){var y=this.scanner.index;for(++this.scanner.index;!this.scanner.eof();){var S=this.scanner.source.charCodeAt(this.scanner.index);if(o.Character.isIdentifierPart(S)&&S!==92)++this.scanner.index;else if(S===45)++this.scanner.index;else break}var k=this.scanner.source.slice(y,this.scanner.index);return{type:100,value:k,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:y,end:this.scanner.index}}return this.scanner.lex()},p.prototype.nextJSXToken=function(){this.collectComments(),this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;var m=this.lexJSX();return this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.config.tokens&&this.tokens.push(this.convertToken(m)),m},p.prototype.nextJSXText=function(){this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart;for(var m=this.scanner.index,O="";!this.scanner.eof();){var y=this.scanner.source[this.scanner.index];if(y==="{"||y==="<")break;++this.scanner.index,O+=y,o.Character.isLineTerminator(y.charCodeAt(0))&&(++this.scanner.lineNumber,y==="\r"&&this.scanner.source[this.scanner.index]===`
`&&++this.scanner.index,this.scanner.lineStart=this.scanner.index)}this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart;var b={type:101,value:O,lineNumber:this.scanner.lineNumber,lineStart:this.scanner.lineStart,start:m,end:this.scanner.index};return O.length>0&&this.config.tokens&&this.tokens.push(this.convertToken(b)),b},p.prototype.peekJSXToken=function(){var m=this.scanner.saveState();this.scanner.scanComments();var O=this.lexJSX();return this.scanner.restoreState(m),O},p.prototype.expectJSX=function(m){var O=this.nextJSXToken();(O.type!==7||O.value!==m)&&this.throwUnexpectedToken(O)},p.prototype.matchJSX=function(m){var O=this.peekJSXToken();return O.type===7&&O.value===m},p.prototype.parseJSXIdentifier=function(){var m=this.createJSXNode(),O=this.nextJSXToken();return O.type!==100&&this.throwUnexpectedToken(O),this.finalize(m,new a.JSXIdentifier(O.value))},p.prototype.parseJSXElementName=function(){var m=this.createJSXNode(),O=this.parseJSXIdentifier();if(this.matchJSX(":")){var y=O;this.expectJSX(":");var b=this.parseJSXIdentifier();O=this.finalize(m,new a.JSXNamespacedName(y,b))}else if(this.matchJSX("."))for(;this.matchJSX(".");){var w=O;this.expectJSX(".");var S=this.parseJSXIdentifier();O=this.finalize(m,new a.JSXMemberExpression(w,S))}return O},p.prototype.parseJSXAttributeName=function(){var m=this.createJSXNode(),O,y=this.parseJSXIdentifier();if(this.matchJSX(":")){var b=y;this.expectJSX(":");var w=this.parseJSXIdentifier();O=this.finalize(m,new a.JSXNamespacedName(b,w))}else O=y;return O},p.prototype.parseJSXStringLiteralAttribute=function(){var m=this.createJSXNode(),O=this.nextJSXToken();O.type!==8&&this.throwUnexpectedToken(O);var y=this.getTokenRaw(O);return this.finalize(m,new h.Literal(O.value,y))},p.prototype.parseJSXExpressionAttribute=function(){var m=this.createJSXNode();this.expectJSX("{"),this.finishJSX(),this.match("}")&&this.tolerateError("JSX attributes must only be assigned a non-empty expression");var O=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(m,new a.JSXExpressionContainer(O))},p.prototype.parseJSXAttributeValue=function(){return this.matchJSX("{")?this.parseJSXExpressionAttribute():this.matchJSX("<")?this.parseJSXElement():this.parseJSXStringLiteralAttribute()},p.prototype.parseJSXNameValueAttribute=function(){var m=this.createJSXNode(),O=this.parseJSXAttributeName(),y=null;return this.matchJSX("=")&&(this.expectJSX("="),y=this.parseJSXAttributeValue()),this.finalize(m,new a.JSXAttribute(O,y))},p.prototype.parseJSXSpreadAttribute=function(){var m=this.createJSXNode();this.expectJSX("{"),this.expectJSX("..."),this.finishJSX();var O=this.parseAssignmentExpression();return this.reenterJSX(),this.finalize(m,new a.JSXSpreadAttribute(O))},p.prototype.parseJSXAttributes=function(){for(var m=[];!this.matchJSX("/")&&!this.matchJSX(">");){var O=this.matchJSX("{")?this.parseJSXSpreadAttribute():this.parseJSXNameValueAttribute();m.push(O)}return m},p.prototype.parseJSXOpeningElement=function(){var m=this.createJSXNode();this.expectJSX("<");var O=this.parseJSXElementName(),y=this.parseJSXAttributes(),b=this.matchJSX("/");return b&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(m,new a.JSXOpeningElement(O,b,y))},p.prototype.parseJSXBoundaryElement=function(){var m=this.createJSXNode();if(this.expectJSX("<"),this.matchJSX("/")){this.expectJSX("/");var O=this.parseJSXElementName();return this.expectJSX(">"),this.finalize(m,new a.JSXClosingElement(O))}var y=this.parseJSXElementName(),b=this.parseJSXAttributes(),w=this.matchJSX("/");return w&&this.expectJSX("/"),this.expectJSX(">"),this.finalize(m,new a.JSXOpeningElement(y,w,b))},p.prototype.parseJSXEmptyExpression=function(){var m=this.createJSXChildNode();return this.collectComments(),this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.finalize(m,new a.JSXEmptyExpression)},p.prototype.parseJSXExpressionContainer=function(){var m=this.createJSXNode();this.expectJSX("{");var O;return this.matchJSX("}")?(O=this.parseJSXEmptyExpression(),this.expectJSX("}")):(this.finishJSX(),O=this.parseAssignmentExpression(),this.reenterJSX()),this.finalize(m,new a.JSXExpressionContainer(O))},p.prototype.parseJSXChildren=function(){for(var m=[];!this.scanner.eof();){var O=this.createJSXChildNode(),y=this.nextJSXText();if(y.start<y.end){var b=this.getTokenRaw(y),w=this.finalize(O,new a.JSXText(y.value,b));m.push(w)}if(this.scanner.source[this.scanner.index]==="{"){var S=this.parseJSXExpressionContainer();m.push(S)}else break}return m},p.prototype.parseComplexJSXElement=function(m){for(var O=[];!this.scanner.eof();){m.children=m.children.concat(this.parseJSXChildren());var y=this.createJSXChildNode(),b=this.parseJSXBoundaryElement();if(b.type===l.JSXSyntax.JSXOpeningElement){var w=b;if(w.selfClosing){var S=this.finalize(y,new a.JSXElement(w,[],null));m.children.push(S)}else O.push(m),m={node:y,opening:w,closing:null,children:[]}}if(b.type===l.JSXSyntax.JSXClosingElement){m.closing=b;var v=x(m.opening.name),C=x(m.closing.name);if(v!==C&&this.tolerateError("Expected corresponding JSX closing tag for %0",v),O.length>0){var S=this.finalize(m.node,new a.JSXElement(m.opening,m.children,m.closing));m=O[O.length-1],m.children.push(S),O.pop()}else break}}return m},p.prototype.parseJSXElement=function(){var m=this.createJSXNode(),O=this.parseJSXOpeningElement(),y=[],b=null;if(!O.selfClosing){var w=this.parseComplexJSXElement({node:m,opening:O,closing:b,children:y});y=w.children,b=w.closing}return this.finalize(m,new a.JSXElement(O,y,b))},p.prototype.parseJSXRoot=function(){this.config.tokens&&this.tokens.pop(),this.startJSX();var m=this.parseJSXElement();return this.finishJSX(),m},p.prototype.isStartOfExpression=function(){return f.prototype.isStartOfExpression.call(this)||this.match("<")},p}(c.Parser);i.JSXParser=g},function(t,i){Object.defineProperty(i,"__esModule",{value:!0});var r={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFC-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AD\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C4\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};i.Character={fromCodePoint:function(s){return s<65536?String.fromCharCode(s):String.fromCharCode(55296+(s-65536>>10))+String.fromCharCode(56320+(s-65536&1023))},isWhiteSpace:function(s){return s===32||s===9||s===11||s===12||s===160||s>=5760&&[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(s)>=0},isLineTerminator:function(s){return s===10||s===13||s===8232||s===8233},isIdentifierStart:function(s){return s===36||s===95||s>=65&&s<=90||s>=97&&s<=122||s===92||s>=128&&r.NonAsciiIdentifierStart.test(i.Character.fromCodePoint(s))},isIdentifierPart:function(s){return s===36||s===95||s>=65&&s<=90||s>=97&&s<=122||s>=48&&s<=57||s===92||s>=128&&r.NonAsciiIdentifierPart.test(i.Character.fromCodePoint(s))},isDecimalDigit:function(s){return s>=48&&s<=57},isHexDigit:function(s){return s>=48&&s<=57||s>=65&&s<=70||s>=97&&s<=102},isOctalDigit:function(s){return s>=48&&s<=55}}},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=r(6),o=function(){function m(O){this.type=s.JSXSyntax.JSXClosingElement,this.name=O}return m}();i.JSXClosingElement=o;var a=function(){function m(O,y,b){this.type=s.JSXSyntax.JSXElement,this.openingElement=O,this.children=y,this.closingElement=b}return m}();i.JSXElement=a;var l=function(){function m(){this.type=s.JSXSyntax.JSXEmptyExpression}return m}();i.JSXEmptyExpression=l;var h=function(){function m(O){this.type=s.JSXSyntax.JSXExpressionContainer,this.expression=O}return m}();i.JSXExpressionContainer=h;var c=function(){function m(O){this.type=s.JSXSyntax.JSXIdentifier,this.name=O}return m}();i.JSXIdentifier=c;var u=function(){function m(O,y){this.type=s.JSXSyntax.JSXMemberExpression,this.object=O,this.property=y}return m}();i.JSXMemberExpression=u;var d=function(){function m(O,y){this.type=s.JSXSyntax.JSXAttribute,this.name=O,this.value=y}return m}();i.JSXAttribute=d;var x=function(){function m(O,y){this.type=s.JSXSyntax.JSXNamespacedName,this.namespace=O,this.name=y}return m}();i.JSXNamespacedName=x;var g=function(){function m(O,y,b){this.type=s.JSXSyntax.JSXOpeningElement,this.name=O,this.selfClosing=y,this.attributes=b}return m}();i.JSXOpeningElement=g;var f=function(){function m(O){this.type=s.JSXSyntax.JSXSpreadAttribute,this.argument=O}return m}();i.JSXSpreadAttribute=f;var p=function(){function m(O,y){this.type=s.JSXSyntax.JSXText,this.value=O,this.raw=y}return m}();i.JSXText=p},function(t,i){Object.defineProperty(i,"__esModule",{value:!0}),i.JSXSyntax={JSXAttribute:"JSXAttribute",JSXClosingElement:"JSXClosingElement",JSXElement:"JSXElement",JSXEmptyExpression:"JSXEmptyExpression",JSXExpressionContainer:"JSXExpressionContainer",JSXIdentifier:"JSXIdentifier",JSXMemberExpression:"JSXMemberExpression",JSXNamespacedName:"JSXNamespacedName",JSXOpeningElement:"JSXOpeningElement",JSXSpreadAttribute:"JSXSpreadAttribute",JSXText:"JSXText"}},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=r(2),o=function(){function D(E){this.type=s.Syntax.ArrayExpression,this.elements=E}return D}();i.ArrayExpression=o;var a=function(){function D(E){this.type=s.Syntax.ArrayPattern,this.elements=E}return D}();i.ArrayPattern=a;var l=function(){function D(E,P,V){this.type=s.Syntax.ArrowFunctionExpression,this.id=null,this.params=E,this.body=P,this.generator=!1,this.expression=V,this.async=!1}return D}();i.ArrowFunctionExpression=l;var h=function(){function D(E,P,V){this.type=s.Syntax.AssignmentExpression,this.operator=E,this.left=P,this.right=V}return D}();i.AssignmentExpression=h;var c=function(){function D(E,P){this.type=s.Syntax.AssignmentPattern,this.left=E,this.right=P}return D}();i.AssignmentPattern=c;var u=function(){function D(E,P,V){this.type=s.Syntax.ArrowFunctionExpression,this.id=null,this.params=E,this.body=P,this.generator=!1,this.expression=V,this.async=!0}return D}();i.AsyncArrowFunctionExpression=u;var d=function(){function D(E,P,V){this.type=s.Syntax.FunctionDeclaration,this.id=E,this.params=P,this.body=V,this.generator=!1,this.expression=!1,this.async=!0}return D}();i.AsyncFunctionDeclaration=d;var x=function(){function D(E,P,V){this.type=s.Syntax.FunctionExpression,this.id=E,this.params=P,this.body=V,this.generator=!1,this.expression=!1,this.async=!0}return D}();i.AsyncFunctionExpression=x;var g=function(){function D(E){this.type=s.Syntax.AwaitExpression,this.argument=E}return D}();i.AwaitExpression=g;var f=function(){function D(E,P,V){var tt=E==="||"||E==="&&";this.type=tt?s.Syntax.LogicalExpression:s.Syntax.BinaryExpression,this.operator=E,this.left=P,this.right=V}return D}();i.BinaryExpression=f;var p=function(){function D(E){this.type=s.Syntax.BlockStatement,this.body=E}return D}();i.BlockStatement=p;var m=function(){function D(E){this.type=s.Syntax.BreakStatement,this.label=E}return D}();i.BreakStatement=m;var O=function(){function D(E,P){this.type=s.Syntax.CallExpression,this.callee=E,this.arguments=P}return D}();i.CallExpression=O;var y=function(){function D(E,P){this.type=s.Syntax.CatchClause,this.param=E,this.body=P}return D}();i.CatchClause=y;var b=function(){function D(E){this.type=s.Syntax.ClassBody,this.body=E}return D}();i.ClassBody=b;var w=function(){function D(E,P,V){this.type=s.Syntax.ClassDeclaration,this.id=E,this.superClass=P,this.body=V}return D}();i.ClassDeclaration=w;var S=function(){function D(E,P,V){this.type=s.Syntax.ClassExpression,this.id=E,this.superClass=P,this.body=V}return D}();i.ClassExpression=S;var v=function(){function D(E,P){this.type=s.Syntax.MemberExpression,this.computed=!0,this.object=E,this.property=P}return D}();i.ComputedMemberExpression=v;var C=function(){function D(E,P,V){this.type=s.Syntax.ConditionalExpression,this.test=E,this.consequent=P,this.alternate=V}return D}();i.ConditionalExpression=C;var k=function(){function D(E){this.type=s.Syntax.ContinueStatement,this.label=E}return D}();i.ContinueStatement=k;var A=function(){function D(){this.type=s.Syntax.DebuggerStatement}return D}();i.DebuggerStatement=A;var Q=function(){function D(E,P){this.type=s.Syntax.ExpressionStatement,this.expression=E,this.directive=P}return D}();i.Directive=Q;var R=function(){function D(E,P){this.type=s.Syntax.DoWhileStatement,this.body=E,this.test=P}return D}();i.DoWhileStatement=R;var M=function(){function D(){this.type=s.Syntax.EmptyStatement}return D}();i.EmptyStatement=M;var _=function(){function D(E){this.type=s.Syntax.ExportAllDeclaration,this.source=E}return D}();i.ExportAllDeclaration=_;var Z=function(){function D(E){this.type=s.Syntax.ExportDefaultDeclaration,this.declaration=E}return D}();i.ExportDefaultDeclaration=Z;var G=function(){function D(E,P,V){this.type=s.Syntax.ExportNamedDeclaration,this.declaration=E,this.specifiers=P,this.source=V}return D}();i.ExportNamedDeclaration=G;var ce=function(){function D(E,P){this.type=s.Syntax.ExportSpecifier,this.exported=P,this.local=E}return D}();i.ExportSpecifier=ce;var ee=function(){function D(E){this.type=s.Syntax.ExpressionStatement,this.expression=E}return D}();i.ExpressionStatement=ee;var ne=function(){function D(E,P,V){this.type=s.Syntax.ForInStatement,this.left=E,this.right=P,this.body=V,this.each=!1}return D}();i.ForInStatement=ne;var se=function(){function D(E,P,V){this.type=s.Syntax.ForOfStatement,this.left=E,this.right=P,this.body=V}return D}();i.ForOfStatement=se;var be=function(){function D(E,P,V,tt){this.type=s.Syntax.ForStatement,this.init=E,this.test=P,this.update=V,this.body=tt}return D}();i.ForStatement=be;var ke=function(){function D(E,P,V,tt){this.type=s.Syntax.FunctionDeclaration,this.id=E,this.params=P,this.body=V,this.generator=tt,this.expression=!1,this.async=!1}return D}();i.FunctionDeclaration=ke;var qe=function(){function D(E,P,V,tt){this.type=s.Syntax.FunctionExpression,this.id=E,this.params=P,this.body=V,this.generator=tt,this.expression=!1,this.async=!1}return D}();i.FunctionExpression=qe;var wt=function(){function D(E){this.type=s.Syntax.Identifier,this.name=E}return D}();i.Identifier=wt;var $m=function(){function D(E,P,V){this.type=s.Syntax.IfStatement,this.test=E,this.consequent=P,this.alternate=V}return D}();i.IfStatement=$m;var Qm=function(){function D(E,P){this.type=s.Syntax.ImportDeclaration,this.specifiers=E,this.source=P}return D}();i.ImportDeclaration=Qm;var Pm=function(){function D(E){this.type=s.Syntax.ImportDefaultSpecifier,this.local=E}return D}();i.ImportDefaultSpecifier=Pm;var Rm=function(){function D(E){this.type=s.Syntax.ImportNamespaceSpecifier,this.local=E}return D}();i.ImportNamespaceSpecifier=Rm;var Im=function(){function D(E,P){this.type=s.Syntax.ImportSpecifier,this.local=E,this.imported=P}return D}();i.ImportSpecifier=Im;var Bm=function(){function D(E,P){this.type=s.Syntax.LabeledStatement,this.label=E,this.body=P}return D}();i.LabeledStatement=Bm;var Mm=function(){function D(E,P){this.type=s.Syntax.Literal,this.value=E,this.raw=P}return D}();i.Literal=Mm;var Wm=function(){function D(E,P){this.type=s.Syntax.MetaProperty,this.meta=E,this.property=P}return D}();i.MetaProperty=Wm;var Nm=function(){function D(E,P,V,tt,Po){this.type=s.Syntax.MethodDefinition,this.key=E,this.computed=P,this.value=V,this.kind=tt,this.static=Po}return D}();i.MethodDefinition=Nm;var Lm=function(){function D(E){this.type=s.Syntax.Program,this.body=E,this.sourceType="module"}return D}();i.Module=Lm;var Xm=function(){function D(E,P){this.type=s.Syntax.NewExpression,this.callee=E,this.arguments=P}return D}();i.NewExpression=Xm;var Um=function(){function D(E){this.type=s.Syntax.ObjectExpression,this.properties=E}return D}();i.ObjectExpression=Um;var zm=function(){function D(E){this.type=s.Syntax.ObjectPattern,this.properties=E}return D}();i.ObjectPattern=zm;var _m=function(){function D(E,P,V,tt,Po,pg){this.type=s.Syntax.Property,this.key=P,this.computed=V,this.value=tt,this.kind=E,this.method=Po,this.shorthand=pg}return D}();i.Property=_m;var jm=function(){function D(E,P,V,tt){this.type=s.Syntax.Literal,this.value=E,this.raw=P,this.regex={pattern:V,flags:tt}}return D}();i.RegexLiteral=jm;var Zm=function(){function D(E){this.type=s.Syntax.RestElement,this.argument=E}return D}();i.RestElement=Zm;var Gm=function(){function D(E){this.type=s.Syntax.ReturnStatement,this.argument=E}return D}();i.ReturnStatement=Gm;var qm=function(){function D(E){this.type=s.Syntax.Program,this.body=E,this.sourceType="script"}return D}();i.Script=qm;var Vm=function(){function D(E){this.type=s.Syntax.SequenceExpression,this.expressions=E}return D}();i.SequenceExpression=Vm;var Ym=function(){function D(E){this.type=s.Syntax.SpreadElement,this.argument=E}return D}();i.SpreadElement=Ym;var Jm=function(){function D(E,P){this.type=s.Syntax.MemberExpression,this.computed=!1,this.object=E,this.property=P}return D}();i.StaticMemberExpression=Jm;var Hm=function(){function D(){this.type=s.Syntax.Super}return D}();i.Super=Hm;var Km=function(){function D(E,P){this.type=s.Syntax.SwitchCase,this.test=E,this.consequent=P}return D}();i.SwitchCase=Km;var eg=function(){function D(E,P){this.type=s.Syntax.SwitchStatement,this.discriminant=E,this.cases=P}return D}();i.SwitchStatement=eg;var tg=function(){function D(E,P){this.type=s.Syntax.TaggedTemplateExpression,this.tag=E,this.quasi=P}return D}();i.TaggedTemplateExpression=tg;var ig=function(){function D(E,P){this.type=s.Syntax.TemplateElement,this.value=E,this.tail=P}return D}();i.TemplateElement=ig;var ng=function(){function D(E,P){this.type=s.Syntax.TemplateLiteral,this.quasis=E,this.expressions=P}return D}();i.TemplateLiteral=ng;var rg=function(){function D(){this.type=s.Syntax.ThisExpression}return D}();i.ThisExpression=rg;var sg=function(){function D(E){this.type=s.Syntax.ThrowStatement,this.argument=E}return D}();i.ThrowStatement=sg;var og=function(){function D(E,P,V){this.type=s.Syntax.TryStatement,this.block=E,this.handler=P,this.finalizer=V}return D}();i.TryStatement=og;var ag=function(){function D(E,P){this.type=s.Syntax.UnaryExpression,this.operator=E,this.argument=P,this.prefix=!0}return D}();i.UnaryExpression=ag;var lg=function(){function D(E,P,V){this.type=s.Syntax.UpdateExpression,this.operator=E,this.argument=P,this.prefix=V}return D}();i.UpdateExpression=lg;var hg=function(){function D(E,P){this.type=s.Syntax.VariableDeclaration,this.declarations=E,this.kind=P}return D}();i.VariableDeclaration=hg;var cg=function(){function D(E,P){this.type=s.Syntax.VariableDeclarator,this.id=E,this.init=P}return D}();i.VariableDeclarator=cg;var ug=function(){function D(E,P){this.type=s.Syntax.WhileStatement,this.test=E,this.body=P}return D}();i.WhileStatement=ug;var fg=function(){function D(E,P){this.type=s.Syntax.WithStatement,this.object=E,this.body=P}return D}();i.WithStatement=fg;var dg=function(){function D(E,P){this.type=s.Syntax.YieldExpression,this.argument=E,this.delegate=P}return D}();i.YieldExpression=dg},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=r(9),o=r(10),a=r(11),l=r(7),h=r(12),c=r(2),u=r(13),d="ArrowParameterPlaceHolder",x=function(){function g(f,p,m){p===void 0&&(p={}),this.config={range:typeof p.range=="boolean"&&p.range,loc:typeof p.loc=="boolean"&&p.loc,source:null,tokens:typeof p.tokens=="boolean"&&p.tokens,comment:typeof p.comment=="boolean"&&p.comment,tolerant:typeof p.tolerant=="boolean"&&p.tolerant},this.config.loc&&p.source&&p.source!==null&&(this.config.source=String(p.source)),this.delegate=m,this.errorHandler=new o.ErrorHandler,this.errorHandler.tolerant=this.config.tolerant,this.scanner=new h.Scanner(f,this.errorHandler),this.scanner.trackComment=this.config.comment,this.operatorPrecedence={")":0,";":0,",":0,"=":0,"]":0,"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":11,"/":11,"%":11},this.lookahead={type:2,value:"",lineNumber:this.scanner.lineNumber,lineStart:0,start:0,end:0},this.hasLineTerminator=!1,this.context={isModule:!1,await:!1,allowIn:!0,allowStrictDirective:!0,allowYield:!0,firstCoverInitializedNameError:null,isAssignmentTarget:!1,isBindingElement:!1,inFunctionBody:!1,inIteration:!1,inSwitch:!1,labelSet:{},strict:!1},this.tokens=[],this.startMarker={index:0,line:this.scanner.lineNumber,column:0},this.lastMarker={index:0,line:this.scanner.lineNumber,column:0},this.nextToken(),this.lastMarker={index:this.scanner.index,line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}return g.prototype.throwError=function(f){var p=Array.prototype.slice.call(arguments,1),m=f.replace(/%(\d)/g,function(w,S){return s.assert(S<p.length,"Message reference must be in range"),p[S]}),O=this.lastMarker.index,y=this.lastMarker.line,b=this.lastMarker.column+1;throw this.errorHandler.createError(O,y,b,m)},g.prototype.tolerateError=function(f){var p=Array.prototype.slice.call(arguments,1),m=f.replace(/%(\d)/g,function(w,S){return s.assert(S<p.length,"Message reference must be in range"),p[S]}),O=this.lastMarker.index,y=this.scanner.lineNumber,b=this.lastMarker.column+1;this.errorHandler.tolerateError(O,y,b,m)},g.prototype.unexpectedTokenError=function(f,p){var m=p||a.Messages.UnexpectedToken,O;if(f?(p||(m=f.type===2?a.Messages.UnexpectedEOS:f.type===3?a.Messages.UnexpectedIdentifier:f.type===6?a.Messages.UnexpectedNumber:f.type===8?a.Messages.UnexpectedString:f.type===10?a.Messages.UnexpectedTemplate:a.Messages.UnexpectedToken,f.type===4&&(this.scanner.isFutureReservedWord(f.value)?m=a.Messages.UnexpectedReserved:this.context.strict&&this.scanner.isStrictModeReservedWord(f.value)&&(m=a.Messages.StrictReservedWord))),O=f.value):O="ILLEGAL",m=m.replace("%0",O),f&&typeof f.lineNumber=="number"){var y=f.start,b=f.lineNumber,w=this.lastMarker.index-this.lastMarker.column,S=f.start-w+1;return this.errorHandler.createError(y,b,S,m)}else{var y=this.lastMarker.index,b=this.lastMarker.line,S=this.lastMarker.column+1;return this.errorHandler.createError(y,b,S,m)}},g.prototype.throwUnexpectedToken=function(f,p){throw this.unexpectedTokenError(f,p)},g.prototype.tolerateUnexpectedToken=function(f,p){this.errorHandler.tolerate(this.unexpectedTokenError(f,p))},g.prototype.collectComments=function(){if(!this.config.comment)this.scanner.scanComments();else{var f=this.scanner.scanComments();if(f.length>0&&this.delegate)for(var p=0;p<f.length;++p){var m=f[p],O=void 0;O={type:m.multiLine?"BlockComment":"LineComment",value:this.scanner.source.slice(m.slice[0],m.slice[1])},this.config.range&&(O.range=m.range),this.config.loc&&(O.loc=m.loc);var y={start:{line:m.loc.start.line,column:m.loc.start.column,offset:m.range[0]},end:{line:m.loc.end.line,column:m.loc.end.column,offset:m.range[1]}};this.delegate(O,y)}}},g.prototype.getTokenRaw=function(f){return this.scanner.source.slice(f.start,f.end)},g.prototype.convertToken=function(f){var p={type:u.TokenName[f.type],value:this.getTokenRaw(f)};if(this.config.range&&(p.range=[f.start,f.end]),this.config.loc&&(p.loc={start:{line:this.startMarker.line,column:this.startMarker.column},end:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart}}),f.type===9){var m=f.pattern,O=f.flags;p.regex={pattern:m,flags:O}}return p},g.prototype.nextToken=function(){var f=this.lookahead;this.lastMarker.index=this.scanner.index,this.lastMarker.line=this.scanner.lineNumber,this.lastMarker.column=this.scanner.index-this.scanner.lineStart,this.collectComments(),this.scanner.index!==this.startMarker.index&&(this.startMarker.index=this.scanner.index,this.startMarker.line=this.scanner.lineNumber,this.startMarker.column=this.scanner.index-this.scanner.lineStart);var p=this.scanner.lex();return this.hasLineTerminator=f.lineNumber!==p.lineNumber,p&&this.context.strict&&p.type===3&&this.scanner.isStrictModeReservedWord(p.value)&&(p.type=4),this.lookahead=p,this.config.tokens&&p.type!==2&&this.tokens.push(this.convertToken(p)),f},g.prototype.nextRegexToken=function(){this.collectComments();var f=this.scanner.scanRegExp();return this.config.tokens&&(this.tokens.pop(),this.tokens.push(this.convertToken(f))),this.lookahead=f,this.nextToken(),f},g.prototype.createNode=function(){return{index:this.startMarker.index,line:this.startMarker.line,column:this.startMarker.column}},g.prototype.startNode=function(f,p){p===void 0&&(p=0);var m=f.start-f.lineStart,O=f.lineNumber;return m<0&&(m+=p,O--),{index:f.start,line:O,column:m}},g.prototype.finalize=function(f,p){if(this.config.range&&(p.range=[f.index,this.lastMarker.index]),this.config.loc&&(p.loc={start:{line:f.line,column:f.column},end:{line:this.lastMarker.line,column:this.lastMarker.column}},this.config.source&&(p.loc.source=this.config.source)),this.delegate){var m={start:{line:f.line,column:f.column,offset:f.index},end:{line:this.lastMarker.line,column:this.lastMarker.column,offset:this.lastMarker.index}};this.delegate(p,m)}return p},g.prototype.expect=function(f){var p=this.nextToken();(p.type!==7||p.value!==f)&&this.throwUnexpectedToken(p)},g.prototype.expectCommaSeparator=function(){if(this.config.tolerant){var f=this.lookahead;f.type===7&&f.value===","?this.nextToken():f.type===7&&f.value===";"?(this.nextToken(),this.tolerateUnexpectedToken(f)):this.tolerateUnexpectedToken(f,a.Messages.UnexpectedToken)}else this.expect(",")},g.prototype.expectKeyword=function(f){var p=this.nextToken();(p.type!==4||p.value!==f)&&this.throwUnexpectedToken(p)},g.prototype.match=function(f){return this.lookahead.type===7&&this.lookahead.value===f},g.prototype.matchKeyword=function(f){return this.lookahead.type===4&&this.lookahead.value===f},g.prototype.matchContextualKeyword=function(f){return this.lookahead.type===3&&this.lookahead.value===f},g.prototype.matchAssign=function(){if(this.lookahead.type!==7)return!1;var f=this.lookahead.value;return f==="="||f==="*="||f==="**="||f==="/="||f==="%="||f==="+="||f==="-="||f==="<<="||f===">>="||f===">>>="||f==="&="||f==="^="||f==="|="},g.prototype.isolateCoverGrammar=function(f){var p=this.context.isBindingElement,m=this.context.isAssignmentTarget,O=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var y=f.call(this);return this.context.firstCoverInitializedNameError!==null&&this.throwUnexpectedToken(this.context.firstCoverInitializedNameError),this.context.isBindingElement=p,this.context.isAssignmentTarget=m,this.context.firstCoverInitializedNameError=O,y},g.prototype.inheritCoverGrammar=function(f){var p=this.context.isBindingElement,m=this.context.isAssignmentTarget,O=this.context.firstCoverInitializedNameError;this.context.isBindingElement=!0,this.context.isAssignmentTarget=!0,this.context.firstCoverInitializedNameError=null;var y=f.call(this);return this.context.isBindingElement=this.context.isBindingElement&&p,this.context.isAssignmentTarget=this.context.isAssignmentTarget&&m,this.context.firstCoverInitializedNameError=O||this.context.firstCoverInitializedNameError,y},g.prototype.consumeSemicolon=function(){this.match(";")?this.nextToken():this.hasLineTerminator||(this.lookahead.type!==2&&!this.match("}")&&this.throwUnexpectedToken(this.lookahead),this.lastMarker.index=this.startMarker.index,this.lastMarker.line=this.startMarker.line,this.lastMarker.column=this.startMarker.column)},g.prototype.parsePrimaryExpression=function(){var f=this.createNode(),p,m,O;switch(this.lookahead.type){case 3:(this.context.isModule||this.context.await)&&this.lookahead.value==="await"&&this.tolerateUnexpectedToken(this.lookahead),p=this.matchAsyncFunction()?this.parseFunctionExpression():this.finalize(f,new l.Identifier(this.nextToken().value));break;case 6:case 8:this.context.strict&&this.lookahead.octal&&this.tolerateUnexpectedToken(this.lookahead,a.Messages.StrictOctalLiteral),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,m=this.nextToken(),O=this.getTokenRaw(m),p=this.finalize(f,new l.Literal(m.value,O));break;case 1:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,m=this.nextToken(),O=this.getTokenRaw(m),p=this.finalize(f,new l.Literal(m.value==="true",O));break;case 5:this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,m=this.nextToken(),O=this.getTokenRaw(m),p=this.finalize(f,new l.Literal(null,O));break;case 10:p=this.parseTemplateLiteral();break;case 7:switch(this.lookahead.value){case"(":this.context.isBindingElement=!1,p=this.inheritCoverGrammar(this.parseGroupExpression);break;case"[":p=this.inheritCoverGrammar(this.parseArrayInitializer);break;case"{":p=this.inheritCoverGrammar(this.parseObjectInitializer);break;case"/":case"/=":this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.scanner.index=this.startMarker.index,m=this.nextRegexToken(),O=this.getTokenRaw(m),p=this.finalize(f,new l.RegexLiteral(m.regex,O,m.pattern,m.flags));break;default:p=this.throwUnexpectedToken(this.nextToken())}break;case 4:!this.context.strict&&this.context.allowYield&&this.matchKeyword("yield")?p=this.parseIdentifierName():!this.context.strict&&this.matchKeyword("let")?p=this.finalize(f,new l.Identifier(this.nextToken().value)):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.matchKeyword("function")?p=this.parseFunctionExpression():this.matchKeyword("this")?(this.nextToken(),p=this.finalize(f,new l.ThisExpression)):this.matchKeyword("class")?p=this.parseClassExpression():p=this.throwUnexpectedToken(this.nextToken()));break;default:p=this.throwUnexpectedToken(this.nextToken())}return p},g.prototype.parseSpreadElement=function(){var f=this.createNode();this.expect("...");var p=this.inheritCoverGrammar(this.parseAssignmentExpression);return this.finalize(f,new l.SpreadElement(p))},g.prototype.parseArrayInitializer=function(){var f=this.createNode(),p=[];for(this.expect("[");!this.match("]");)if(this.match(","))this.nextToken(),p.push(null);else if(this.match("...")){var m=this.parseSpreadElement();this.match("]")||(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1,this.expect(",")),p.push(m)}else p.push(this.inheritCoverGrammar(this.parseAssignmentExpression)),this.match("]")||this.expect(",");return this.expect("]"),this.finalize(f,new l.ArrayExpression(p))},g.prototype.parsePropertyMethod=function(f){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var p=this.context.strict,m=this.context.allowStrictDirective;this.context.allowStrictDirective=f.simple;var O=this.isolateCoverGrammar(this.parseFunctionSourceElements);return this.context.strict&&f.firstRestricted&&this.tolerateUnexpectedToken(f.firstRestricted,f.message),this.context.strict&&f.stricted&&this.tolerateUnexpectedToken(f.stricted,f.message),this.context.strict=p,this.context.allowStrictDirective=m,O},g.prototype.parsePropertyMethodFunction=function(){var f=!1,p=this.createNode(),m=this.context.allowYield;this.context.allowYield=!0;var O=this.parseFormalParameters(),y=this.parsePropertyMethod(O);return this.context.allowYield=m,this.finalize(p,new l.FunctionExpression(null,O.params,y,f))},g.prototype.parsePropertyMethodAsyncFunction=function(){var f=this.createNode(),p=this.context.allowYield,m=this.context.await;this.context.allowYield=!1,this.context.await=!0;var O=this.parseFormalParameters(),y=this.parsePropertyMethod(O);return this.context.allowYield=p,this.context.await=m,this.finalize(f,new l.AsyncFunctionExpression(null,O.params,y))},g.prototype.parseObjectPropertyKey=function(){var f=this.createNode(),p=this.nextToken(),m;switch(p.type){case 8:case 6:this.context.strict&&p.octal&&this.tolerateUnexpectedToken(p,a.Messages.StrictOctalLiteral);var O=this.getTokenRaw(p);m=this.finalize(f,new l.Literal(p.value,O));break;case 3:case 1:case 5:case 4:m=this.finalize(f,new l.Identifier(p.value));break;case 7:p.value==="["?(m=this.isolateCoverGrammar(this.parseAssignmentExpression),this.expect("]")):m=this.throwUnexpectedToken(p);break;default:m=this.throwUnexpectedToken(p)}return m},g.prototype.isPropertyKey=function(f,p){return f.type===c.Syntax.Identifier&&f.name===p||f.type===c.Syntax.Literal&&f.value===p},g.prototype.parseObjectProperty=function(f){var p=this.createNode(),m=this.lookahead,O,y=null,b=null,w=!1,S=!1,v=!1,C=!1;if(m.type===3){var k=m.value;this.nextToken(),w=this.match("["),C=!this.hasLineTerminator&&k==="async"&&!this.match(":")&&!this.match("(")&&!this.match("*")&&!this.match(","),y=C?this.parseObjectPropertyKey():this.finalize(p,new l.Identifier(k))}else this.match("*")?this.nextToken():(w=this.match("["),y=this.parseObjectPropertyKey());var A=this.qualifiedPropertyName(this.lookahead);if(m.type===3&&!C&&m.value==="get"&&A)O="get",w=this.match("["),y=this.parseObjectPropertyKey(),this.context.allowYield=!1,b=this.parseGetterMethod();else if(m.type===3&&!C&&m.value==="set"&&A)O="set",w=this.match("["),y=this.parseObjectPropertyKey(),b=this.parseSetterMethod();else if(m.type===7&&m.value==="*"&&A)O="init",w=this.match("["),y=this.parseObjectPropertyKey(),b=this.parseGeneratorMethod(),S=!0;else if(y||this.throwUnexpectedToken(this.lookahead),O="init",this.match(":")&&!C)!w&&this.isPropertyKey(y,"__proto__")&&(f.value&&this.tolerateError(a.Messages.DuplicateProtoProperty),f.value=!0),this.nextToken(),b=this.inheritCoverGrammar(this.parseAssignmentExpression);else if(this.match("("))b=C?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),S=!0;else if(m.type===3){var k=this.finalize(p,new l.Identifier(m.value));if(this.match("=")){this.context.firstCoverInitializedNameError=this.lookahead,this.nextToken(),v=!0;var Q=this.isolateCoverGrammar(this.parseAssignmentExpression);b=this.finalize(p,new l.AssignmentPattern(k,Q))}else v=!0,b=k}else this.throwUnexpectedToken(this.nextToken());return this.finalize(p,new l.Property(O,y,w,b,S,v))},g.prototype.parseObjectInitializer=function(){var f=this.createNode();this.expect("{");for(var p=[],m={value:!1};!this.match("}");)p.push(this.parseObjectProperty(m)),this.match("}")||this.expectCommaSeparator();return this.expect("}"),this.finalize(f,new l.ObjectExpression(p))},g.prototype.parseTemplateHead=function(){s.assert(this.lookahead.head,"Template literal must start with a template head");var f=this.createNode(),p=this.nextToken(),m=p.value,O=p.cooked;return this.finalize(f,new l.TemplateElement({raw:m,cooked:O},p.tail))},g.prototype.parseTemplateElement=function(){this.lookahead.type!==10&&this.throwUnexpectedToken();var f=this.createNode(),p=this.nextToken(),m=p.value,O=p.cooked;return this.finalize(f,new l.TemplateElement({raw:m,cooked:O},p.tail))},g.prototype.parseTemplateLiteral=function(){var f=this.createNode(),p=[],m=[],O=this.parseTemplateHead();for(m.push(O);!O.tail;)p.push(this.parseExpression()),O=this.parseTemplateElement(),m.push(O);return this.finalize(f,new l.TemplateLiteral(m,p))},g.prototype.reinterpretExpressionAsPattern=function(f){switch(f.type){case c.Syntax.Identifier:case c.Syntax.MemberExpression:case c.Syntax.RestElement:case c.Syntax.AssignmentPattern:break;case c.Syntax.SpreadElement:f.type=c.Syntax.RestElement,this.reinterpretExpressionAsPattern(f.argument);break;case c.Syntax.ArrayExpression:f.type=c.Syntax.ArrayPattern;for(var p=0;p<f.elements.length;p++)f.elements[p]!==null&&this.reinterpretExpressionAsPattern(f.elements[p]);break;case c.Syntax.ObjectExpression:f.type=c.Syntax.ObjectPattern;for(var p=0;p<f.properties.length;p++)this.reinterpretExpressionAsPattern(f.properties[p].value);break;case c.Syntax.AssignmentExpression:f.type=c.Syntax.AssignmentPattern,delete f.operator,this.reinterpretExpressionAsPattern(f.left);break}},g.prototype.parseGroupExpression=function(){var f;if(this.expect("("),this.match(")"))this.nextToken(),this.match("=>")||this.expect("=>"),f={type:d,params:[],async:!1};else{var p=this.lookahead,m=[];if(this.match("..."))f=this.parseRestElement(m),this.expect(")"),this.match("=>")||this.expect("=>"),f={type:d,params:[f],async:!1};else{var O=!1;if(this.context.isBindingElement=!0,f=this.inheritCoverGrammar(this.parseAssignmentExpression),this.match(",")){var y=[];for(this.context.isAssignmentTarget=!1,y.push(f);this.lookahead.type!==2&&this.match(",");){if(this.nextToken(),this.match(")")){this.nextToken();for(var b=0;b<y.length;b++)this.reinterpretExpressionAsPattern(y[b]);O=!0,f={type:d,params:y,async:!1}}else if(this.match("...")){this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),y.push(this.parseRestElement(m)),this.expect(")"),this.match("=>")||this.expect("=>"),this.context.isBindingElement=!1;for(var b=0;b<y.length;b++)this.reinterpretExpressionAsPattern(y[b]);O=!0,f={type:d,params:y,async:!1}}else y.push(this.inheritCoverGrammar(this.parseAssignmentExpression));if(O)break}O||(f=this.finalize(this.startNode(p),new l.SequenceExpression(y)))}if(!O){if(this.expect(")"),this.match("=>")&&(f.type===c.Syntax.Identifier&&f.name==="yield"&&(O=!0,f={type:d,params:[f],async:!1}),!O)){if(this.context.isBindingElement||this.throwUnexpectedToken(this.lookahead),f.type===c.Syntax.SequenceExpression)for(var b=0;b<f.expressions.length;b++)this.reinterpretExpressionAsPattern(f.expressions[b]);else this.reinterpretExpressionAsPattern(f);var w=f.type===c.Syntax.SequenceExpression?f.expressions:[f];f={type:d,params:w,async:!1}}this.context.isBindingElement=!1}}}return f},g.prototype.parseArguments=function(){this.expect("(");var f=[];if(!this.match(")"))for(;;){var p=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAssignmentExpression);if(f.push(p),this.match(")")||(this.expectCommaSeparator(),this.match(")")))break}return this.expect(")"),f},g.prototype.isIdentifierName=function(f){return f.type===3||f.type===4||f.type===1||f.type===5},g.prototype.parseIdentifierName=function(){var f=this.createNode(),p=this.nextToken();return this.isIdentifierName(p)||this.throwUnexpectedToken(p),this.finalize(f,new l.Identifier(p.value))},g.prototype.parseNewExpression=function(){var f=this.createNode(),p=this.parseIdentifierName();s.assert(p.name==="new","New expression must start with `new`");var m;if(this.match("."))if(this.nextToken(),this.lookahead.type===3&&this.context.inFunctionBody&&this.lookahead.value==="target"){var O=this.parseIdentifierName();m=new l.MetaProperty(p,O)}else this.throwUnexpectedToken(this.lookahead);else{var y=this.isolateCoverGrammar(this.parseLeftHandSideExpression),b=this.match("(")?this.parseArguments():[];m=new l.NewExpression(y,b),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return this.finalize(f,m)},g.prototype.parseAsyncArgument=function(){var f=this.parseAssignmentExpression();return this.context.firstCoverInitializedNameError=null,f},g.prototype.parseAsyncArguments=function(){this.expect("(");var f=[];if(!this.match(")"))for(;;){var p=this.match("...")?this.parseSpreadElement():this.isolateCoverGrammar(this.parseAsyncArgument);if(f.push(p),this.match(")")||(this.expectCommaSeparator(),this.match(")")))break}return this.expect(")"),f},g.prototype.parseLeftHandSideExpressionAllowCall=function(){var f=this.lookahead,p=this.matchContextualKeyword("async"),m=this.context.allowIn;this.context.allowIn=!0;var O;for(this.matchKeyword("super")&&this.context.inFunctionBody?(O=this.createNode(),this.nextToken(),O=this.finalize(O,new l.Super),!this.match("(")&&!this.match(".")&&!this.match("[")&&this.throwUnexpectedToken(this.lookahead)):O=this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var y=this.parseIdentifierName();O=this.finalize(this.startNode(f),new l.StaticMemberExpression(O,y))}else if(this.match("(")){var b=p&&f.lineNumber===this.lookahead.lineNumber;this.context.isBindingElement=!1,this.context.isAssignmentTarget=!1;var w=b?this.parseAsyncArguments():this.parseArguments();if(O=this.finalize(this.startNode(f),new l.CallExpression(O,w)),b&&this.match("=>")){for(var S=0;S<w.length;++S)this.reinterpretExpressionAsPattern(w[S]);O={type:d,params:w,async:!0}}}else if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var y=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),O=this.finalize(this.startNode(f),new l.ComputedMemberExpression(O,y))}else if(this.lookahead.type===10&&this.lookahead.head){var v=this.parseTemplateLiteral();O=this.finalize(this.startNode(f),new l.TaggedTemplateExpression(O,v))}else break;return this.context.allowIn=m,O},g.prototype.parseSuper=function(){var f=this.createNode();return this.expectKeyword("super"),!this.match("[")&&!this.match(".")&&this.throwUnexpectedToken(this.lookahead),this.finalize(f,new l.Super)},g.prototype.parseLeftHandSideExpression=function(){s.assert(this.context.allowIn,"callee of new expression always allow in keyword.");for(var f=this.startNode(this.lookahead),p=this.matchKeyword("super")&&this.context.inFunctionBody?this.parseSuper():this.inheritCoverGrammar(this.matchKeyword("new")?this.parseNewExpression:this.parsePrimaryExpression);;)if(this.match("[")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect("[");var m=this.isolateCoverGrammar(this.parseExpression);this.expect("]"),p=this.finalize(f,new l.ComputedMemberExpression(p,m))}else if(this.match(".")){this.context.isBindingElement=!1,this.context.isAssignmentTarget=!0,this.expect(".");var m=this.parseIdentifierName();p=this.finalize(f,new l.StaticMemberExpression(p,m))}else if(this.lookahead.type===10&&this.lookahead.head){var O=this.parseTemplateLiteral();p=this.finalize(f,new l.TaggedTemplateExpression(p,O))}else break;return p},g.prototype.parseUpdateExpression=function(){var f,p=this.lookahead;if(this.match("++")||this.match("--")){var m=this.startNode(p),O=this.nextToken();f=this.inheritCoverGrammar(this.parseUnaryExpression),this.context.strict&&f.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(f.name)&&this.tolerateError(a.Messages.StrictLHSPrefix),this.context.isAssignmentTarget||this.tolerateError(a.Messages.InvalidLHSInAssignment);var y=!0;f=this.finalize(m,new l.UpdateExpression(O.value,f,y)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else if(f=this.inheritCoverGrammar(this.parseLeftHandSideExpressionAllowCall),!this.hasLineTerminator&&this.lookahead.type===7&&(this.match("++")||this.match("--"))){this.context.strict&&f.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(f.name)&&this.tolerateError(a.Messages.StrictLHSPostfix),this.context.isAssignmentTarget||this.tolerateError(a.Messages.InvalidLHSInAssignment),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var b=this.nextToken().value,y=!1;f=this.finalize(this.startNode(p),new l.UpdateExpression(b,f,y))}return f},g.prototype.parseAwaitExpression=function(){var f=this.createNode();this.nextToken();var p=this.parseUnaryExpression();return this.finalize(f,new l.AwaitExpression(p))},g.prototype.parseUnaryExpression=function(){var f;if(this.match("+")||this.match("-")||this.match("~")||this.match("!")||this.matchKeyword("delete")||this.matchKeyword("void")||this.matchKeyword("typeof")){var p=this.startNode(this.lookahead),m=this.nextToken();f=this.inheritCoverGrammar(this.parseUnaryExpression),f=this.finalize(p,new l.UnaryExpression(m.value,f)),this.context.strict&&f.operator==="delete"&&f.argument.type===c.Syntax.Identifier&&this.tolerateError(a.Messages.StrictDelete),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}else this.context.await&&this.matchContextualKeyword("await")?f=this.parseAwaitExpression():f=this.parseUpdateExpression();return f},g.prototype.parseExponentiationExpression=function(){var f=this.lookahead,p=this.inheritCoverGrammar(this.parseUnaryExpression);if(p.type!==c.Syntax.UnaryExpression&&this.match("**")){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var m=p,O=this.isolateCoverGrammar(this.parseExponentiationExpression);p=this.finalize(this.startNode(f),new l.BinaryExpression("**",m,O))}return p},g.prototype.binaryPrecedence=function(f){var p=f.value,m;return f.type===7?m=this.operatorPrecedence[p]||0:f.type===4?m=p==="instanceof"||this.context.allowIn&&p==="in"?7:0:m=0,m},g.prototype.parseBinaryExpression=function(){var f=this.lookahead,p=this.inheritCoverGrammar(this.parseExponentiationExpression),m=this.lookahead,O=this.binaryPrecedence(m);if(O>0){this.nextToken(),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;for(var y=[f,this.lookahead],b=p,w=this.isolateCoverGrammar(this.parseExponentiationExpression),S=[b,m.value,w],v=[O];O=this.binaryPrecedence(this.lookahead),!(O<=0);){for(;S.length>2&&O<=v[v.length-1];){w=S.pop();var C=S.pop();v.pop(),b=S.pop(),y.pop();var k=this.startNode(y[y.length-1]);S.push(this.finalize(k,new l.BinaryExpression(C,b,w)))}S.push(this.nextToken().value),v.push(O),y.push(this.lookahead),S.push(this.isolateCoverGrammar(this.parseExponentiationExpression))}var A=S.length-1;p=S[A];for(var Q=y.pop();A>1;){var R=y.pop(),M=Q&&Q.lineStart,k=this.startNode(R,M),C=S[A-1];p=this.finalize(k,new l.BinaryExpression(C,S[A-2],p)),A-=2,Q=R}}return p},g.prototype.parseConditionalExpression=function(){var f=this.lookahead,p=this.inheritCoverGrammar(this.parseBinaryExpression);if(this.match("?")){this.nextToken();var m=this.context.allowIn;this.context.allowIn=!0;var O=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowIn=m,this.expect(":");var y=this.isolateCoverGrammar(this.parseAssignmentExpression);p=this.finalize(this.startNode(f),new l.ConditionalExpression(p,O,y)),this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1}return p},g.prototype.checkPatternParam=function(f,p){switch(p.type){case c.Syntax.Identifier:this.validateParam(f,p,p.name);break;case c.Syntax.RestElement:this.checkPatternParam(f,p.argument);break;case c.Syntax.AssignmentPattern:this.checkPatternParam(f,p.left);break;case c.Syntax.ArrayPattern:for(var m=0;m<p.elements.length;m++)p.elements[m]!==null&&this.checkPatternParam(f,p.elements[m]);break;case c.Syntax.ObjectPattern:for(var m=0;m<p.properties.length;m++)this.checkPatternParam(f,p.properties[m].value);break}f.simple=f.simple&&p instanceof l.Identifier},g.prototype.reinterpretAsCoverFormalsList=function(f){var p=[f],m,O=!1;switch(f.type){case c.Syntax.Identifier:break;case d:p=f.params,O=f.async;break;default:return null}m={simple:!0,paramSet:{}};for(var y=0;y<p.length;++y){var b=p[y];b.type===c.Syntax.AssignmentPattern?b.right.type===c.Syntax.YieldExpression&&(b.right.argument&&this.throwUnexpectedToken(this.lookahead),b.right.type=c.Syntax.Identifier,b.right.name="yield",delete b.right.argument,delete b.right.delegate):O&&b.type===c.Syntax.Identifier&&b.name==="await"&&this.throwUnexpectedToken(this.lookahead),this.checkPatternParam(m,b),p[y]=b}if(this.context.strict||!this.context.allowYield)for(var y=0;y<p.length;++y){var b=p[y];b.type===c.Syntax.YieldExpression&&this.throwUnexpectedToken(this.lookahead)}if(m.message===a.Messages.StrictParamDupe){var w=this.context.strict?m.stricted:m.firstRestricted;this.throwUnexpectedToken(w,m.message)}return{simple:m.simple,params:p,stricted:m.stricted,firstRestricted:m.firstRestricted,message:m.message}},g.prototype.parseAssignmentExpression=function(){var f;if(!this.context.allowYield&&this.matchKeyword("yield"))f=this.parseYieldExpression();else{var p=this.lookahead,m=p;if(f=this.parseConditionalExpression(),m.type===3&&m.lineNumber===this.lookahead.lineNumber&&m.value==="async"&&(this.lookahead.type===3||this.matchKeyword("yield"))){var O=this.parsePrimaryExpression();this.reinterpretExpressionAsPattern(O),f={type:d,params:[O],async:!0}}if(f.type===d||this.match("=>")){this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1;var y=f.async,b=this.reinterpretAsCoverFormalsList(f);if(b){this.hasLineTerminator&&this.tolerateUnexpectedToken(this.lookahead),this.context.firstCoverInitializedNameError=null;var w=this.context.strict,S=this.context.allowStrictDirective;this.context.allowStrictDirective=b.simple;var v=this.context.allowYield,C=this.context.await;this.context.allowYield=!0,this.context.await=y;var k=this.startNode(p);this.expect("=>");var A=void 0;if(this.match("{")){var Q=this.context.allowIn;this.context.allowIn=!0,A=this.parseFunctionSourceElements(),this.context.allowIn=Q}else A=this.isolateCoverGrammar(this.parseAssignmentExpression);var R=A.type!==c.Syntax.BlockStatement;this.context.strict&&b.firstRestricted&&this.throwUnexpectedToken(b.firstRestricted,b.message),this.context.strict&&b.stricted&&this.tolerateUnexpectedToken(b.stricted,b.message),f=y?this.finalize(k,new l.AsyncArrowFunctionExpression(b.params,A,R)):this.finalize(k,new l.ArrowFunctionExpression(b.params,A,R)),this.context.strict=w,this.context.allowStrictDirective=S,this.context.allowYield=v,this.context.await=C}}else if(this.matchAssign()){if(this.context.isAssignmentTarget||this.tolerateError(a.Messages.InvalidLHSInAssignment),this.context.strict&&f.type===c.Syntax.Identifier){var M=f;this.scanner.isRestrictedWord(M.name)&&this.tolerateUnexpectedToken(m,a.Messages.StrictLHSAssignment),this.scanner.isStrictModeReservedWord(M.name)&&this.tolerateUnexpectedToken(m,a.Messages.StrictReservedWord)}this.match("=")?this.reinterpretExpressionAsPattern(f):(this.context.isAssignmentTarget=!1,this.context.isBindingElement=!1),m=this.nextToken();var _=m.value,Z=this.isolateCoverGrammar(this.parseAssignmentExpression);f=this.finalize(this.startNode(p),new l.AssignmentExpression(_,f,Z)),this.context.firstCoverInitializedNameError=null}}return f},g.prototype.parseExpression=function(){var f=this.lookahead,p=this.isolateCoverGrammar(this.parseAssignmentExpression);if(this.match(",")){var m=[];for(m.push(p);this.lookahead.type!==2&&this.match(",");)this.nextToken(),m.push(this.isolateCoverGrammar(this.parseAssignmentExpression));p=this.finalize(this.startNode(f),new l.SequenceExpression(m))}return p},g.prototype.parseStatementListItem=function(){var f;if(this.context.isAssignmentTarget=!0,this.context.isBindingElement=!0,this.lookahead.type===4)switch(this.lookahead.value){case"export":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,a.Messages.IllegalExportDeclaration),f=this.parseExportDeclaration();break;case"import":this.context.isModule||this.tolerateUnexpectedToken(this.lookahead,a.Messages.IllegalImportDeclaration),f=this.parseImportDeclaration();break;case"const":f=this.parseLexicalDeclaration({inFor:!1});break;case"function":f=this.parseFunctionDeclaration();break;case"class":f=this.parseClassDeclaration();break;case"let":f=this.isLexicalDeclaration()?this.parseLexicalDeclaration({inFor:!1}):this.parseStatement();break;default:f=this.parseStatement();break}else f=this.parseStatement();return f},g.prototype.parseBlock=function(){var f=this.createNode();this.expect("{");for(var p=[];!this.match("}");)p.push(this.parseStatementListItem());return this.expect("}"),this.finalize(f,new l.BlockStatement(p))},g.prototype.parseLexicalBinding=function(f,p){var m=this.createNode(),O=[],y=this.parsePattern(O,f);this.context.strict&&y.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(y.name)&&this.tolerateError(a.Messages.StrictVarName);var b=null;return f==="const"?!this.matchKeyword("in")&&!this.matchContextualKeyword("of")&&(this.match("=")?(this.nextToken(),b=this.isolateCoverGrammar(this.parseAssignmentExpression)):this.throwError(a.Messages.DeclarationMissingInitializer,"const")):(!p.inFor&&y.type!==c.Syntax.Identifier||this.match("="))&&(this.expect("="),b=this.isolateCoverGrammar(this.parseAssignmentExpression)),this.finalize(m,new l.VariableDeclarator(y,b))},g.prototype.parseBindingList=function(f,p){for(var m=[this.parseLexicalBinding(f,p)];this.match(",");)this.nextToken(),m.push(this.parseLexicalBinding(f,p));return m},g.prototype.isLexicalDeclaration=function(){var f=this.scanner.saveState();this.scanner.scanComments();var p=this.scanner.lex();return this.scanner.restoreState(f),p.type===3||p.type===7&&p.value==="["||p.type===7&&p.value==="{"||p.type===4&&p.value==="let"||p.type===4&&p.value==="yield"},g.prototype.parseLexicalDeclaration=function(f){var p=this.createNode(),m=this.nextToken().value;s.assert(m==="let"||m==="const","Lexical declaration must be either let or const");var O=this.parseBindingList(m,f);return this.consumeSemicolon(),this.finalize(p,new l.VariableDeclaration(O,m))},g.prototype.parseBindingRestElement=function(f,p){var m=this.createNode();this.expect("...");var O=this.parsePattern(f,p);return this.finalize(m,new l.RestElement(O))},g.prototype.parseArrayPattern=function(f,p){var m=this.createNode();this.expect("[");for(var O=[];!this.match("]");)if(this.match(","))this.nextToken(),O.push(null);else{if(this.match("...")){O.push(this.parseBindingRestElement(f,p));break}else O.push(this.parsePatternWithDefault(f,p));this.match("]")||this.expect(",")}return this.expect("]"),this.finalize(m,new l.ArrayPattern(O))},g.prototype.parsePropertyPattern=function(f,p){var m=this.createNode(),O=!1,y=!1,b=!1,w,S;if(this.lookahead.type===3){var v=this.lookahead;w=this.parseVariableIdentifier();var C=this.finalize(m,new l.Identifier(v.value));if(this.match("=")){f.push(v),y=!0,this.nextToken();var k=this.parseAssignmentExpression();S=this.finalize(this.startNode(v),new l.AssignmentPattern(C,k))}else this.match(":")?(this.expect(":"),S=this.parsePatternWithDefault(f,p)):(f.push(v),y=!0,S=C)}else O=this.match("["),w=this.parseObjectPropertyKey(),this.expect(":"),S=this.parsePatternWithDefault(f,p);return this.finalize(m,new l.Property("init",w,O,S,b,y))},g.prototype.parseObjectPattern=function(f,p){var m=this.createNode(),O=[];for(this.expect("{");!this.match("}");)O.push(this.parsePropertyPattern(f,p)),this.match("}")||this.expect(",");return this.expect("}"),this.finalize(m,new l.ObjectPattern(O))},g.prototype.parsePattern=function(f,p){var m;return this.match("[")?m=this.parseArrayPattern(f,p):this.match("{")?m=this.parseObjectPattern(f,p):(this.matchKeyword("let")&&(p==="const"||p==="let")&&this.tolerateUnexpectedToken(this.lookahead,a.Messages.LetInLexicalBinding),f.push(this.lookahead),m=this.parseVariableIdentifier(p)),m},g.prototype.parsePatternWithDefault=function(f,p){var m=this.lookahead,O=this.parsePattern(f,p);if(this.match("=")){this.nextToken();var y=this.context.allowYield;this.context.allowYield=!0;var b=this.isolateCoverGrammar(this.parseAssignmentExpression);this.context.allowYield=y,O=this.finalize(this.startNode(m),new l.AssignmentPattern(O,b))}return O},g.prototype.parseVariableIdentifier=function(f){var p=this.createNode(),m=this.nextToken();return m.type===4&&m.value==="yield"?this.context.strict?this.tolerateUnexpectedToken(m,a.Messages.StrictReservedWord):this.context.allowYield||this.throwUnexpectedToken(m):m.type!==3?this.context.strict&&m.type===4&&this.scanner.isStrictModeReservedWord(m.value)?this.tolerateUnexpectedToken(m,a.Messages.StrictReservedWord):(this.context.strict||m.value!=="let"||f!=="var")&&this.throwUnexpectedToken(m):(this.context.isModule||this.context.await)&&m.type===3&&m.value==="await"&&this.tolerateUnexpectedToken(m),this.finalize(p,new l.Identifier(m.value))},g.prototype.parseVariableDeclaration=function(f){var p=this.createNode(),m=[],O=this.parsePattern(m,"var");this.context.strict&&O.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(O.name)&&this.tolerateError(a.Messages.StrictVarName);var y=null;return this.match("=")?(this.nextToken(),y=this.isolateCoverGrammar(this.parseAssignmentExpression)):O.type!==c.Syntax.Identifier&&!f.inFor&&this.expect("="),this.finalize(p,new l.VariableDeclarator(O,y))},g.prototype.parseVariableDeclarationList=function(f){var p={inFor:f.inFor},m=[];for(m.push(this.parseVariableDeclaration(p));this.match(",");)this.nextToken(),m.push(this.parseVariableDeclaration(p));return m},g.prototype.parseVariableStatement=function(){var f=this.createNode();this.expectKeyword("var");var p=this.parseVariableDeclarationList({inFor:!1});return this.consumeSemicolon(),this.finalize(f,new l.VariableDeclaration(p,"var"))},g.prototype.parseEmptyStatement=function(){var f=this.createNode();return this.expect(";"),this.finalize(f,new l.EmptyStatement)},g.prototype.parseExpressionStatement=function(){var f=this.createNode(),p=this.parseExpression();return this.consumeSemicolon(),this.finalize(f,new l.ExpressionStatement(p))},g.prototype.parseIfClause=function(){return this.context.strict&&this.matchKeyword("function")&&this.tolerateError(a.Messages.StrictFunction),this.parseStatement()},g.prototype.parseIfStatement=function(){var f=this.createNode(),p,m=null;this.expectKeyword("if"),this.expect("(");var O=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),p=this.finalize(this.createNode(),new l.EmptyStatement)):(this.expect(")"),p=this.parseIfClause(),this.matchKeyword("else")&&(this.nextToken(),m=this.parseIfClause())),this.finalize(f,new l.IfStatement(O,p,m))},g.prototype.parseDoWhileStatement=function(){var f=this.createNode();this.expectKeyword("do");var p=this.context.inIteration;this.context.inIteration=!0;var m=this.parseStatement();this.context.inIteration=p,this.expectKeyword("while"),this.expect("(");var O=this.parseExpression();return!this.match(")")&&this.config.tolerant?this.tolerateUnexpectedToken(this.nextToken()):(this.expect(")"),this.match(";")&&this.nextToken()),this.finalize(f,new l.DoWhileStatement(m,O))},g.prototype.parseWhileStatement=function(){var f=this.createNode(),p;this.expectKeyword("while"),this.expect("(");var m=this.parseExpression();if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),p=this.finalize(this.createNode(),new l.EmptyStatement);else{this.expect(")");var O=this.context.inIteration;this.context.inIteration=!0,p=this.parseStatement(),this.context.inIteration=O}return this.finalize(f,new l.WhileStatement(m,p))},g.prototype.parseForStatement=function(){var f=null,p=null,m=null,O=!0,y,b,w=this.createNode();if(this.expectKeyword("for"),this.expect("("),this.match(";"))this.nextToken();else if(this.matchKeyword("var")){f=this.createNode(),this.nextToken();var S=this.context.allowIn;this.context.allowIn=!1;var v=this.parseVariableDeclarationList({inFor:!0});if(this.context.allowIn=S,v.length===1&&this.matchKeyword("in")){var C=v[0];C.init&&(C.id.type===c.Syntax.ArrayPattern||C.id.type===c.Syntax.ObjectPattern||this.context.strict)&&this.tolerateError(a.Messages.ForInOfLoopInitializer,"for-in"),f=this.finalize(f,new l.VariableDeclaration(v,"var")),this.nextToken(),y=f,b=this.parseExpression(),f=null}else v.length===1&&v[0].init===null&&this.matchContextualKeyword("of")?(f=this.finalize(f,new l.VariableDeclaration(v,"var")),this.nextToken(),y=f,b=this.parseAssignmentExpression(),f=null,O=!1):(f=this.finalize(f,new l.VariableDeclaration(v,"var")),this.expect(";"))}else if(this.matchKeyword("const")||this.matchKeyword("let")){f=this.createNode();var k=this.nextToken().value;if(!this.context.strict&&this.lookahead.value==="in")f=this.finalize(f,new l.Identifier(k)),this.nextToken(),y=f,b=this.parseExpression(),f=null;else{var S=this.context.allowIn;this.context.allowIn=!1;var v=this.parseBindingList(k,{inFor:!0});this.context.allowIn=S,v.length===1&&v[0].init===null&&this.matchKeyword("in")?(f=this.finalize(f,new l.VariableDeclaration(v,k)),this.nextToken(),y=f,b=this.parseExpression(),f=null):v.length===1&&v[0].init===null&&this.matchContextualKeyword("of")?(f=this.finalize(f,new l.VariableDeclaration(v,k)),this.nextToken(),y=f,b=this.parseAssignmentExpression(),f=null,O=!1):(this.consumeSemicolon(),f=this.finalize(f,new l.VariableDeclaration(v,k)))}}else{var A=this.lookahead,S=this.context.allowIn;if(this.context.allowIn=!1,f=this.inheritCoverGrammar(this.parseAssignmentExpression),this.context.allowIn=S,this.matchKeyword("in"))(!this.context.isAssignmentTarget||f.type===c.Syntax.AssignmentExpression)&&this.tolerateError(a.Messages.InvalidLHSInForIn),this.nextToken(),this.reinterpretExpressionAsPattern(f),y=f,b=this.parseExpression(),f=null;else if(this.matchContextualKeyword("of"))(!this.context.isAssignmentTarget||f.type===c.Syntax.AssignmentExpression)&&this.tolerateError(a.Messages.InvalidLHSInForLoop),this.nextToken(),this.reinterpretExpressionAsPattern(f),y=f,b=this.parseAssignmentExpression(),f=null,O=!1;else{if(this.match(",")){for(var Q=[f];this.match(",");)this.nextToken(),Q.push(this.isolateCoverGrammar(this.parseAssignmentExpression));f=this.finalize(this.startNode(A),new l.SequenceExpression(Q))}this.expect(";")}}typeof y=="undefined"&&(this.match(";")||(p=this.parseExpression()),this.expect(";"),this.match(")")||(m=this.parseExpression()));var R;if(!this.match(")")&&this.config.tolerant)this.tolerateUnexpectedToken(this.nextToken()),R=this.finalize(this.createNode(),new l.EmptyStatement);else{this.expect(")");var M=this.context.inIteration;this.context.inIteration=!0,R=this.isolateCoverGrammar(this.parseStatement),this.context.inIteration=M}return typeof y=="undefined"?this.finalize(w,new l.ForStatement(f,p,m,R)):O?this.finalize(w,new l.ForInStatement(y,b,R)):this.finalize(w,new l.ForOfStatement(y,b,R))},g.prototype.parseContinueStatement=function(){var f=this.createNode();this.expectKeyword("continue");var p=null;if(this.lookahead.type===3&&!this.hasLineTerminator){var m=this.parseVariableIdentifier();p=m;var O="$"+m.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,O)||this.throwError(a.Messages.UnknownLabel,m.name)}return this.consumeSemicolon(),p===null&&!this.context.inIteration&&this.throwError(a.Messages.IllegalContinue),this.finalize(f,new l.ContinueStatement(p))},g.prototype.parseBreakStatement=function(){var f=this.createNode();this.expectKeyword("break");var p=null;if(this.lookahead.type===3&&!this.hasLineTerminator){var m=this.parseVariableIdentifier(),O="$"+m.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,O)||this.throwError(a.Messages.UnknownLabel,m.name),p=m}return this.consumeSemicolon(),p===null&&!this.context.inIteration&&!this.context.inSwitch&&this.throwError(a.Messages.IllegalBreak),this.finalize(f,new l.BreakStatement(p))},g.prototype.parseReturnStatement=function(){this.context.inFunctionBody||this.tolerateError(a.Messages.IllegalReturn);var f=this.createNode();this.expectKeyword("return");var p=!this.match(";")&&!this.match("}")&&!this.hasLineTerminator&&this.lookahead.type!==2||this.lookahead.type===8||this.lookahead.type===10,m=p?this.parseExpression():null;return this.consumeSemicolon(),this.finalize(f,new l.ReturnStatement(m))},g.prototype.parseWithStatement=function(){this.context.strict&&this.tolerateError(a.Messages.StrictModeWith);var f=this.createNode(),p;this.expectKeyword("with"),this.expect("(");var m=this.parseExpression();return!this.match(")")&&this.config.tolerant?(this.tolerateUnexpectedToken(this.nextToken()),p=this.finalize(this.createNode(),new l.EmptyStatement)):(this.expect(")"),p=this.parseStatement()),this.finalize(f,new l.WithStatement(m,p))},g.prototype.parseSwitchCase=function(){var f=this.createNode(),p;this.matchKeyword("default")?(this.nextToken(),p=null):(this.expectKeyword("case"),p=this.parseExpression()),this.expect(":");for(var m=[];!(this.match("}")||this.matchKeyword("default")||this.matchKeyword("case"));)m.push(this.parseStatementListItem());return this.finalize(f,new l.SwitchCase(p,m))},g.prototype.parseSwitchStatement=function(){var f=this.createNode();this.expectKeyword("switch"),this.expect("(");var p=this.parseExpression();this.expect(")");var m=this.context.inSwitch;this.context.inSwitch=!0;var O=[],y=!1;for(this.expect("{");!this.match("}");){var b=this.parseSwitchCase();b.test===null&&(y&&this.throwError(a.Messages.MultipleDefaultsInSwitch),y=!0),O.push(b)}return this.expect("}"),this.context.inSwitch=m,this.finalize(f,new l.SwitchStatement(p,O))},g.prototype.parseLabelledStatement=function(){var f=this.createNode(),p=this.parseExpression(),m;if(p.type===c.Syntax.Identifier&&this.match(":")){this.nextToken();var O=p,y="$"+O.name;Object.prototype.hasOwnProperty.call(this.context.labelSet,y)&&this.throwError(a.Messages.Redeclaration,"Label",O.name),this.context.labelSet[y]=!0;var b=void 0;if(this.matchKeyword("class"))this.tolerateUnexpectedToken(this.lookahead),b=this.parseClassDeclaration();else if(this.matchKeyword("function")){var w=this.lookahead,S=this.parseFunctionDeclaration();this.context.strict?this.tolerateUnexpectedToken(w,a.Messages.StrictFunction):S.generator&&this.tolerateUnexpectedToken(w,a.Messages.GeneratorInLegacyContext),b=S}else b=this.parseStatement();delete this.context.labelSet[y],m=new l.LabeledStatement(O,b)}else this.consumeSemicolon(),m=new l.ExpressionStatement(p);return this.finalize(f,m)},g.prototype.parseThrowStatement=function(){var f=this.createNode();this.expectKeyword("throw"),this.hasLineTerminator&&this.throwError(a.Messages.NewlineAfterThrow);var p=this.parseExpression();return this.consumeSemicolon(),this.finalize(f,new l.ThrowStatement(p))},g.prototype.parseCatchClause=function(){var f=this.createNode();this.expectKeyword("catch"),this.expect("("),this.match(")")&&this.throwUnexpectedToken(this.lookahead);for(var p=[],m=this.parsePattern(p),O={},y=0;y<p.length;y++){var b="$"+p[y].value;Object.prototype.hasOwnProperty.call(O,b)&&this.tolerateError(a.Messages.DuplicateBinding,p[y].value),O[b]=!0}this.context.strict&&m.type===c.Syntax.Identifier&&this.scanner.isRestrictedWord(m.name)&&this.tolerateError(a.Messages.StrictCatchVariable),this.expect(")");var w=this.parseBlock();return this.finalize(f,new l.CatchClause(m,w))},g.prototype.parseFinallyClause=function(){return this.expectKeyword("finally"),this.parseBlock()},g.prototype.parseTryStatement=function(){var f=this.createNode();this.expectKeyword("try");var p=this.parseBlock(),m=this.matchKeyword("catch")?this.parseCatchClause():null,O=this.matchKeyword("finally")?this.parseFinallyClause():null;return!m&&!O&&this.throwError(a.Messages.NoCatchOrFinally),this.finalize(f,new l.TryStatement(p,m,O))},g.prototype.parseDebuggerStatement=function(){var f=this.createNode();return this.expectKeyword("debugger"),this.consumeSemicolon(),this.finalize(f,new l.DebuggerStatement)},g.prototype.parseStatement=function(){var f;switch(this.lookahead.type){case 1:case 5:case 6:case 8:case 10:case 9:f=this.parseExpressionStatement();break;case 7:var p=this.lookahead.value;p==="{"?f=this.parseBlock():p==="("?f=this.parseExpressionStatement():p===";"?f=this.parseEmptyStatement():f=this.parseExpressionStatement();break;case 3:f=this.matchAsyncFunction()?this.parseFunctionDeclaration():this.parseLabelledStatement();break;case 4:switch(this.lookahead.value){case"break":f=this.parseBreakStatement();break;case"continue":f=this.parseContinueStatement();break;case"debugger":f=this.parseDebuggerStatement();break;case"do":f=this.parseDoWhileStatement();break;case"for":f=this.parseForStatement();break;case"function":f=this.parseFunctionDeclaration();break;case"if":f=this.parseIfStatement();break;case"return":f=this.parseReturnStatement();break;case"switch":f=this.parseSwitchStatement();break;case"throw":f=this.parseThrowStatement();break;case"try":f=this.parseTryStatement();break;case"var":f=this.parseVariableStatement();break;case"while":f=this.parseWhileStatement();break;case"with":f=this.parseWithStatement();break;default:f=this.parseExpressionStatement();break}break;default:f=this.throwUnexpectedToken(this.lookahead)}return f},g.prototype.parseFunctionSourceElements=function(){var f=this.createNode();this.expect("{");var p=this.parseDirectivePrologues(),m=this.context.labelSet,O=this.context.inIteration,y=this.context.inSwitch,b=this.context.inFunctionBody;for(this.context.labelSet={},this.context.inIteration=!1,this.context.inSwitch=!1,this.context.inFunctionBody=!0;this.lookahead.type!==2&&!this.match("}");)p.push(this.parseStatementListItem());return this.expect("}"),this.context.labelSet=m,this.context.inIteration=O,this.context.inSwitch=y,this.context.inFunctionBody=b,this.finalize(f,new l.BlockStatement(p))},g.prototype.validateParam=function(f,p,m){var O="$"+m;this.context.strict?(this.scanner.isRestrictedWord(m)&&(f.stricted=p,f.message=a.Messages.StrictParamName),Object.prototype.hasOwnProperty.call(f.paramSet,O)&&(f.stricted=p,f.message=a.Messages.StrictParamDupe)):f.firstRestricted||(this.scanner.isRestrictedWord(m)?(f.firstRestricted=p,f.message=a.Messages.StrictParamName):this.scanner.isStrictModeReservedWord(m)?(f.firstRestricted=p,f.message=a.Messages.StrictReservedWord):Object.prototype.hasOwnProperty.call(f.paramSet,O)&&(f.stricted=p,f.message=a.Messages.StrictParamDupe)),typeof Object.defineProperty=="function"?Object.defineProperty(f.paramSet,O,{value:!0,enumerable:!0,writable:!0,configurable:!0}):f.paramSet[O]=!0},g.prototype.parseRestElement=function(f){var p=this.createNode();this.expect("...");var m=this.parsePattern(f);return this.match("=")&&this.throwError(a.Messages.DefaultRestParameter),this.match(")")||this.throwError(a.Messages.ParameterAfterRestParameter),this.finalize(p,new l.RestElement(m))},g.prototype.parseFormalParameter=function(f){for(var p=[],m=this.match("...")?this.parseRestElement(p):this.parsePatternWithDefault(p),O=0;O<p.length;O++)this.validateParam(f,p[O],p[O].value);f.simple=f.simple&&m instanceof l.Identifier,f.params.push(m)},g.prototype.parseFormalParameters=function(f){var p;if(p={simple:!0,params:[],firstRestricted:f},this.expect("("),!this.match(")"))for(p.paramSet={};this.lookahead.type!==2&&(this.parseFormalParameter(p),!(this.match(")")||(this.expect(","),this.match(")")))););return this.expect(")"),{simple:p.simple,params:p.params,stricted:p.stricted,firstRestricted:p.firstRestricted,message:p.message}},g.prototype.matchAsyncFunction=function(){var f=this.matchContextualKeyword("async");if(f){var p=this.scanner.saveState();this.scanner.scanComments();var m=this.scanner.lex();this.scanner.restoreState(p),f=p.lineNumber===m.lineNumber&&m.type===4&&m.value==="function"}return f},g.prototype.parseFunctionDeclaration=function(f){var p=this.createNode(),m=this.matchContextualKeyword("async");m&&this.nextToken(),this.expectKeyword("function");var O=m?!1:this.match("*");O&&this.nextToken();var y,b=null,w=null;if(!f||!this.match("(")){var S=this.lookahead;b=this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(S.value)&&this.tolerateUnexpectedToken(S,a.Messages.StrictFunctionName):this.scanner.isRestrictedWord(S.value)?(w=S,y=a.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(S.value)&&(w=S,y=a.Messages.StrictReservedWord)}var v=this.context.await,C=this.context.allowYield;this.context.await=m,this.context.allowYield=!O;var k=this.parseFormalParameters(w),A=k.params,Q=k.stricted;w=k.firstRestricted,k.message&&(y=k.message);var R=this.context.strict,M=this.context.allowStrictDirective;this.context.allowStrictDirective=k.simple;var _=this.parseFunctionSourceElements();return this.context.strict&&w&&this.throwUnexpectedToken(w,y),this.context.strict&&Q&&this.tolerateUnexpectedToken(Q,y),this.context.strict=R,this.context.allowStrictDirective=M,this.context.await=v,this.context.allowYield=C,m?this.finalize(p,new l.AsyncFunctionDeclaration(b,A,_)):this.finalize(p,new l.FunctionDeclaration(b,A,_,O))},g.prototype.parseFunctionExpression=function(){var f=this.createNode(),p=this.matchContextualKeyword("async");p&&this.nextToken(),this.expectKeyword("function");var m=p?!1:this.match("*");m&&this.nextToken();var O,y=null,b,w=this.context.await,S=this.context.allowYield;if(this.context.await=p,this.context.allowYield=!m,!this.match("(")){var v=this.lookahead;y=!this.context.strict&&!m&&this.matchKeyword("yield")?this.parseIdentifierName():this.parseVariableIdentifier(),this.context.strict?this.scanner.isRestrictedWord(v.value)&&this.tolerateUnexpectedToken(v,a.Messages.StrictFunctionName):this.scanner.isRestrictedWord(v.value)?(b=v,O=a.Messages.StrictFunctionName):this.scanner.isStrictModeReservedWord(v.value)&&(b=v,O=a.Messages.StrictReservedWord)}var C=this.parseFormalParameters(b),k=C.params,A=C.stricted;b=C.firstRestricted,C.message&&(O=C.message);var Q=this.context.strict,R=this.context.allowStrictDirective;this.context.allowStrictDirective=C.simple;var M=this.parseFunctionSourceElements();return this.context.strict&&b&&this.throwUnexpectedToken(b,O),this.context.strict&&A&&this.tolerateUnexpectedToken(A,O),this.context.strict=Q,this.context.allowStrictDirective=R,this.context.await=w,this.context.allowYield=S,p?this.finalize(f,new l.AsyncFunctionExpression(y,k,M)):this.finalize(f,new l.FunctionExpression(y,k,M,m))},g.prototype.parseDirective=function(){var f=this.lookahead,p=this.createNode(),m=this.parseExpression(),O=m.type===c.Syntax.Literal?this.getTokenRaw(f).slice(1,-1):null;return this.consumeSemicolon(),this.finalize(p,O?new l.Directive(m,O):new l.ExpressionStatement(m))},g.prototype.parseDirectivePrologues=function(){for(var f=null,p=[];;){var m=this.lookahead;if(m.type!==8)break;var O=this.parseDirective();p.push(O);var y=O.directive;if(typeof y!="string")break;y==="use strict"?(this.context.strict=!0,f&&this.tolerateUnexpectedToken(f,a.Messages.StrictOctalLiteral),this.context.allowStrictDirective||this.tolerateUnexpectedToken(m,a.Messages.IllegalLanguageModeDirective)):!f&&m.octal&&(f=m)}return p},g.prototype.qualifiedPropertyName=function(f){switch(f.type){case 3:case 8:case 1:case 5:case 6:case 4:return!0;case 7:return f.value==="["}return!1},g.prototype.parseGetterMethod=function(){var f=this.createNode(),p=!1,m=this.context.allowYield;this.context.allowYield=!p;var O=this.parseFormalParameters();O.params.length>0&&this.tolerateError(a.Messages.BadGetterArity);var y=this.parsePropertyMethod(O);return this.context.allowYield=m,this.finalize(f,new l.FunctionExpression(null,O.params,y,p))},g.prototype.parseSetterMethod=function(){var f=this.createNode(),p=!1,m=this.context.allowYield;this.context.allowYield=!p;var O=this.parseFormalParameters();O.params.length!==1?this.tolerateError(a.Messages.BadSetterArity):O.params[0]instanceof l.RestElement&&this.tolerateError(a.Messages.BadSetterRestParameter);var y=this.parsePropertyMethod(O);return this.context.allowYield=m,this.finalize(f,new l.FunctionExpression(null,O.params,y,p))},g.prototype.parseGeneratorMethod=function(){var f=this.createNode(),p=!0,m=this.context.allowYield;this.context.allowYield=!0;var O=this.parseFormalParameters();this.context.allowYield=!1;var y=this.parsePropertyMethod(O);return this.context.allowYield=m,this.finalize(f,new l.FunctionExpression(null,O.params,y,p))},g.prototype.isStartOfExpression=function(){var f=!0,p=this.lookahead.value;switch(this.lookahead.type){case 7:f=p==="["||p==="("||p==="{"||p==="+"||p==="-"||p==="!"||p==="~"||p==="++"||p==="--"||p==="/"||p==="/=";break;case 4:f=p==="class"||p==="delete"||p==="function"||p==="let"||p==="new"||p==="super"||p==="this"||p==="typeof"||p==="void"||p==="yield";break}return f},g.prototype.parseYieldExpression=function(){var f=this.createNode();this.expectKeyword("yield");var p=null,m=!1;if(!this.hasLineTerminator){var O=this.context.allowYield;this.context.allowYield=!1,m=this.match("*"),m?(this.nextToken(),p=this.parseAssignmentExpression()):this.isStartOfExpression()&&(p=this.parseAssignmentExpression()),this.context.allowYield=O}return this.finalize(f,new l.YieldExpression(p,m))},g.prototype.parseClassElement=function(f){var p=this.lookahead,m=this.createNode(),O="",y=null,b=null,w=!1,S=!1,v=!1,C=!1;if(this.match("*"))this.nextToken();else{w=this.match("["),y=this.parseObjectPropertyKey();var k=y;if(k.name==="static"&&(this.qualifiedPropertyName(this.lookahead)||this.match("*"))&&(p=this.lookahead,v=!0,w=this.match("["),this.match("*")?this.nextToken():y=this.parseObjectPropertyKey()),p.type===3&&!this.hasLineTerminator&&p.value==="async"){var A=this.lookahead.value;A!==":"&&A!=="("&&A!=="*"&&(C=!0,p=this.lookahead,y=this.parseObjectPropertyKey(),p.type===3&&p.value==="constructor"&&this.tolerateUnexpectedToken(p,a.Messages.ConstructorIsAsync))}}var Q=this.qualifiedPropertyName(this.lookahead);return p.type===3?p.value==="get"&&Q?(O="get",w=this.match("["),y=this.parseObjectPropertyKey(),this.context.allowYield=!1,b=this.parseGetterMethod()):p.value==="set"&&Q&&(O="set",w=this.match("["),y=this.parseObjectPropertyKey(),b=this.parseSetterMethod()):p.type===7&&p.value==="*"&&Q&&(O="init",w=this.match("["),y=this.parseObjectPropertyKey(),b=this.parseGeneratorMethod(),S=!0),!O&&y&&this.match("(")&&(O="init",b=C?this.parsePropertyMethodAsyncFunction():this.parsePropertyMethodFunction(),S=!0),O||this.throwUnexpectedToken(this.lookahead),O==="init"&&(O="method"),w||(v&&this.isPropertyKey(y,"prototype")&&this.throwUnexpectedToken(p,a.Messages.StaticPrototype),!v&&this.isPropertyKey(y,"constructor")&&((O!=="method"||!S||b&&b.generator)&&this.throwUnexpectedToken(p,a.Messages.ConstructorSpecialMethod),f.value?this.throwUnexpectedToken(p,a.Messages.DuplicateConstructor):f.value=!0,O="constructor")),this.finalize(m,new l.MethodDefinition(y,w,b,O,v))},g.prototype.parseClassElementList=function(){var f=[],p={value:!1};for(this.expect("{");!this.match("}");)this.match(";")?this.nextToken():f.push(this.parseClassElement(p));return this.expect("}"),f},g.prototype.parseClassBody=function(){var f=this.createNode(),p=this.parseClassElementList();return this.finalize(f,new l.ClassBody(p))},g.prototype.parseClassDeclaration=function(f){var p=this.createNode(),m=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var O=f&&this.lookahead.type!==3?null:this.parseVariableIdentifier(),y=null;this.matchKeyword("extends")&&(this.nextToken(),y=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var b=this.parseClassBody();return this.context.strict=m,this.finalize(p,new l.ClassDeclaration(O,y,b))},g.prototype.parseClassExpression=function(){var f=this.createNode(),p=this.context.strict;this.context.strict=!0,this.expectKeyword("class");var m=this.lookahead.type===3?this.parseVariableIdentifier():null,O=null;this.matchKeyword("extends")&&(this.nextToken(),O=this.isolateCoverGrammar(this.parseLeftHandSideExpressionAllowCall));var y=this.parseClassBody();return this.context.strict=p,this.finalize(f,new l.ClassExpression(m,O,y))},g.prototype.parseModule=function(){this.context.strict=!0,this.context.isModule=!0,this.scanner.isModule=!0;for(var f=this.createNode(),p=this.parseDirectivePrologues();this.lookahead.type!==2;)p.push(this.parseStatementListItem());return this.finalize(f,new l.Module(p))},g.prototype.parseScript=function(){for(var f=this.createNode(),p=this.parseDirectivePrologues();this.lookahead.type!==2;)p.push(this.parseStatementListItem());return this.finalize(f,new l.Script(p))},g.prototype.parseModuleSpecifier=function(){var f=this.createNode();this.lookahead.type!==8&&this.throwError(a.Messages.InvalidModuleSpecifier);var p=this.nextToken(),m=this.getTokenRaw(p);return this.finalize(f,new l.Literal(p.value,m))},g.prototype.parseImportSpecifier=function(){var f=this.createNode(),p,m;return this.lookahead.type===3?(p=this.parseVariableIdentifier(),m=p,this.matchContextualKeyword("as")&&(this.nextToken(),m=this.parseVariableIdentifier())):(p=this.parseIdentifierName(),m=p,this.matchContextualKeyword("as")?(this.nextToken(),m=this.parseVariableIdentifier()):this.throwUnexpectedToken(this.nextToken())),this.finalize(f,new l.ImportSpecifier(m,p))},g.prototype.parseNamedImports=function(){this.expect("{");for(var f=[];!this.match("}");)f.push(this.parseImportSpecifier()),this.match("}")||this.expect(",");return this.expect("}"),f},g.prototype.parseImportDefaultSpecifier=function(){var f=this.createNode(),p=this.parseIdentifierName();return this.finalize(f,new l.ImportDefaultSpecifier(p))},g.prototype.parseImportNamespaceSpecifier=function(){var f=this.createNode();this.expect("*"),this.matchContextualKeyword("as")||this.throwError(a.Messages.NoAsAfterImportNamespace),this.nextToken();var p=this.parseIdentifierName();return this.finalize(f,new l.ImportNamespaceSpecifier(p))},g.prototype.parseImportDeclaration=function(){this.context.inFunctionBody&&this.throwError(a.Messages.IllegalImportDeclaration);var f=this.createNode();this.expectKeyword("import");var p,m=[];if(this.lookahead.type===8)p=this.parseModuleSpecifier();else{if(this.match("{")?m=m.concat(this.parseNamedImports()):this.match("*")?m.push(this.parseImportNamespaceSpecifier()):this.isIdentifierName(this.lookahead)&&!this.matchKeyword("default")?(m.push(this.parseImportDefaultSpecifier()),this.match(",")&&(this.nextToken(),this.match("*")?m.push(this.parseImportNamespaceSpecifier()):this.match("{")?m=m.concat(this.parseNamedImports()):this.throwUnexpectedToken(this.lookahead))):this.throwUnexpectedToken(this.nextToken()),!this.matchContextualKeyword("from")){var O=this.lookahead.value?a.Messages.UnexpectedToken:a.Messages.MissingFromClause;this.throwError(O,this.lookahead.value)}this.nextToken(),p=this.parseModuleSpecifier()}return this.consumeSemicolon(),this.finalize(f,new l.ImportDeclaration(m,p))},g.prototype.parseExportSpecifier=function(){var f=this.createNode(),p=this.parseIdentifierName(),m=p;return this.matchContextualKeyword("as")&&(this.nextToken(),m=this.parseIdentifierName()),this.finalize(f,new l.ExportSpecifier(p,m))},g.prototype.parseExportDeclaration=function(){this.context.inFunctionBody&&this.throwError(a.Messages.IllegalExportDeclaration);var f=this.createNode();this.expectKeyword("export");var p;if(this.matchKeyword("default"))if(this.nextToken(),this.matchKeyword("function")){var m=this.parseFunctionDeclaration(!0);p=this.finalize(f,new l.ExportDefaultDeclaration(m))}else if(this.matchKeyword("class")){var m=this.parseClassDeclaration(!0);p=this.finalize(f,new l.ExportDefaultDeclaration(m))}else if(this.matchContextualKeyword("async")){var m=this.matchAsyncFunction()?this.parseFunctionDeclaration(!0):this.parseAssignmentExpression();p=this.finalize(f,new l.ExportDefaultDeclaration(m))}else{this.matchContextualKeyword("from")&&this.throwError(a.Messages.UnexpectedToken,this.lookahead.value);var m=this.match("{")?this.parseObjectInitializer():this.match("[")?this.parseArrayInitializer():this.parseAssignmentExpression();this.consumeSemicolon(),p=this.finalize(f,new l.ExportDefaultDeclaration(m))}else if(this.match("*")){if(this.nextToken(),!this.matchContextualKeyword("from")){var O=this.lookahead.value?a.Messages.UnexpectedToken:a.Messages.MissingFromClause;this.throwError(O,this.lookahead.value)}this.nextToken();var y=this.parseModuleSpecifier();this.consumeSemicolon(),p=this.finalize(f,new l.ExportAllDeclaration(y))}else if(this.lookahead.type===4){var m=void 0;switch(this.lookahead.value){case"let":case"const":m=this.parseLexicalDeclaration({inFor:!1});break;case"var":case"class":case"function":m=this.parseStatementListItem();break;default:this.throwUnexpectedToken(this.lookahead)}p=this.finalize(f,new l.ExportNamedDeclaration(m,[],null))}else if(this.matchAsyncFunction()){var m=this.parseFunctionDeclaration();p=this.finalize(f,new l.ExportNamedDeclaration(m,[],null))}else{var b=[],w=null,S=!1;for(this.expect("{");!this.match("}");)S=S||this.matchKeyword("default"),b.push(this.parseExportSpecifier()),this.match("}")||this.expect(",");if(this.expect("}"),this.matchContextualKeyword("from"))this.nextToken(),w=this.parseModuleSpecifier(),this.consumeSemicolon();else if(S){var O=this.lookahead.value?a.Messages.UnexpectedToken:a.Messages.MissingFromClause;this.throwError(O,this.lookahead.value)}else this.consumeSemicolon();p=this.finalize(f,new l.ExportNamedDeclaration(null,b,w))}return p},g}();i.Parser=x},function(t,i){Object.defineProperty(i,"__esModule",{value:!0});function r(s,o){if(!s)throw new Error("ASSERT: "+o)}i.assert=r},function(t,i){Object.defineProperty(i,"__esModule",{value:!0});var r=function(){function s(){this.errors=[],this.tolerant=!1}return s.prototype.recordError=function(o){this.errors.push(o)},s.prototype.tolerate=function(o){if(this.tolerant)this.recordError(o);else throw o},s.prototype.constructError=function(o,a){var l=new Error(o);try{throw l}catch(h){Object.create&&Object.defineProperty&&(l=Object.create(h),Object.defineProperty(l,"column",{value:a}))}return l},s.prototype.createError=function(o,a,l,h){var c="Line "+a+": "+h,u=this.constructError(c,l);return u.index=o,u.lineNumber=a,u.description=h,u},s.prototype.throwError=function(o,a,l,h){throw this.createError(o,a,l,h)},s.prototype.tolerateError=function(o,a,l,h){var c=this.createError(o,a,l,h);if(this.tolerant)this.recordError(c);else throw c},s}();i.ErrorHandler=r},function(t,i){Object.defineProperty(i,"__esModule",{value:!0}),i.Messages={BadGetterArity:"Getter must not have any formal parameters",BadSetterArity:"Setter must have exactly one formal parameter",BadSetterRestParameter:"Setter function argument must not be a rest parameter",ConstructorIsAsync:"Class constructor may not be an async method",ConstructorSpecialMethod:"Class constructor may not be an accessor",DeclarationMissingInitializer:"Missing initializer in %0 declaration",DefaultRestParameter:"Unexpected token =",DuplicateBinding:"Duplicate binding %0",DuplicateConstructor:"A class may only have one constructor",DuplicateProtoProperty:"Duplicate __proto__ fields are not allowed in object literals",ForInOfLoopInitializer:"%0 loop variable declaration may not have an initializer",GeneratorInLegacyContext:"Generator declarations are not allowed in legacy contexts",IllegalBreak:"Illegal break statement",IllegalContinue:"Illegal continue statement",IllegalExportDeclaration:"Unexpected token",IllegalImportDeclaration:"Unexpected token",IllegalLanguageModeDirective:"Illegal 'use strict' directive in function with non-simple parameter list",IllegalReturn:"Illegal return statement",InvalidEscapedReservedWord:"Keyword must not contain escaped characters",InvalidHexEscapeSequence:"Invalid hexadecimal escape sequence",InvalidLHSInAssignment:"Invalid left-hand side in assignment",InvalidLHSInForIn:"Invalid left-hand side in for-in",InvalidLHSInForLoop:"Invalid left-hand side in for-loop",InvalidModuleSpecifier:"Unexpected token",InvalidRegExp:"Invalid regular expression",LetInLexicalBinding:"let is disallowed as a lexically bound name",MissingFromClause:"Unexpected token",MultipleDefaultsInSwitch:"More than one default clause in switch statement",NewlineAfterThrow:"Illegal newline after throw",NoAsAfterImportNamespace:"Unexpected token",NoCatchOrFinally:"Missing catch or finally after try",ParameterAfterRestParameter:"Rest parameter must be last formal parameter",Redeclaration:"%0 '%1' has already been declared",StaticPrototype:"Classes may not have static property named prototype",StrictCatchVariable:"Catch variable may not be eval or arguments in strict mode",StrictDelete:"Delete of an unqualified identifier in strict mode.",StrictFunction:"In strict mode code, functions can only be declared at top level or inside a block",StrictFunctionName:"Function name may not be eval or arguments in strict mode",StrictLHSAssignment:"Assignment to eval or arguments is not allowed in strict mode",StrictLHSPostfix:"Postfix increment/decrement may not have eval or arguments operand in strict mode",StrictLHSPrefix:"Prefix increment/decrement may not have eval or arguments operand in strict mode",StrictModeWith:"Strict mode code may not include a with statement",StrictOctalLiteral:"Octal literals are not allowed in strict mode.",StrictParamDupe:"Strict mode function may not have duplicate parameter names",StrictParamName:"Parameter name eval or arguments is not allowed in strict mode",StrictReservedWord:"Use of future reserved word in strict mode",StrictVarName:"Variable name may not be eval or arguments in strict mode",TemplateOctalLiteral:"Octal literals are not allowed in template strings.",UnexpectedEOS:"Unexpected end of input",UnexpectedIdentifier:"Unexpected identifier",UnexpectedNumber:"Unexpected number",UnexpectedReserved:"Unexpected reserved word",UnexpectedString:"Unexpected string",UnexpectedTemplate:"Unexpected quasi %0",UnexpectedToken:"Unexpected token %0",UnexpectedTokenIllegal:"Unexpected token ILLEGAL",UnknownLabel:"Undefined label '%0'",UnterminatedRegExp:"Invalid regular expression: missing /"}},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=r(9),o=r(4),a=r(11);function l(u){return"0123456789abcdef".indexOf(u.toLowerCase())}function h(u){return"01234567".indexOf(u)}var c=function(){function u(d,x){this.source=d,this.errorHandler=x,this.trackComment=!1,this.isModule=!1,this.length=d.length,this.index=0,this.lineNumber=d.length>0?1:0,this.lineStart=0,this.curlyStack=[]}return u.prototype.saveState=function(){return{index:this.index,lineNumber:this.lineNumber,lineStart:this.lineStart}},u.prototype.restoreState=function(d){this.index=d.index,this.lineNumber=d.lineNumber,this.lineStart=d.lineStart},u.prototype.eof=function(){return this.index>=this.length},u.prototype.throwUnexpectedToken=function(d){return d===void 0&&(d=a.Messages.UnexpectedTokenIllegal),this.errorHandler.throwError(this.index,this.lineNumber,this.index-this.lineStart+1,d)},u.prototype.tolerateUnexpectedToken=function(d){d===void 0&&(d=a.Messages.UnexpectedTokenIllegal),this.errorHandler.tolerateError(this.index,this.lineNumber,this.index-this.lineStart+1,d)},u.prototype.skipSingleLineComment=function(d){var x=[],g,f;for(this.trackComment&&(x=[],g=this.index-d,f={start:{line:this.lineNumber,column:this.index-this.lineStart-d},end:{}});!this.eof();){var p=this.source.charCodeAt(this.index);if(++this.index,o.Character.isLineTerminator(p)){if(this.trackComment){f.end={line:this.lineNumber,column:this.index-this.lineStart-1};var m={multiLine:!1,slice:[g+d,this.index-1],range:[g,this.index-1],loc:f};x.push(m)}return p===13&&this.source.charCodeAt(this.index)===10&&++this.index,++this.lineNumber,this.lineStart=this.index,x}}if(this.trackComment){f.end={line:this.lineNumber,column:this.index-this.lineStart};var m={multiLine:!1,slice:[g+d,this.index],range:[g,this.index],loc:f};x.push(m)}return x},u.prototype.skipMultiLineComment=function(){var d=[],x,g;for(this.trackComment&&(d=[],x=this.index-2,g={start:{line:this.lineNumber,column:this.index-this.lineStart-2},end:{}});!this.eof();){var f=this.source.charCodeAt(this.index);if(o.Character.isLineTerminator(f))f===13&&this.source.charCodeAt(this.index+1)===10&&++this.index,++this.lineNumber,++this.index,this.lineStart=this.index;else if(f===42){if(this.source.charCodeAt(this.index+1)===47){if(this.index+=2,this.trackComment){g.end={line:this.lineNumber,column:this.index-this.lineStart};var p={multiLine:!0,slice:[x+2,this.index-2],range:[x,this.index],loc:g};d.push(p)}return d}++this.index}else++this.index}if(this.trackComment){g.end={line:this.lineNumber,column:this.index-this.lineStart};var p={multiLine:!0,slice:[x+2,this.index],range:[x,this.index],loc:g};d.push(p)}return this.tolerateUnexpectedToken(),d},u.prototype.scanComments=function(){var d;this.trackComment&&(d=[]);for(var x=this.index===0;!this.eof();){var g=this.source.charCodeAt(this.index);if(o.Character.isWhiteSpace(g))++this.index;else if(o.Character.isLineTerminator(g))++this.index,g===13&&this.source.charCodeAt(this.index)===10&&++this.index,++this.lineNumber,this.lineStart=this.index,x=!0;else if(g===47)if(g=this.source.charCodeAt(this.index+1),g===47){this.index+=2;var f=this.skipSingleLineComment(2);this.trackComment&&(d=d.concat(f)),x=!0}else if(g===42){this.index+=2;var f=this.skipMultiLineComment();this.trackComment&&(d=d.concat(f))}else break;else if(x&&g===45)if(this.source.charCodeAt(this.index+1)===45&&this.source.charCodeAt(this.index+2)===62){this.index+=3;var f=this.skipSingleLineComment(3);this.trackComment&&(d=d.concat(f))}else break;else if(g===60&&!this.isModule)if(this.source.slice(this.index+1,this.index+4)==="!--"){this.index+=4;var f=this.skipSingleLineComment(4);this.trackComment&&(d=d.concat(f))}else break;else break}return d},u.prototype.isFutureReservedWord=function(d){switch(d){case"enum":case"export":case"import":case"super":return!0;default:return!1}},u.prototype.isStrictModeReservedWord=function(d){switch(d){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"yield":case"let":return!0;default:return!1}},u.prototype.isRestrictedWord=function(d){return d==="eval"||d==="arguments"},u.prototype.isKeyword=function(d){switch(d.length){case 2:return d==="if"||d==="in"||d==="do";case 3:return d==="var"||d==="for"||d==="new"||d==="try"||d==="let";case 4:return d==="this"||d==="else"||d==="case"||d==="void"||d==="with"||d==="enum";case 5:return d==="while"||d==="break"||d==="catch"||d==="throw"||d==="const"||d==="yield"||d==="class"||d==="super";case 6:return d==="return"||d==="typeof"||d==="delete"||d==="switch"||d==="export"||d==="import";case 7:return d==="default"||d==="finally"||d==="extends";case 8:return d==="function"||d==="continue"||d==="debugger";case 10:return d==="instanceof";default:return!1}},u.prototype.codePointAt=function(d){var x=this.source.charCodeAt(d);if(x>=55296&&x<=56319){var g=this.source.charCodeAt(d+1);if(g>=56320&&g<=57343){var f=x;x=(f-55296)*1024+g-56320+65536}}return x},u.prototype.scanHexEscape=function(d){for(var x=d==="u"?4:2,g=0,f=0;f<x;++f)if(!this.eof()&&o.Character.isHexDigit(this.source.charCodeAt(this.index)))g=g*16+l(this.source[this.index++]);else return null;return String.fromCharCode(g)},u.prototype.scanUnicodeCodePointEscape=function(){var d=this.source[this.index],x=0;for(d==="}"&&this.throwUnexpectedToken();!this.eof()&&(d=this.source[this.index++],!!o.Character.isHexDigit(d.charCodeAt(0)));)x=x*16+l(d);return(x>1114111||d!=="}")&&this.throwUnexpectedToken(),o.Character.fromCodePoint(x)},u.prototype.getIdentifier=function(){for(var d=this.index++;!this.eof();){var x=this.source.charCodeAt(this.index);if(x===92)return this.index=d,this.getComplexIdentifier();if(x>=55296&&x<57343)return this.index=d,this.getComplexIdentifier();if(o.Character.isIdentifierPart(x))++this.index;else break}return this.source.slice(d,this.index)},u.prototype.getComplexIdentifier=function(){var d=this.codePointAt(this.index),x=o.Character.fromCodePoint(d);this.index+=x.length;var g;for(d===92&&(this.source.charCodeAt(this.index)!==117&&this.throwUnexpectedToken(),++this.index,this.source[this.index]==="{"?(++this.index,g=this.scanUnicodeCodePointEscape()):(g=this.scanHexEscape("u"),(g===null||g==="\\"||!o.Character.isIdentifierStart(g.charCodeAt(0)))&&this.throwUnexpectedToken()),x=g);!this.eof()&&(d=this.codePointAt(this.index),!!o.Character.isIdentifierPart(d));)g=o.Character.fromCodePoint(d),x+=g,this.index+=g.length,d===92&&(x=x.substr(0,x.length-1),this.source.charCodeAt(this.index)!==117&&this.throwUnexpectedToken(),++this.index,this.source[this.index]==="{"?(++this.index,g=this.scanUnicodeCodePointEscape()):(g=this.scanHexEscape("u"),(g===null||g==="\\"||!o.Character.isIdentifierPart(g.charCodeAt(0)))&&this.throwUnexpectedToken()),x+=g);return x},u.prototype.octalToDecimal=function(d){var x=d!=="0",g=h(d);return!this.eof()&&o.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(x=!0,g=g*8+h(this.source[this.index++]),"0123".indexOf(d)>=0&&!this.eof()&&o.Character.isOctalDigit(this.source.charCodeAt(this.index))&&(g=g*8+h(this.source[this.index++]))),{code:g,octal:x}},u.prototype.scanIdentifier=function(){var d,x=this.index,g=this.source.charCodeAt(x)===92?this.getComplexIdentifier():this.getIdentifier();if(g.length===1?d=3:this.isKeyword(g)?d=4:g==="null"?d=5:g==="true"||g==="false"?d=1:d=3,d!==3&&x+g.length!==this.index){var f=this.index;this.index=x,this.tolerateUnexpectedToken(a.Messages.InvalidEscapedReservedWord),this.index=f}return{type:d,value:g,lineNumber:this.lineNumber,lineStart:this.lineStart,start:x,end:this.index}},u.prototype.scanPunctuator=function(){var d=this.index,x=this.source[this.index];switch(x){case"(":case"{":x==="{"&&this.curlyStack.push("{"),++this.index;break;case".":++this.index,this.source[this.index]==="."&&this.source[this.index+1]==="."&&(this.index+=2,x="...");break;case"}":++this.index,this.curlyStack.pop();break;case")":case";":case",":case"[":case"]":case":":case"?":case"~":++this.index;break;default:x=this.source.substr(this.index,4),x===">>>="?this.index+=4:(x=x.substr(0,3),x==="==="||x==="!=="||x===">>>"||x==="<<="||x===">>="||x==="**="?this.index+=3:(x=x.substr(0,2),x==="&&"||x==="||"||x==="=="||x==="!="||x==="+="||x==="-="||x==="*="||x==="/="||x==="++"||x==="--"||x==="<<"||x===">>"||x==="&="||x==="|="||x==="^="||x==="%="||x==="<="||x===">="||x==="=>"||x==="**"?this.index+=2:(x=this.source[this.index],"<>=!+-*%&|^/".indexOf(x)>=0&&++this.index)))}return this.index===d&&this.throwUnexpectedToken(),{type:7,value:x,lineNumber:this.lineNumber,lineStart:this.lineStart,start:d,end:this.index}},u.prototype.scanHexLiteral=function(d){for(var x="";!this.eof()&&o.Character.isHexDigit(this.source.charCodeAt(this.index));)x+=this.source[this.index++];return x.length===0&&this.throwUnexpectedToken(),o.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseInt("0x"+x,16),lineNumber:this.lineNumber,lineStart:this.lineStart,start:d,end:this.index}},u.prototype.scanBinaryLiteral=function(d){for(var x="",g;!this.eof()&&(g=this.source[this.index],!(g!=="0"&&g!=="1"));)x+=this.source[this.index++];return x.length===0&&this.throwUnexpectedToken(),this.eof()||(g=this.source.charCodeAt(this.index),(o.Character.isIdentifierStart(g)||o.Character.isDecimalDigit(g))&&this.throwUnexpectedToken()),{type:6,value:parseInt(x,2),lineNumber:this.lineNumber,lineStart:this.lineStart,start:d,end:this.index}},u.prototype.scanOctalLiteral=function(d,x){var g="",f=!1;for(o.Character.isOctalDigit(d.charCodeAt(0))?(f=!0,g="0"+this.source[this.index++]):++this.index;!this.eof()&&o.Character.isOctalDigit(this.source.charCodeAt(this.index));)g+=this.source[this.index++];return!f&&g.length===0&&this.throwUnexpectedToken(),(o.Character.isIdentifierStart(this.source.charCodeAt(this.index))||o.Character.isDecimalDigit(this.source.charCodeAt(this.index)))&&this.throwUnexpectedToken(),{type:6,value:parseInt(g,8),octal:f,lineNumber:this.lineNumber,lineStart:this.lineStart,start:x,end:this.index}},u.prototype.isImplicitOctalLiteral=function(){for(var d=this.index+1;d<this.length;++d){var x=this.source[d];if(x==="8"||x==="9")return!1;if(!o.Character.isOctalDigit(x.charCodeAt(0)))return!0}return!0},u.prototype.scanNumericLiteral=function(){var d=this.index,x=this.source[d];s.assert(o.Character.isDecimalDigit(x.charCodeAt(0))||x===".","Numeric literal must start with a decimal digit or a decimal point");var g="";if(x!=="."){if(g=this.source[this.index++],x=this.source[this.index],g==="0"){if(x==="x"||x==="X")return++this.index,this.scanHexLiteral(d);if(x==="b"||x==="B")return++this.index,this.scanBinaryLiteral(d);if(x==="o"||x==="O")return this.scanOctalLiteral(x,d);if(x&&o.Character.isOctalDigit(x.charCodeAt(0))&&this.isImplicitOctalLiteral())return this.scanOctalLiteral(x,d)}for(;o.Character.isDecimalDigit(this.source.charCodeAt(this.index));)g+=this.source[this.index++];x=this.source[this.index]}if(x==="."){for(g+=this.source[this.index++];o.Character.isDecimalDigit(this.source.charCodeAt(this.index));)g+=this.source[this.index++];x=this.source[this.index]}if(x==="e"||x==="E")if(g+=this.source[this.index++],x=this.source[this.index],(x==="+"||x==="-")&&(g+=this.source[this.index++]),o.Character.isDecimalDigit(this.source.charCodeAt(this.index)))for(;o.Character.isDecimalDigit(this.source.charCodeAt(this.index));)g+=this.source[this.index++];else this.throwUnexpectedToken();return o.Character.isIdentifierStart(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(),{type:6,value:parseFloat(g),lineNumber:this.lineNumber,lineStart:this.lineStart,start:d,end:this.index}},u.prototype.scanStringLiteral=function(){var d=this.index,x=this.source[d];s.assert(x==="'"||x==='"',"String literal must starts with a quote"),++this.index;for(var g=!1,f="";!this.eof();){var p=this.source[this.index++];if(p===x){x="";break}else if(p==="\\")if(p=this.source[this.index++],!p||!o.Character.isLineTerminator(p.charCodeAt(0)))switch(p){case"u":if(this.source[this.index]==="{")++this.index,f+=this.scanUnicodeCodePointEscape();else{var m=this.scanHexEscape(p);m===null&&this.throwUnexpectedToken(),f+=m}break;case"x":var O=this.scanHexEscape(p);O===null&&this.throwUnexpectedToken(a.Messages.InvalidHexEscapeSequence),f+=O;break;case"n":f+=`
`;break;case"r":f+="\r";break;case"t":f+="	";break;case"b":f+="\b";break;case"f":f+="\f";break;case"v":f+="\v";break;case"8":case"9":f+=p,this.tolerateUnexpectedToken();break;default:if(p&&o.Character.isOctalDigit(p.charCodeAt(0))){var y=this.octalToDecimal(p);g=y.octal||g,f+=String.fromCharCode(y.code)}else f+=p;break}else++this.lineNumber,p==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index;else{if(o.Character.isLineTerminator(p.charCodeAt(0)))break;f+=p}}return x!==""&&(this.index=d,this.throwUnexpectedToken()),{type:8,value:f,octal:g,lineNumber:this.lineNumber,lineStart:this.lineStart,start:d,end:this.index}},u.prototype.scanTemplate=function(){var d="",x=!1,g=this.index,f=this.source[g]==="`",p=!1,m=2;for(++this.index;!this.eof();){var O=this.source[this.index++];if(O==="`"){m=1,p=!0,x=!0;break}else if(O==="$"){if(this.source[this.index]==="{"){this.curlyStack.push("${"),++this.index,x=!0;break}d+=O}else if(O==="\\")if(O=this.source[this.index++],o.Character.isLineTerminator(O.charCodeAt(0)))++this.lineNumber,O==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index;else switch(O){case"n":d+=`
`;break;case"r":d+="\r";break;case"t":d+="	";break;case"u":if(this.source[this.index]==="{")++this.index,d+=this.scanUnicodeCodePointEscape();else{var y=this.index,b=this.scanHexEscape(O);b!==null?d+=b:(this.index=y,d+=O)}break;case"x":var w=this.scanHexEscape(O);w===null&&this.throwUnexpectedToken(a.Messages.InvalidHexEscapeSequence),d+=w;break;case"b":d+="\b";break;case"f":d+="\f";break;case"v":d+="\v";break;default:O==="0"?(o.Character.isDecimalDigit(this.source.charCodeAt(this.index))&&this.throwUnexpectedToken(a.Messages.TemplateOctalLiteral),d+="\0"):o.Character.isOctalDigit(O.charCodeAt(0))?this.throwUnexpectedToken(a.Messages.TemplateOctalLiteral):d+=O;break}else o.Character.isLineTerminator(O.charCodeAt(0))?(++this.lineNumber,O==="\r"&&this.source[this.index]===`
`&&++this.index,this.lineStart=this.index,d+=`
`):d+=O}return x||this.throwUnexpectedToken(),f||this.curlyStack.pop(),{type:10,value:this.source.slice(g+1,this.index-m),cooked:d,head:f,tail:p,lineNumber:this.lineNumber,lineStart:this.lineStart,start:g,end:this.index}},u.prototype.testRegExp=function(d,x){var g="\uFFFF",f=d,p=this;x.indexOf("u")>=0&&(f=f.replace(/\\u\{([0-9a-fA-F]+)\}|\\u([a-fA-F0-9]{4})/g,function(m,O,y){var b=parseInt(O||y,16);return b>1114111&&p.throwUnexpectedToken(a.Messages.InvalidRegExp),b<=65535?String.fromCharCode(b):g}).replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,g));try{RegExp(f)}catch{this.throwUnexpectedToken(a.Messages.InvalidRegExp)}try{return new RegExp(d,x)}catch{return null}},u.prototype.scanRegExpBody=function(){var d=this.source[this.index];s.assert(d==="/","Regular expression literal must start with a slash");for(var x=this.source[this.index++],g=!1,f=!1;!this.eof();)if(d=this.source[this.index++],x+=d,d==="\\")d=this.source[this.index++],o.Character.isLineTerminator(d.charCodeAt(0))&&this.throwUnexpectedToken(a.Messages.UnterminatedRegExp),x+=d;else if(o.Character.isLineTerminator(d.charCodeAt(0)))this.throwUnexpectedToken(a.Messages.UnterminatedRegExp);else if(g)d==="]"&&(g=!1);else if(d==="/"){f=!0;break}else d==="["&&(g=!0);return f||this.throwUnexpectedToken(a.Messages.UnterminatedRegExp),x.substr(1,x.length-2)},u.prototype.scanRegExpFlags=function(){for(var d="",x="";!this.eof();){var g=this.source[this.index];if(!o.Character.isIdentifierPart(g.charCodeAt(0)))break;if(++this.index,g==="\\"&&!this.eof())if(g=this.source[this.index],g==="u"){++this.index;var f=this.index,p=this.scanHexEscape("u");if(p!==null)for(x+=p,d+="\\u";f<this.index;++f)d+=this.source[f];else this.index=f,x+="u",d+="\\u";this.tolerateUnexpectedToken()}else d+="\\",this.tolerateUnexpectedToken();else x+=g,d+=g}return x},u.prototype.scanRegExp=function(){var d=this.index,x=this.scanRegExpBody(),g=this.scanRegExpFlags(),f=this.testRegExp(x,g);return{type:9,value:"",pattern:x,flags:g,regex:f,lineNumber:this.lineNumber,lineStart:this.lineStart,start:d,end:this.index}},u.prototype.lex=function(){if(this.eof())return{type:2,value:"",lineNumber:this.lineNumber,lineStart:this.lineStart,start:this.index,end:this.index};var d=this.source.charCodeAt(this.index);return o.Character.isIdentifierStart(d)?this.scanIdentifier():d===40||d===41||d===59?this.scanPunctuator():d===39||d===34?this.scanStringLiteral():d===46?o.Character.isDecimalDigit(this.source.charCodeAt(this.index+1))?this.scanNumericLiteral():this.scanPunctuator():o.Character.isDecimalDigit(d)?this.scanNumericLiteral():d===96||d===125&&this.curlyStack[this.curlyStack.length-1]==="${"?this.scanTemplate():d>=55296&&d<57343&&o.Character.isIdentifierStart(this.codePointAt(this.index))?this.scanIdentifier():this.scanPunctuator()},u}();i.Scanner=c},function(t,i){Object.defineProperty(i,"__esModule",{value:!0}),i.TokenName={},i.TokenName[1]="Boolean",i.TokenName[2]="<end>",i.TokenName[3]="Identifier",i.TokenName[4]="Keyword",i.TokenName[5]="Null",i.TokenName[6]="Numeric",i.TokenName[7]="Punctuator",i.TokenName[8]="String",i.TokenName[9]="RegularExpression",i.TokenName[10]="Template"},function(t,i){Object.defineProperty(i,"__esModule",{value:!0}),i.XHTMLEntities={quot:'"',amp:"&",apos:"'",gt:">",nbsp:"\xA0",iexcl:"\xA1",cent:"\xA2",pound:"\xA3",curren:"\xA4",yen:"\xA5",brvbar:"\xA6",sect:"\xA7",uml:"\xA8",copy:"\xA9",ordf:"\xAA",laquo:"\xAB",not:"\xAC",shy:"\xAD",reg:"\xAE",macr:"\xAF",deg:"\xB0",plusmn:"\xB1",sup2:"\xB2",sup3:"\xB3",acute:"\xB4",micro:"\xB5",para:"\xB6",middot:"\xB7",cedil:"\xB8",sup1:"\xB9",ordm:"\xBA",raquo:"\xBB",frac14:"\xBC",frac12:"\xBD",frac34:"\xBE",iquest:"\xBF",Agrave:"\xC0",Aacute:"\xC1",Acirc:"\xC2",Atilde:"\xC3",Auml:"\xC4",Aring:"\xC5",AElig:"\xC6",Ccedil:"\xC7",Egrave:"\xC8",Eacute:"\xC9",Ecirc:"\xCA",Euml:"\xCB",Igrave:"\xCC",Iacute:"\xCD",Icirc:"\xCE",Iuml:"\xCF",ETH:"\xD0",Ntilde:"\xD1",Ograve:"\xD2",Oacute:"\xD3",Ocirc:"\xD4",Otilde:"\xD5",Ouml:"\xD6",times:"\xD7",Oslash:"\xD8",Ugrave:"\xD9",Uacute:"\xDA",Ucirc:"\xDB",Uuml:"\xDC",Yacute:"\xDD",THORN:"\xDE",szlig:"\xDF",agrave:"\xE0",aacute:"\xE1",acirc:"\xE2",atilde:"\xE3",auml:"\xE4",aring:"\xE5",aelig:"\xE6",ccedil:"\xE7",egrave:"\xE8",eacute:"\xE9",ecirc:"\xEA",euml:"\xEB",igrave:"\xEC",iacute:"\xED",icirc:"\xEE",iuml:"\xEF",eth:"\xF0",ntilde:"\xF1",ograve:"\xF2",oacute:"\xF3",ocirc:"\xF4",otilde:"\xF5",ouml:"\xF6",divide:"\xF7",oslash:"\xF8",ugrave:"\xF9",uacute:"\xFA",ucirc:"\xFB",uuml:"\xFC",yacute:"\xFD",thorn:"\xFE",yuml:"\xFF",OElig:"\u0152",oelig:"\u0153",Scaron:"\u0160",scaron:"\u0161",Yuml:"\u0178",fnof:"\u0192",circ:"\u02C6",tilde:"\u02DC",Alpha:"\u0391",Beta:"\u0392",Gamma:"\u0393",Delta:"\u0394",Epsilon:"\u0395",Zeta:"\u0396",Eta:"\u0397",Theta:"\u0398",Iota:"\u0399",Kappa:"\u039A",Lambda:"\u039B",Mu:"\u039C",Nu:"\u039D",Xi:"\u039E",Omicron:"\u039F",Pi:"\u03A0",Rho:"\u03A1",Sigma:"\u03A3",Tau:"\u03A4",Upsilon:"\u03A5",Phi:"\u03A6",Chi:"\u03A7",Psi:"\u03A8",Omega:"\u03A9",alpha:"\u03B1",beta:"\u03B2",gamma:"\u03B3",delta:"\u03B4",epsilon:"\u03B5",zeta:"\u03B6",eta:"\u03B7",theta:"\u03B8",iota:"\u03B9",kappa:"\u03BA",lambda:"\u03BB",mu:"\u03BC",nu:"\u03BD",xi:"\u03BE",omicron:"\u03BF",pi:"\u03C0",rho:"\u03C1",sigmaf:"\u03C2",sigma:"\u03C3",tau:"\u03C4",upsilon:"\u03C5",phi:"\u03C6",chi:"\u03C7",psi:"\u03C8",omega:"\u03C9",thetasym:"\u03D1",upsih:"\u03D2",piv:"\u03D6",ensp:"\u2002",emsp:"\u2003",thinsp:"\u2009",zwnj:"\u200C",zwj:"\u200D",lrm:"\u200E",rlm:"\u200F",ndash:"\u2013",mdash:"\u2014",lsquo:"\u2018",rsquo:"\u2019",sbquo:"\u201A",ldquo:"\u201C",rdquo:"\u201D",bdquo:"\u201E",dagger:"\u2020",Dagger:"\u2021",bull:"\u2022",hellip:"\u2026",permil:"\u2030",prime:"\u2032",Prime:"\u2033",lsaquo:"\u2039",rsaquo:"\u203A",oline:"\u203E",frasl:"\u2044",euro:"\u20AC",image:"\u2111",weierp:"\u2118",real:"\u211C",trade:"\u2122",alefsym:"\u2135",larr:"\u2190",uarr:"\u2191",rarr:"\u2192",darr:"\u2193",harr:"\u2194",crarr:"\u21B5",lArr:"\u21D0",uArr:"\u21D1",rArr:"\u21D2",dArr:"\u21D3",hArr:"\u21D4",forall:"\u2200",part:"\u2202",exist:"\u2203",empty:"\u2205",nabla:"\u2207",isin:"\u2208",notin:"\u2209",ni:"\u220B",prod:"\u220F",sum:"\u2211",minus:"\u2212",lowast:"\u2217",radic:"\u221A",prop:"\u221D",infin:"\u221E",ang:"\u2220",and:"\u2227",or:"\u2228",cap:"\u2229",cup:"\u222A",int:"\u222B",there4:"\u2234",sim:"\u223C",cong:"\u2245",asymp:"\u2248",ne:"\u2260",equiv:"\u2261",le:"\u2264",ge:"\u2265",sub:"\u2282",sup:"\u2283",nsub:"\u2284",sube:"\u2286",supe:"\u2287",oplus:"\u2295",otimes:"\u2297",perp:"\u22A5",sdot:"\u22C5",lceil:"\u2308",rceil:"\u2309",lfloor:"\u230A",rfloor:"\u230B",loz:"\u25CA",spades:"\u2660",clubs:"\u2663",hearts:"\u2665",diams:"\u2666",lang:"\u27E8",rang:"\u27E9"}},function(t,i,r){Object.defineProperty(i,"__esModule",{value:!0});var s=r(10),o=r(12),a=r(13),l=function(){function c(){this.values=[],this.curly=this.paren=-1}return c.prototype.beforeFunctionExpression=function(u){return["(","{","[","in","typeof","instanceof","new","return","case","delete","throw","void","=","+=","-=","*=","**=","/=","%=","<<=",">>=",">>>=","&=","|=","^=",",","+","-","*","**","/","%","++","--","<<",">>",">>>","&","|","^","!","~","&&","||","?",":","===","==",">=","<=","<",">","!=","!=="].indexOf(u)>=0},c.prototype.isRegexStart=function(){var u=this.values[this.values.length-1],d=u!==null;switch(u){case"this":case"]":d=!1;break;case")":var x=this.values[this.paren-1];d=x==="if"||x==="while"||x==="for"||x==="with";break;case"}":if(d=!1,this.values[this.curly-3]==="function"){var g=this.values[this.curly-4];d=g?!this.beforeFunctionExpression(g):!1}else if(this.values[this.curly-4]==="function"){var g=this.values[this.curly-5];d=g?!this.beforeFunctionExpression(g):!0}break}return d},c.prototype.push=function(u){u.type===7||u.type===4?(u.value==="{"?this.curly=this.values.length:u.value==="("&&(this.paren=this.values.length),this.values.push(u.value)):this.values.push(null)},c}(),h=function(){function c(u,d){this.errorHandler=new s.ErrorHandler,this.errorHandler.tolerant=d?typeof d.tolerant=="boolean"&&d.tolerant:!1,this.scanner=new o.Scanner(u,this.errorHandler),this.scanner.trackComment=d?typeof d.comment=="boolean"&&d.comment:!1,this.trackRange=d?typeof d.range=="boolean"&&d.range:!1,this.trackLoc=d?typeof d.loc=="boolean"&&d.loc:!1,this.buffer=[],this.reader=new l}return c.prototype.errors=function(){return this.errorHandler.errors},c.prototype.getNextToken=function(){if(this.buffer.length===0){var u=this.scanner.scanComments();if(this.scanner.trackComment)for(var d=0;d<u.length;++d){var x=u[d],g=this.scanner.source.slice(x.slice[0],x.slice[1]),f={type:x.multiLine?"BlockComment":"LineComment",value:g};this.trackRange&&(f.range=x.range),this.trackLoc&&(f.loc=x.loc),this.buffer.push(f)}if(!this.scanner.eof()){var p=void 0;this.trackLoc&&(p={start:{line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},end:{}});var m=this.scanner.source[this.scanner.index]==="/"&&this.reader.isRegexStart(),O=m?this.scanner.scanRegExp():this.scanner.lex();this.reader.push(O);var y={type:a.TokenName[O.type],value:this.scanner.source.slice(O.start,O.end)};if(this.trackRange&&(y.range=[O.start,O.end]),this.trackLoc&&(p.end={line:this.scanner.lineNumber,column:this.scanner.index-this.scanner.lineStart},y.loc=p),O.type===9){var b=O.pattern,w=O.flags;y.regex={pattern:b,flags:w}}this.buffer.push(y)}}return this.buffer.shift()},c}();i.Tokenizer=h}])})})(z0);let Xo=[],Uo=[],zo=[];function ab(n){const e=document.querySelector(".game-canvas"),t=Hy(e);Xo.forEach(i=>i.end()),Xo=[],zo.forEach(clearTimeout),zo=[],t.setTimeout=(i,r)=>{const s=setTimeout(i,r);return zo.push(s),s},Uo.forEach(clearInterval),Uo=[],t.setInterval=(i,r)=>{const s=setInterval(i,r);return Uo.push(s),s},t.playTune=(i,r)=>{const s=S0(i),o=rb(s,r);Xo.push(o)};try{z0.exports.parseScript(n)}catch(i){return{type:"parse",err:i}}try{return new Function(...Object.keys(t),n)(...Object.values(t)),null}catch(i){return{type:"runtime",err:i}}}function lb(n,e){e.logs=[],e.errorInfo=null,e.staleRun=!1;const t=document.querySelectorAll(".err-line");for(let a=0;a<t.length;a++)t[a].classList.remove("err-line");const i=e.codemirror.state.doc.toString(),r=ab(i,e.palette);r&&oe("LOG_ERROR",r),ih(),oe("RENDER");const s=document.querySelector(".game-canvas"),o=document.querySelector(".game-canvas-container");o.classList.add("shake"),s.focus(),setTimeout(()=>{o.classList.remove("shake")},200)}const hb=n=>fetch(n,{mode:"cors"}).then(e=>e.text());async function cb(n){return await hb(n)}class ie{constructor(){}lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,i){let r=[];return this.decompose(0,e,r,2),i.length&&i.decompose(0,i.length,r,3),this.decompose(t,this.length,r,1),Qt.from(r,this.length-(t-e)+i.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){let i=[];return this.decompose(e,t,i,0),Qt.from(i,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),i=this.length-this.scanIdentical(e,-1),r=new qn(this),s=new qn(e);for(let o=t,a=t;;){if(r.next(o),s.next(o),o=0,r.lineBreak!=s.lineBreak||r.done!=s.done||r.value!=s.value)return!1;if(a+=r.value.length,r.done||a>=i)return!0}}iter(e=1){return new qn(this,e)}iterRange(e,t=this.length){return new _0(this,e,t)}iterLines(e,t){let i;if(e==null)i=this.iter();else{t==null&&(t=this.lines+1);let r=this.line(e).from;i=this.iterRange(r,Math.max(r,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new j0(i)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?ie.empty:e.length<=32?new Oe(e):Qt.from(Oe.split(e,[]))}}class Oe extends ie{constructor(e,t=ub(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,i,r){for(let s=0;;s++){let o=this.text[s],a=r+o.length;if((t?i:a)>=e)return new fb(r,a,i,o);r=a+1,i++}}decompose(e,t,i,r){let s=e<=0&&t>=this.length?this:new Oe(Oc(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(r&1){let o=i.pop(),a=cs(s.text,o.text.slice(),0,s.length);if(a.length<=32)i.push(new Oe(a,o.length+s.length));else{let l=a.length>>1;i.push(new Oe(a.slice(0,l)),new Oe(a.slice(l)))}}else i.push(s)}replace(e,t,i){if(!(i instanceof Oe))return super.replace(e,t,i);let r=cs(this.text,cs(i.text,Oc(this.text,0,e)),t),s=this.length+i.length-(t-e);return r.length<=32?new Oe(r,s):Qt.from(Oe.split(r,[]),s)}sliceString(e,t=this.length,i=`
`){let r="";for(let s=0,o=0;s<=t&&o<this.text.length;o++){let a=this.text[o],l=s+a.length;s>e&&o&&(r+=i),e<l&&t>s&&(r+=a.slice(Math.max(0,e-s),t-s)),s=l+1}return r}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let i=[],r=-1;for(let s of e)i.push(s),r+=s.length+1,i.length==32&&(t.push(new Oe(i,r)),i=[],r=-1);return r>-1&&t.push(new Oe(i,r)),t}}class Qt extends ie{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let i of e)this.lines+=i.lines}lineInner(e,t,i,r){for(let s=0;;s++){let o=this.children[s],a=r+o.length,l=i+o.lines-1;if((t?l:a)>=e)return o.lineInner(e,t,i,r);r=a+1,i=l+1}}decompose(e,t,i,r){for(let s=0,o=0;o<=t&&s<this.children.length;s++){let a=this.children[s],l=o+a.length;if(e<=l&&t>=o){let h=r&((o<=e?1:0)|(l>=t?2:0));o>=e&&l<=t&&!h?i.push(a):a.decompose(e-o,t-o,i,h)}o=l+1}}replace(e,t,i){if(i.lines<this.lines)for(let r=0,s=0;r<this.children.length;r++){let o=this.children[r],a=s+o.length;if(e>=s&&t<=a){let l=o.replace(e-s,t-s,i),h=this.lines-o.lines+l.lines;if(l.lines<h>>5-1&&l.lines>h>>5+1){let c=this.children.slice();return c[r]=l,new Qt(c,this.length-(t-e)+i.length)}return super.replace(s,a,l)}s=a+1}return super.replace(e,t,i)}sliceString(e,t=this.length,i=`
`){let r="";for(let s=0,o=0;s<this.children.length&&o<=t;s++){let a=this.children[s],l=o+a.length;o>e&&s&&(r+=i),e<l&&t>o&&(r+=a.sliceString(e-o,t-o,i)),o=l+1}return r}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof Qt))return 0;let i=0,[r,s,o,a]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;r+=t,s+=t){if(r==o||s==a)return i;let l=this.children[r],h=e.children[s];if(l!=h)return i+l.scanIdentical(h,t);i+=l.length+1}}static from(e,t=e.reduce((i,r)=>i+r.length+1,-1)){let i=0;for(let x of e)i+=x.lines;if(i<32){let x=[];for(let g of e)g.flatten(x);return new Oe(x,t)}let r=Math.max(32,i>>5),s=r<<1,o=r>>1,a=[],l=0,h=-1,c=[];function u(x){let g;if(x.lines>s&&x instanceof Qt)for(let f of x.children)u(f);else x.lines>o&&(l>o||!l)?(d(),a.push(x)):x instanceof Oe&&l&&(g=c[c.length-1])instanceof Oe&&x.lines+g.lines<=32?(l+=x.lines,h+=x.length+1,c[c.length-1]=new Oe(g.text.concat(x.text),g.length+1+x.length)):(l+x.lines>r&&d(),l+=x.lines,h+=x.length+1,c.push(x))}function d(){l!=0&&(a.push(c.length==1?c[0]:Qt.from(c,h)),h=-1,l=c.length=0)}for(let x of e)u(x);return d(),a.length==1?a[0]:new Qt(a,t)}}ie.empty=new Oe([""],0);function ub(n){let e=-1;for(let t of n)e+=t.length+1;return e}function cs(n,e,t=0,i=1e9){for(let r=0,s=0,o=!0;s<n.length&&r<=i;s++){let a=n[s],l=r+a.length;l>=t&&(l>i&&(a=a.slice(0,i-r)),r<t&&(a=a.slice(t-r)),o?(e[e.length-1]+=a,o=!1):e.push(a)),r=l+1}return e}function Oc(n,e,t){return cs(n,[""],e,t)}class qn{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof Oe?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,r=this.nodes[i],s=this.offsets[i],o=s>>1,a=r instanceof Oe?r.text.length:r.children.length;if(o==(t>0?a:0)){if(i==0)return this.done=!0,this.value="",this;t>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(t>0?0:1)){if(this.offsets[i]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(r instanceof Oe){let l=r.text[o+(t<0?-1:0)];if(this.offsets[i]+=t,l.length>Math.max(0,e))return this.value=e==0?l:t>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=r.children[o+(t<0?-1:0)];e>l.length?(e-=l.length,this.offsets[i]+=t):(t<0&&this.offsets[i]--,this.nodes.push(l),this.offsets.push(t>0?1:(l instanceof Oe?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class _0{constructor(e,t,i){this.value="",this.done=!1,this.cursor=new qn(e,t>i?-1:1),this.pos=t>i?e.length:0,this.from=Math.min(t,i),this.to=Math.max(t,i)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let i=t<0?this.pos-this.from:this.to-this.pos;e>i&&(e=i),i-=e;let{value:r}=this.cursor.next(e);return this.pos+=(r.length+e)*t,this.value=r.length<=i?r:t<0?r.slice(r.length-i):r.slice(0,i),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class j0{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:i,value:r}=this.inner.next(e);return t?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol!="undefined"&&(ie.prototype[Symbol.iterator]=function(){return this.iter()},qn.prototype[Symbol.iterator]=_0.prototype[Symbol.iterator]=j0.prototype[Symbol.iterator]=function(){return this});class fb{constructor(e,t,i,r){this.from=e,this.to=t,this.number=i,this.text=r}get length(){return this.to-this.from}}let sn="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(n=>n?parseInt(n,36):1);for(let n=1;n<sn.length;n++)sn[n]+=sn[n-1];function db(n){for(let e=1;e<sn.length;e+=2)if(sn[e]>n)return sn[e-1]<=n;return!1}function yc(n){return n>=127462&&n<=127487}const bc=8205;function ot(n,e,t=!0,i=!0){return(t?Z0:pb)(n,e,i)}function Z0(n,e,t){if(e==n.length)return e;e&&G0(n.charCodeAt(e))&&q0(n.charCodeAt(e-1))&&e--;let i=We(n,e);for(e+=ut(i);e<n.length;){let r=We(n,e);if(i==bc||r==bc||t&&db(r))e+=ut(r),i=r;else if(yc(r)){let s=0,o=e-2;for(;o>=0&&yc(We(n,o));)s++,o-=2;if(s%2==0)break;e+=2}else break}return e}function pb(n,e,t){for(;e>0;){let i=Z0(n,e-2,t);if(i<e)return i;e--}return 0}function G0(n){return n>=56320&&n<57344}function q0(n){return n>=55296&&n<56320}function We(n,e){let t=n.charCodeAt(e);if(!q0(t)||e+1==n.length)return t;let i=n.charCodeAt(e+1);return G0(i)?(t-55296<<10)+(i-56320)+65536:t}function nh(n){return n<=65535?String.fromCharCode(n):(n-=65536,String.fromCharCode((n>>10)+55296,(n&1023)+56320))}function ut(n){return n<65536?1:2}const za=/\r\n?|\n/;var Pe=function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n}(Pe||(Pe={}));class Wt{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t+1];e+=i<0?this.sections[t]:i}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,i=0,r=0;t<this.sections.length;){let s=this.sections[t++],o=this.sections[t++];o<0?(e(i,r,s),r+=s):r+=o,i+=s}}iterChangedRanges(e,t=!1){_a(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let i=this.sections[t++],r=this.sections[t++];r<0?e.push(i,r):e.push(r,i)}return new Wt(e)}composeDesc(e){return this.empty?e:e.empty?this:V0(this,e)}mapDesc(e,t=!1){return e.empty?this:ja(this,e,t)}mapPos(e,t=-1,i=Pe.Simple){let r=0,s=0;for(let o=0;o<this.sections.length;){let a=this.sections[o++],l=this.sections[o++],h=r+a;if(l<0){if(h>e)return s+(e-r);s+=a}else{if(i!=Pe.Simple&&h>=e&&(i==Pe.TrackDel&&r<e&&h>e||i==Pe.TrackBefore&&r<e||i==Pe.TrackAfter&&h>e))return null;if(h>e||h==e&&t<0&&!a)return e==r||t<0?s:s+l;s+=l}r=h}if(e>r)throw new RangeError(`Position ${e} is out of range for changeset of length ${r}`);return s}touchesRange(e,t=e){for(let i=0,r=0;i<this.sections.length&&r<=t;){let s=this.sections[i++],o=this.sections[i++],a=r+s;if(o>=0&&r<=t&&a>=e)return r<e&&a>t?"cover":!0;r=a}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let i=this.sections[t++],r=this.sections[t++];e+=(e?" ":"")+i+(r>=0?":"+r:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Wt(e)}static create(e){return new Wt(e)}}class Ce extends Wt{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return _a(this,(t,i,r,s,o)=>e=e.replace(r,r+(i-t),o),!1),e}mapDesc(e,t=!1){return ja(this,e,t,!0)}invert(e){let t=this.sections.slice(),i=[];for(let r=0,s=0;r<t.length;r+=2){let o=t[r],a=t[r+1];if(a>=0){t[r]=a,t[r+1]=o;let l=r>>1;for(;i.length<l;)i.push(ie.empty);i.push(o?e.slice(s,s+o):ie.empty)}s+=o}return new Ce(t,i)}compose(e){return this.empty?e:e.empty?this:V0(this,e,!0)}map(e,t=!1){return e.empty?this:ja(this,e,t,!0)}iterChanges(e,t=!1){_a(this,e,t)}get desc(){return Wt.create(this.sections)}filter(e){let t=[],i=[],r=[],s=new or(this);e:for(let o=0,a=0;;){let l=o==e.length?1e9:e[o++];for(;a<l||a==l&&s.len==0;){if(s.done)break e;let c=Math.min(s.len,l-a);Xe(r,c,-1);let u=s.ins==-1?-1:s.off==0?s.ins:0;Xe(t,c,u),u>0&&Ti(i,t,s.text),s.forward(c),a+=c}let h=e[o++];for(;a<h;){if(s.done)break e;let c=Math.min(s.len,h-a);Xe(t,c,-1),Xe(r,c,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(c),a+=c}}return{changes:new Ce(t,i),filtered:Wt.create(r)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t],r=this.sections[t+1];r<0?e.push(i):r==0?e.push([i]):e.push([i].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,i){let r=[],s=[],o=0,a=null;function l(c=!1){if(!c&&!r.length)return;o<t&&Xe(r,t-o,-1);let u=new Ce(r,s);a=a?a.compose(u.map(a)):u,r=[],s=[],o=0}function h(c){if(Array.isArray(c))for(let u of c)h(u);else if(c instanceof Ce){if(c.length!=t)throw new RangeError(`Mismatched change set length (got ${c.length}, expected ${t})`);l(),a=a?a.compose(c.map(a)):c}else{let{from:u,to:d=u,insert:x}=c;if(u>d||u<0||d>t)throw new RangeError(`Invalid change range ${u} to ${d} (in doc of length ${t})`);let g=x?typeof x=="string"?ie.of(x.split(i||za)):x:ie.empty,f=g.length;if(u==d&&f==0)return;u<o&&l(),u>o&&Xe(r,u-o,-1),Xe(r,d-u,f),Ti(s,r,g),o=d}}return h(e),l(!a),a}static empty(e){return new Ce(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],i=[];for(let r=0;r<e.length;r++){let s=e[r];if(typeof s=="number")t.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((o,a)=>a&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)t.push(s[0],0);else{for(;i.length<r;)i.push(ie.empty);i[r]=ie.of(s.slice(1)),t.push(s[0],i[r].length)}}}return new Ce(t,i)}static createSet(e,t){return new Ce(e,t)}}function Xe(n,e,t,i=!1){if(e==0&&t<=0)return;let r=n.length-2;r>=0&&t<=0&&t==n[r+1]?n[r]+=e:e==0&&n[r]==0?n[r+1]+=t:i?(n[r]+=e,n[r+1]+=t):n.push(e,t)}function Ti(n,e,t){if(t.length==0)return;let i=e.length-2>>1;if(i<n.length)n[n.length-1]=n[n.length-1].append(t);else{for(;n.length<i;)n.push(ie.empty);n.push(t)}}function _a(n,e,t){let i=n.inserted;for(let r=0,s=0,o=0;o<n.sections.length;){let a=n.sections[o++],l=n.sections[o++];if(l<0)r+=a,s+=a;else{let h=r,c=s,u=ie.empty;for(;h+=a,c+=l,l&&i&&(u=u.append(i[o-2>>1])),!(t||o==n.sections.length||n.sections[o+1]<0);)a=n.sections[o++],l=n.sections[o++];e(r,h,s,c,u),r=h,s=c}}}function ja(n,e,t,i=!1){let r=[],s=i?[]:null,o=new or(n),a=new or(e);for(let l=0,h=0;;)if(o.ins==-1)l+=o.len,o.next();else if(a.ins==-1&&h<l){let c=Math.min(a.len,l-h);a.forward(c),Xe(r,c,-1),h+=c}else if(a.ins>=0&&(o.done||h<l||h==l&&(a.len<o.len||a.len==o.len&&!t))){for(Xe(r,a.ins,-1);l>h&&!o.done&&l+o.len<h+a.len;)l+=o.len,o.next();h+=a.len,a.next()}else if(o.ins>=0){let c=0,u=l+o.len;for(;;)if(a.ins>=0&&h>l&&h+a.len<u)c+=a.ins,h+=a.len,a.next();else if(a.ins==-1&&h<u){let d=Math.min(a.len,u-h);c+=d,a.forward(d),h+=d}else break;Xe(r,c,o.ins),s&&Ti(s,r,o.text),l=u,o.next()}else{if(o.done&&a.done)return s?Ce.createSet(r,s):Wt.create(r);throw new Error("Mismatched change set lengths")}}function V0(n,e,t=!1){let i=[],r=t?[]:null,s=new or(n),o=new or(e);for(let a=!1;;){if(s.done&&o.done)return r?Ce.createSet(i,r):Wt.create(i);if(s.ins==0)Xe(i,s.len,0,a),s.next();else if(o.len==0&&!o.done)Xe(i,0,o.ins,a),r&&Ti(r,i,o.text),o.next();else{if(s.done||o.done)throw new Error("Mismatched change set lengths");{let l=Math.min(s.len2,o.len),h=i.length;if(s.ins==-1){let c=o.ins==-1?-1:o.off?0:o.ins;Xe(i,l,c,a),r&&c&&Ti(r,i,o.text)}else o.ins==-1?(Xe(i,s.off?0:s.len,l,a),r&&Ti(r,i,s.textBit(l))):(Xe(i,s.off?0:s.len,o.off?0:o.ins,a),r&&!o.off&&Ti(r,i,o.text));a=(s.ins>l||o.ins>=0&&o.len>l)&&(a||i.length>h),s.forward2(l),o.forward(l)}}}}class or{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?ie.empty:e[t]}textBit(e){let{inserted:t}=this.set,i=this.i-2>>1;return i>=t.length&&!e?ie.empty:t[i].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Fi{constructor(e,t,i){this.from=e,this.to=t,this.flags=i}get anchor(){return this.flags&16?this.to:this.from}get head(){return this.flags&16?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&4?-1:this.flags&8?1:0}get bidiLevel(){let e=this.flags&3;return e==3?null:e}get goalColumn(){let e=this.flags>>5;return e==33554431?void 0:e}map(e,t=-1){let i,r;return this.empty?i=r=e.mapPos(this.from,t):(i=e.mapPos(this.from,1),r=e.mapPos(this.to,-1)),i==this.from&&r==this.to?this:new Fi(i,r,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return $.range(e,t);let i=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return $.range(this.anchor,i)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return $.range(e.anchor,e.head)}static create(e,t,i){return new Fi(e,t,i)}}class ${constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:$.create(this.ranges.map(i=>i.map(e,t)),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let t=0;t<this.ranges.length;t++)if(!this.ranges[t].eq(e.ranges[t]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new $([this.main],0)}addRange(e,t=!0){return $.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let i=this.ranges.slice();return i[t]=e,$.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new $(e.ranges.map(t=>Fi.fromJSON(t)),e.main)}static single(e,t=e){return new $([$.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let i=0,r=0;r<e.length;r++){let s=e[r];if(s.empty?s.from<=i:s.from<i)return $.normalized(e.slice(),t);i=s.to}return new $(e,t)}static cursor(e,t=0,i,r){return Fi.create(e,e,(t==0?0:t<0?4:8)|(i==null?3:Math.min(2,i))|(r!=null?r:33554431)<<5)}static range(e,t,i){let r=(i!=null?i:33554431)<<5;return t<e?Fi.create(t,e,16|r|8):Fi.create(e,t,r|(t>e?4:0))}static normalized(e,t=0){let i=e[t];e.sort((r,s)=>r.from-s.from),t=e.indexOf(i);for(let r=1;r<e.length;r++){let s=e[r],o=e[r-1];if(s.empty?s.from<=o.to:s.from<o.to){let a=o.from,l=Math.max(s.to,o.to);r<=t&&t--,e.splice(--r,2,s.anchor>s.head?$.range(l,a):$.range(a,l))}}return new $(e,t)}}function Y0(n,e){for(let t of n.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let rh=0;class N{constructor(e,t,i,r,s){this.combine=e,this.compareInput=t,this.compare=i,this.isStatic=r,this.extensions=s,this.id=rh++,this.default=e([])}static define(e={}){return new N(e.combine||(t=>t),e.compareInput||((t,i)=>t===i),e.compare||(e.combine?(t,i)=>t===i:sh),!!e.static,e.enables)}of(e){return new us([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new us(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new us(e,this,2,t)}from(e,t){return t||(t=i=>i),this.compute([e],i=>t(i.field(e)))}}function sh(n,e){return n==e||n.length==e.length&&n.every((t,i)=>t===e[i])}class us{constructor(e,t,i,r){this.dependencies=e,this.facet=t,this.type=i,this.value=r,this.id=rh++}dynamicSlot(e){var t;let i=this.value,r=this.facet.compareInput,s=this.id,o=e[s]>>1,a=this.type==2,l=!1,h=!1,c=[];for(let u of this.dependencies)u=="doc"?l=!0:u=="selection"?h=!0:(((t=e[u.id])!==null&&t!==void 0?t:1)&1)==0&&c.push(e[u.id]);return{create(u){return u.values[o]=i(u),1},update(u,d){if(l&&d.docChanged||h&&(d.docChanged||d.selection)||Za(u,c)){let x=i(u);if(a?!Sc(x,u.values[o],r):!r(x,u.values[o]))return u.values[o]=x,1}return 0},reconfigure:(u,d)=>{let x=i(u),g=d.config.address[s];if(g!=null){let f=As(d,g);if(this.dependencies.every(p=>p instanceof N?d.facet(p)===u.facet(p):p instanceof Ae?d.field(p,!1)==u.field(p,!1):!0)||(a?Sc(x,f,r):r(x,f)))return u.values[o]=f,0}return u.values[o]=x,1}}}}function Sc(n,e,t){if(n.length!=e.length)return!1;for(let i=0;i<n.length;i++)if(!t(n[i],e[i]))return!1;return!0}function Za(n,e){let t=!1;for(let i of e)Vn(n,i)&1&&(t=!0);return t}function xb(n,e,t){let i=t.map(l=>n[l.id]),r=t.map(l=>l.type),s=i.filter(l=>!(l&1)),o=n[e.id]>>1;function a(l){let h=[];for(let c=0;c<i.length;c++){let u=As(l,i[c]);if(r[c]==2)for(let d of u)h.push(d);else h.push(u)}return e.combine(h)}return{create(l){for(let h of i)Vn(l,h);return l.values[o]=a(l),1},update(l,h){if(!Za(l,s))return 0;let c=a(l);return e.compare(c,l.values[o])?0:(l.values[o]=c,1)},reconfigure(l,h){let c=Za(l,i),u=h.config.facets[e.id],d=h.facet(e);if(u&&!c&&sh(t,u))return l.values[o]=d,0;let x=a(l);return e.compare(x,d)?(l.values[o]=d,0):(l.values[o]=x,1)}}}const wc=N.define({static:!0});class Ae{constructor(e,t,i,r,s){this.id=e,this.createF=t,this.updateF=i,this.compareF=r,this.spec=s,this.provides=void 0}static define(e){let t=new Ae(rh++,e.create,e.update,e.compare||((i,r)=>i===r),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(wc).find(i=>i.field==this);return((t==null?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:i=>(i.values[t]=this.create(i),1),update:(i,r)=>{let s=i.values[t],o=this.updateF(s,r);return this.compareF(s,o)?0:(i.values[t]=o,1)},reconfigure:(i,r)=>r.config.address[this.id]!=null?(i.values[t]=r.field(this),0):(i.values[t]=this.create(i),1)}}init(e){return[this,wc.of({field:this,create:e})]}get extension(){return this}}const Yi={lowest:4,low:3,default:2,high:1,highest:0};function Rn(n){return e=>new J0(e,n)}const Cn={highest:Rn(Yi.highest),high:Rn(Yi.high),default:Rn(Yi.default),low:Rn(Yi.low),lowest:Rn(Yi.lowest)};class J0{constructor(e,t){this.inner=e,this.prec=t}}class fo{of(e){return new Ga(this,e)}reconfigure(e){return fo.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Ga{constructor(e,t){this.compartment=e,this.inner=t}}class Ds{constructor(e,t,i,r,s,o){for(this.base=e,this.compartments=t,this.dynamicSlots=i,this.address=r,this.staticValues=s,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,i){let r=[],s=Object.create(null),o=new Map;for(let d of mb(e,t,o))d instanceof Ae?r.push(d):(s[d.facet.id]||(s[d.facet.id]=[])).push(d);let a=Object.create(null),l=[],h=[];for(let d of r)a[d.id]=h.length<<1,h.push(x=>d.slot(x));let c=i==null?void 0:i.config.facets;for(let d in s){let x=s[d],g=x[0].facet,f=c&&c[d]||[];if(x.every(p=>p.type==0))if(a[g.id]=l.length<<1|1,sh(f,x))l.push(i.facet(g));else{let p=g.combine(x.map(m=>m.value));l.push(i&&g.compare(p,i.facet(g))?i.facet(g):p)}else{for(let p of x)p.type==0?(a[p.id]=l.length<<1|1,l.push(p.value)):(a[p.id]=h.length<<1,h.push(m=>p.dynamicSlot(m)));a[g.id]=h.length<<1,h.push(p=>xb(p,g,x))}}let u=h.map(d=>d(a));return new Ds(e,o,u,a,l,s)}}function mb(n,e,t){let i=[[],[],[],[],[]],r=new Map;function s(o,a){let l=r.get(o);if(l!=null){if(l<=a)return;let h=i[l].indexOf(o);h>-1&&i[l].splice(h,1),o instanceof Ga&&t.delete(o.compartment)}if(r.set(o,a),Array.isArray(o))for(let h of o)s(h,a);else if(o instanceof Ga){if(t.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let h=e.get(o.compartment)||o.inner;t.set(o.compartment,h),s(h,a)}else if(o instanceof J0)s(o.inner,o.prec);else if(o instanceof Ae)i[a].push(o),o.provides&&s(o.provides,a);else if(o instanceof us)i[a].push(o),o.facet.extensions&&s(o.facet.extensions,a);else{let h=o.extension;if(!h)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(h,a)}}return s(n,Yi.default),i.reduce((o,a)=>o.concat(a))}function Vn(n,e){if(e&1)return 2;let t=e>>1,i=n.status[t];if(i==4)throw new Error("Cyclic dependency between fields and/or facets");if(i&2)return i;n.status[t]=4;let r=n.computeSlot(n,n.config.dynamicSlots[t]);return n.status[t]=2|r}function As(n,e){return e&1?n.config.staticValues[e>>1]:n.values[e>>1]}const H0=N.define(),K0=N.define({combine:n=>n.some(e=>e),static:!0}),ed=N.define({combine:n=>n.length?n[0]:void 0,static:!0}),td=N.define(),id=N.define(),nd=N.define(),rd=N.define({combine:n=>n.length?n[0]:!1});class zi{constructor(e,t){this.type=e,this.value=t}static define(){return new gb}}class gb{of(e){return new zi(this,e)}}class Ob{constructor(e){this.map=e}of(e){return new j(this,e)}}class j{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new j(this.type,t)}is(e){return this.type==e}static define(e={}){return new Ob(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let i=[];for(let r of e){let s=r.map(t);s&&i.push(s)}return i}}j.reconfigure=j.define();j.appendConfig=j.define();class De{constructor(e,t,i,r,s,o){this.startState=e,this.changes=t,this.selection=i,this.effects=r,this.annotations=s,this.scrollIntoView=o,this._doc=null,this._state=null,i&&Y0(i,t.newLength),s.some(a=>a.type==De.time)||(this.annotations=s.concat(De.time.of(Date.now())))}static create(e,t,i,r,s,o){return new De(e,t,i,r,s,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(De.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}De.time=zi.define();De.userEvent=zi.define();De.addToHistory=zi.define();De.remote=zi.define();function yb(n,e){let t=[];for(let i=0,r=0;;){let s,o;if(i<n.length&&(r==e.length||e[r]>=n[i]))s=n[i++],o=n[i++];else if(r<e.length)s=e[r++],o=e[r++];else return t;!t.length||t[t.length-1]<s?t.push(s,o):t[t.length-1]<o&&(t[t.length-1]=o)}}function sd(n,e,t){var i;let r,s,o;return t?(r=e.changes,s=Ce.empty(e.changes.length),o=n.changes.compose(e.changes)):(r=e.changes.map(n.changes),s=n.changes.mapDesc(e.changes,!0),o=n.changes.compose(r)),{changes:o,selection:e.selection?e.selection.map(s):(i=n.selection)===null||i===void 0?void 0:i.map(r),effects:j.mapEffects(n.effects,r).concat(j.mapEffects(e.effects,s)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function qa(n,e,t){let i=e.selection,r=on(e.annotations);return e.userEvent&&(r=r.concat(De.userEvent.of(e.userEvent))),{changes:e.changes instanceof Ce?e.changes:Ce.of(e.changes||[],t,n.facet(ed)),selection:i&&(i instanceof $?i:$.single(i.anchor,i.head)),effects:on(e.effects),annotations:r,scrollIntoView:!!e.scrollIntoView}}function od(n,e,t){let i=qa(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(t=!1);let o=!!e[s].sequential;i=sd(i,qa(n,e[s],o?i.changes.newLength:n.doc.length),o)}let r=De.create(n,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return Sb(t?bb(r):r)}function bb(n){let e=n.startState,t=!0;for(let r of e.facet(td)){let s=r(n);if(s===!1){t=!1;break}Array.isArray(s)&&(t=t===!0?s:yb(t,s))}if(t!==!0){let r,s;if(t===!1)s=n.changes.invertedDesc,r=Ce.empty(e.doc.length);else{let o=n.changes.filter(t);r=o.changes,s=o.filtered.invertedDesc}n=De.create(e,r,n.selection&&n.selection.map(s),j.mapEffects(n.effects,s),n.annotations,n.scrollIntoView)}let i=e.facet(id);for(let r=i.length-1;r>=0;r--){let s=i[r](n);s instanceof De?n=s:Array.isArray(s)&&s.length==1&&s[0]instanceof De?n=s[0]:n=od(e,on(s),!1)}return n}function Sb(n){let e=n.startState,t=e.facet(nd),i=n;for(let r=t.length-1;r>=0;r--){let s=t[r](n);s&&Object.keys(s).length&&(i=sd(n,qa(e,s,n.changes.newLength),!0))}return i==n?n:De.create(e,n.changes,n.selection,i.effects,i.annotations,i.scrollIntoView)}const wb=[];function on(n){return n==null?wb:Array.isArray(n)?n:[n]}var ze=function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n}(ze||(ze={}));const vb=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Va;try{Va=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function kb(n){if(Va)return Va.test(n);for(let e=0;e<n.length;e++){let t=n[e];if(/\w/.test(t)||t>"\x80"&&(t.toUpperCase()!=t.toLowerCase()||vb.test(t)))return!0}return!1}function Cb(n){return e=>{if(!/\S/.test(e))return ze.Space;if(kb(e))return ze.Word;for(let t=0;t<n.length;t++)if(e.indexOf(n[t])>-1)return ze.Word;return ze.Other}}class te{constructor(e,t,i,r,s,o){this.config=e,this.doc=t,this.selection=i,this.values=r,this.status=e.statusTemplate.slice(),this.computeSlot=s,o&&(o._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)Vn(this,a<<1);this.computeSlot=null}field(e,t=!0){let i=this.config.address[e.id];if(i==null){if(t)throw new RangeError("Field is not present in this state");return}return Vn(this,i),As(this,i)}update(...e){return od(this,e,!0)}applyTransaction(e){let t=this.config,{base:i,compartments:r}=t;for(let o of e.effects)o.is(fo.reconfigure)?(t&&(r=new Map,t.compartments.forEach((a,l)=>r.set(l,a)),t=null),r.set(o.value.compartment,o.value.extension)):o.is(j.reconfigure)?(t=null,i=o.value):o.is(j.appendConfig)&&(t=null,i=on(i).concat(o.value));let s;t?s=e.startState.values.slice():(t=Ds.resolve(i,r,this),s=new te(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(a,l)=>l.reconfigure(a,this),null).values),new te(t,e.newDoc,e.newSelection,s,(o,a)=>a.update(o,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:$.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,i=e(t.ranges[0]),r=this.changes(i.changes),s=[i.range],o=on(i.effects);for(let a=1;a<t.ranges.length;a++){let l=e(t.ranges[a]),h=this.changes(l.changes),c=h.map(r);for(let d=0;d<a;d++)s[d]=s[d].map(c);let u=r.mapDesc(h,!0);s.push(l.range.map(u)),r=r.compose(c),o=j.mapEffects(o,c).concat(j.mapEffects(on(l.effects),u))}return{changes:r,selection:$.create(s,t.mainIndex),effects:o}}changes(e=[]){return e instanceof Ce?e:Ce.of(e,this.doc.length,this.facet(te.lineSeparator))}toText(e){return ie.of(e.split(this.facet(te.lineSeparator)||za))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(Vn(this,t),As(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let i in e){let r=e[i];r instanceof Ae&&(t[i]=r.spec.toJSON(this.field(e[i]),this))}return t}static fromJSON(e,t={},i){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let r=[];if(i)for(let s in i){let o=i[s],a=e[s];r.push(o.init(l=>o.spec.fromJSON(a,l)))}return te.create({doc:e.doc,selection:$.fromJSON(e.selection),extensions:t.extensions?r.concat([t.extensions]):r})}static create(e={}){let t=Ds.resolve(e.extensions||[],new Map),i=e.doc instanceof ie?e.doc:ie.of((e.doc||"").split(t.staticFacet(te.lineSeparator)||za)),r=e.selection?e.selection instanceof $?e.selection:$.single(e.selection.anchor,e.selection.head):$.single(0);return Y0(r,i.length),t.staticFacet(K0)||(r=r.asSingle()),new te(t,i,r,t.dynamicSlots.map(()=>null),(s,o)=>o.create(s),null)}get tabSize(){return this.facet(te.tabSize)}get lineBreak(){return this.facet(te.lineSeparator)||`
`}get readOnly(){return this.facet(rd)}phrase(e,...t){for(let i of this.facet(te.phrases))if(Object.prototype.hasOwnProperty.call(i,e)){e=i[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(i,r)=>{if(r=="$")return"$";let s=+(r||1);return s>t.length?i:t[s-1]})),e}languageDataAt(e,t,i=-1){let r=[];for(let s of this.facet(H0))for(let o of s(this,t,i))Object.prototype.hasOwnProperty.call(o,e)&&r.push(o[e]);return r}charCategorizer(e){return Cb(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:i,length:r}=this.doc.lineAt(e),s=this.charCategorizer(e),o=e-i,a=e-i;for(;o>0;){let l=ot(t,o,!1);if(s(t.slice(l,o))!=ze.Word)break;o=l}for(;a<r;){let l=ot(t,a);if(s(t.slice(a,l))!=ze.Word)break;a=l}return o==a?null:$.range(o+i,a+i)}}te.allowMultipleSelections=K0;te.tabSize=N.define({combine:n=>n.length?n[0]:4});te.lineSeparator=ed;te.readOnly=rd;te.phrases=N.define({compare(n,e){let t=Object.keys(n),i=Object.keys(e);return t.length==i.length&&t.every(r=>n[r]==e[r])}});te.languageData=H0;te.changeFilter=td;te.transactionFilter=id;te.transactionExtender=nd;fo.reconfigure=j.define();function Kt(n,e,t={}){let i={};for(let r of n)for(let s of Object.keys(r)){let o=r[s],a=i[s];if(a===void 0)i[s]=o;else if(!(a===o||o===void 0))if(Object.hasOwnProperty.call(t,s))i[s]=t[s](a,o);else throw new Error("Config merge conflict for field "+s)}for(let r in e)i[r]===void 0&&(i[r]=e[r]);return i}class mi{eq(e){return this==e}range(e,t=e){return ar.create(e,t,this)}}mi.prototype.startSide=mi.prototype.endSide=0;mi.prototype.point=!1;mi.prototype.mapMode=Pe.TrackDel;class ar{constructor(e,t,i){this.from=e,this.to=t,this.value=i}static create(e,t,i){return new ar(e,t,i)}}function Ya(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class oh{constructor(e,t,i,r){this.from=e,this.to=t,this.value=i,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(e,t,i,r=0){let s=i?this.to:this.from;for(let o=r,a=s.length;;){if(o==a)return o;let l=o+a>>1,h=s[l]-e||(i?this.value[l].endSide:this.value[l].startSide)-t;if(l==o)return h>=0?o:a;h>=0?a=l:o=l+1}}between(e,t,i,r){for(let s=this.findIndex(t,-1e9,!0),o=this.findIndex(i,1e9,!1,s);s<o;s++)if(r(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,t){let i=[],r=[],s=[],o=-1,a=-1;for(let l=0;l<this.value.length;l++){let h=this.value[l],c=this.from[l]+e,u=this.to[l]+e,d,x;if(c==u){let g=t.mapPos(c,h.startSide,h.mapMode);if(g==null||(d=x=g,h.startSide!=h.endSide&&(x=t.mapPos(c,h.endSide),x<d)))continue}else if(d=t.mapPos(c,h.startSide),x=t.mapPos(u,h.endSide),d>x||d==x&&h.startSide>0&&h.endSide<=0)continue;(x-d||h.endSide-h.startSide)<0||(o<0&&(o=d),h.point&&(a=Math.max(a,x-d)),i.push(h),r.push(d-o),s.push(x-o))}return{mapped:i.length?new oh(r,s,i,a):null,pos:o}}}class re{constructor(e,t,i,r){this.chunkPos=e,this.chunk=t,this.nextLayer=i,this.maxPoint=r}static create(e,t,i,r){return new re(e,t,i,r)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:i=!1,filterFrom:r=0,filterTo:s=this.length}=e,o=e.filter;if(t.length==0&&!o)return this;if(i&&(t=t.slice().sort(Ya)),this.isEmpty)return t.length?re.of(t):this;let a=new ad(this,null,-1).goto(0),l=0,h=[],c=new gi;for(;a.value||l<t.length;)if(l<t.length&&(a.from-t[l].from||a.startSide-t[l].value.startSide)>=0){let u=t[l++];c.addInner(u.from,u.to,u.value)||h.push(u)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==t.length||this.chunkEnd(a.chunkIndex)<t[l].from)&&(!o||r>this.chunkEnd(a.chunkIndex)||s<this.chunkPos[a.chunkIndex])&&c.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!o||r>a.to||s<a.from||o(a.from,a.to,a.value))&&(c.addInner(a.from,a.to,a.value)||h.push(ar.create(a.from,a.to,a.value))),a.next());return c.finishInner(this.nextLayer.isEmpty&&!h.length?re.empty:this.nextLayer.update({add:h,filter:o,filterFrom:r,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],i=[],r=-1;for(let o=0;o<this.chunk.length;o++){let a=this.chunkPos[o],l=this.chunk[o],h=e.touchesRange(a,a+l.length);if(h===!1)r=Math.max(r,l.maxPoint),t.push(l),i.push(e.mapPos(a));else if(h===!0){let{mapped:c,pos:u}=l.map(a,e);c&&(r=Math.max(r,c.maxPoint),t.push(c),i.push(u))}}let s=this.nextLayer.map(e);return t.length==0?s:new re(i,t,s||re.empty,r)}between(e,t,i){if(!this.isEmpty){for(let r=0;r<this.chunk.length;r++){let s=this.chunkPos[r],o=this.chunk[r];if(t>=s&&e<=s+o.length&&o.between(s,e-s,t-s,i)===!1)return}this.nextLayer.between(e,t,i)}}iter(e=0){return lr.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return lr.from(e).goto(t)}static compare(e,t,i,r,s=-1){let o=e.filter(u=>u.maxPoint>0||!u.isEmpty&&u.maxPoint>=s),a=t.filter(u=>u.maxPoint>0||!u.isEmpty&&u.maxPoint>=s),l=vc(o,a,i),h=new In(o,l,s),c=new In(a,l,s);i.iterGaps((u,d,x)=>kc(h,u,c,d,x,r)),i.empty&&i.length==0&&kc(h,0,c,0,0,r)}static eq(e,t,i=0,r){r==null&&(r=1e9);let s=e.filter(c=>!c.isEmpty&&t.indexOf(c)<0),o=t.filter(c=>!c.isEmpty&&e.indexOf(c)<0);if(s.length!=o.length)return!1;if(!s.length)return!0;let a=vc(s,o),l=new In(s,a,0).goto(i),h=new In(o,a,0).goto(i);for(;;){if(l.to!=h.to||!Ja(l.active,h.active)||l.point&&(!h.point||!l.point.eq(h.point)))return!1;if(l.to>r)return!0;l.next(),h.next()}}static spans(e,t,i,r,s=-1){let o=new In(e,null,s).goto(t),a=t,l=o.openStart;for(;;){let h=Math.min(o.to,i);if(o.point?(r.point(a,h,o.point,o.activeForPoint(o.to),l,o.pointRank),l=o.openEnd(h)+(o.to>h?1:0)):h>a&&(r.span(a,h,o.active,l),l=o.openEnd(h)),o.to>i)break;a=o.to,o.next()}return l}static of(e,t=!1){let i=new gi;for(let r of e instanceof ar?[e]:t?Db(e):e)i.add(r.from,r.to,r.value);return i.finish()}}re.empty=new re([],[],null,-1);function Db(n){if(n.length>1)for(let e=n[0],t=1;t<n.length;t++){let i=n[t];if(Ya(e,i)>0)return n.slice().sort(Ya);e=i}return n}re.empty.nextLayer=re.empty;class gi{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(e){this.chunks.push(new oh(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}add(e,t,i){this.addInner(e,t,i)||(this.nextLayer||(this.nextLayer=new gi)).add(e,t,i)}addInner(e,t,i){let r=e-this.lastTo||i.startSide-this.last.endSide;if(r<=0&&(e-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return r<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=i,this.lastFrom=e,this.lastTo=t,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let i=t.value.length-1;return this.last=t.value[i],this.lastFrom=t.from[i]+e,this.lastTo=t.to[i]+e,!0}finish(){return this.finishInner(re.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=re.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function vc(n,e,t){let i=new Map;for(let s of n)for(let o=0;o<s.chunk.length;o++)s.chunk[o].maxPoint<=0&&i.set(s.chunk[o],s.chunkPos[o]);let r=new Set;for(let s of e)for(let o=0;o<s.chunk.length;o++){let a=i.get(s.chunk[o]);a!=null&&(t?t.mapPos(a):a)==s.chunkPos[o]&&!(t!=null&&t.touchesRange(a,a+s.chunk[o].length))&&r.add(s.chunk[o])}return r}class ad{constructor(e,t,i,r=0){this.layer=e,this.skip=t,this.minPoint=i,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,i){for(;this.chunkIndex<this.layer.chunk.length;){let r=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(r)||this.layer.chunkEnd(this.chunkIndex)<e||r.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!i||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],i=e+t.from[this.rangeIndex];if(this.from=i,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class lr{constructor(e){this.heap=e}static from(e,t=null,i=-1){let r=[];for(let s=0;s<e.length;s++)for(let o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=i&&r.push(new ad(o,t,i,s));return r.length==1?r[0]:new lr(r)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let i of this.heap)i.goto(e,t);for(let i=this.heap.length>>1;i>=0;i--)_o(this.heap,i);return this.next(),this}forward(e,t){for(let i of this.heap)i.forward(e,t);for(let i=this.heap.length>>1;i>=0;i--)_o(this.heap,i);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),_o(this.heap,0)}}}function _o(n,e){for(let t=n[e];;){let i=(e<<1)+1;if(i>=n.length)break;let r=n[i];if(i+1<n.length&&r.compare(n[i+1])>=0&&(r=n[i+1],i++),t.compare(r)<0)break;n[i]=t,n[e]=r,e=i}}class In{constructor(e,t,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=lr.from(e,t,i)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){Lr(this.active,e),Lr(this.activeTo,e),Lr(this.activeRank,e),this.minActive=Cc(this.active,this.activeTo)}addActive(e){let t=0,{value:i,to:r,rank:s}=this.cursor;for(;t<this.activeRank.length&&this.activeRank[t]<=s;)t++;Xr(this.active,t,i),Xr(this.activeTo,t,r),Xr(this.activeRank,t,s),e&&Xr(e,t,this.cursor.from),this.minActive=Cc(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let i=this.openStart<0?[]:null,r=0;for(;;){let s=this.minActive;if(s>-1&&(this.activeTo[s]-this.cursor.from||this.active[s].endSide-this.cursor.startSide)<0){if(this.activeTo[s]>e){this.to=this.activeTo[s],this.endSide=this.active[s].endSide;break}this.removeActive(s),i&&Lr(i,s)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let o=this.cursor.value;if(!o.point)this.addActive(i),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=o,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=o.endSide,this.cursor.from<e&&(r=1),this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(i){let s=0;for(;s<i.length&&i[s]<e;)s++;this.openStart=s+r}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>e||this.activeTo[i]==e&&this.active[i].endSide>=this.point.endSide)&&t.push(this.active[i]);return t.reverse()}openEnd(e){let t=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>e;i--)t++;return t}}function kc(n,e,t,i,r,s){n.goto(e),t.goto(i);let o=i+r,a=i,l=i-e;for(;;){let h=n.to+l-t.to||n.endSide-t.endSide,c=h<0?n.to+l:t.to,u=Math.min(c,o);if(n.point||t.point?n.point&&t.point&&(n.point==t.point||n.point.eq(t.point))&&Ja(n.activeForPoint(n.to+l),t.activeForPoint(t.to))||s.comparePoint(a,u,n.point,t.point):u>a&&!Ja(n.active,t.active)&&s.compareRange(a,u,n.active,t.active),c>o)break;a=c,h<=0&&n.next(),h>=0&&t.next()}}function Ja(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t]&&!n[t].eq(e[t]))return!1;return!0}function Lr(n,e){for(let t=e,i=n.length-1;t<i;t++)n[t]=n[t+1];n.pop()}function Xr(n,e,t){for(let i=n.length-1;i>=e;i--)n[i+1]=n[i];n[e]=t}function Cc(n,e){let t=-1,i=1e9;for(let r=0;r<e.length;r++)(e[r]-i||n[r].endSide-n[t].endSide)<0&&(t=r,i=e[r]);return t}function kr(n,e,t=n.length){let i=0;for(let r=0;r<t;)n.charCodeAt(r)==9?(i+=e-i%e,r++):(i++,r=ot(n,r));return i}function Ha(n,e,t,i){for(let r=0,s=0;;){if(s>=e)return r;if(r==n.length)break;s+=n.charCodeAt(r)==9?t-s%t:1,r=ot(n,r)}return i===!0?-1:n.length}const Ka="\u037C",Dc=typeof Symbol=="undefined"?"__"+Ka:Symbol.for(Ka),el=typeof Symbol=="undefined"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),Ac=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:{};class Oi{constructor(e,t){this.rules=[];let{finish:i}=t||{};function r(o){return/^@/.test(o)?[o]:o.split(/,\s*/)}function s(o,a,l,h){let c=[],u=/^@(\w+)\b/.exec(o[0]),d=u&&u[1]=="keyframes";if(u&&a==null)return l.push(o[0]+";");for(let x in a){let g=a[x];if(/&/.test(x))s(x.split(/,\s*/).map(f=>o.map(p=>f.replace(/&/,p))).reduce((f,p)=>f.concat(p)),g,l);else if(g&&typeof g=="object"){if(!u)throw new RangeError("The value of a property ("+x+") should be a primitive value.");s(r(x),g,c,d)}else g!=null&&c.push(x.replace(/_.*/,"").replace(/[A-Z]/g,f=>"-"+f.toLowerCase())+": "+g+";")}(c.length||d)&&l.push((i&&!u&&!h?o.map(i):o).join(", ")+" {"+c.join(" ")+"}")}for(let o in e)s(r(o),e[o],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=Ac[Dc]||1;return Ac[Dc]=e+1,Ka+e.toString(36)}static mount(e,t){(e[el]||new Ab(e)).mount(Array.isArray(t)?t:[t])}}let Ur=null;class Ab{constructor(e){if(!e.head&&e.adoptedStyleSheets&&typeof CSSStyleSheet!="undefined"){if(Ur)return e.adoptedStyleSheets=[Ur.sheet].concat(e.adoptedStyleSheets),e[el]=Ur;this.sheet=new CSSStyleSheet,e.adoptedStyleSheets=[this.sheet].concat(e.adoptedStyleSheets),Ur=this}else{this.styleTag=(e.ownerDocument||e).createElement("style");let t=e.head||e;t.insertBefore(this.styleTag,t.firstChild)}this.modules=[],e[el]=this}mount(e){let t=this.sheet,i=0,r=0;for(let s=0;s<e.length;s++){let o=e[s],a=this.modules.indexOf(o);if(a<r&&a>-1&&(this.modules.splice(a,1),r--,a=-1),a==-1){if(this.modules.splice(r++,0,o),t)for(let l=0;l<o.rules.length;l++)t.insertRule(o.rules[l],i++)}else{for(;r<a;)i+=this.modules[r++].rules.length;i+=o.rules.length,r++}}if(!t){let s="";for(let o=0;o<this.modules.length;o++)s+=this.modules[o].getRules()+`
`;this.styleTag.textContent=s}}}var yi={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Es={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Ec=typeof navigator!="undefined"&&/Chrome\/(\d+)/.exec(navigator.userAgent),Eb=typeof navigator!="undefined"&&/Apple Computer/.test(navigator.vendor),Tb=typeof navigator!="undefined"&&/Gecko\/\d+/.test(navigator.userAgent),Tc=typeof navigator!="undefined"&&/Mac/.test(navigator.platform),Fb=typeof navigator!="undefined"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),$b=Ec&&(Tc||+Ec[1]<57)||Tb&&Tc;for(var Qe=0;Qe<10;Qe++)yi[48+Qe]=yi[96+Qe]=String(Qe);for(var Qe=1;Qe<=24;Qe++)yi[Qe+111]="F"+Qe;for(var Qe=65;Qe<=90;Qe++)yi[Qe]=String.fromCharCode(Qe+32),Es[Qe]=String.fromCharCode(Qe);for(var jo in yi)Es.hasOwnProperty(jo)||(Es[jo]=yi[jo]);function Qb(n){var e=$b&&(n.ctrlKey||n.altKey||n.metaKey)||(Eb||Fb)&&n.shiftKey&&n.key&&n.key.length==1||n.key=="Unidentified",t=!e&&n.key||(n.shiftKey?Es:yi)[n.keyCode]||n.key||"Unidentified";return t=="Esc"&&(t="Escape"),t=="Del"&&(t="Delete"),t=="Left"&&(t="ArrowLeft"),t=="Up"&&(t="ArrowUp"),t=="Right"&&(t="ArrowRight"),t=="Down"&&(t="ArrowDown"),t}function Ts(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function dn(n,e){return e?n==e||n.contains(e.nodeType!=1?e.parentNode:e):!1}function Pb(){let n=document.activeElement;for(;n&&n.shadowRoot;)n=n.shadowRoot.activeElement;return n}function tl(n,e){if(!e.anchorNode)return!1;try{return dn(n,e.anchorNode)}catch{return!1}}function hr(n){return n.nodeType==3?cr(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function Fs(n,e,t,i){return t?Fc(n,e,t,i,-1)||Fc(n,e,t,i,1):!1}function il(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function Fc(n,e,t,i,r){for(;;){if(n==t&&e==i)return!0;if(e==(r<0?0:$s(n))){if(n.nodeName=="DIV")return!1;let s=n.parentNode;if(!s||s.nodeType!=1)return!1;e=il(n)+(r<0?0:1),n=s}else if(n.nodeType==1){if(n=n.childNodes[e+(r<0?-1:0)],n.nodeType==1&&n.contentEditable=="false")return!1;e=r<0?$s(n):0}else return!1}}function $s(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}const ld={left:0,right:0,top:0,bottom:0};function po(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}function Rb(n){return{left:0,right:n.innerWidth,top:0,bottom:n.innerHeight}}function Ib(n,e,t,i,r,s,o,a){let l=n.ownerDocument,h=l.defaultView;for(let c=n;c;)if(c.nodeType==1){let u,d=c==l.body;if(d)u=Rb(h);else{if(c.scrollHeight<=c.clientHeight&&c.scrollWidth<=c.clientWidth){c=c.parentNode;continue}let f=c.getBoundingClientRect();u={left:f.left,right:f.left+c.clientWidth,top:f.top,bottom:f.top+c.clientHeight}}let x=0,g=0;if(r=="nearest")e.top<u.top?(g=-(u.top-e.top+o),t>0&&e.bottom>u.bottom+g&&(g=e.bottom-u.bottom+g+o)):e.bottom>u.bottom&&(g=e.bottom-u.bottom+o,t<0&&e.top-g<u.top&&(g=-(u.top+g-e.top+o)));else{let f=e.bottom-e.top,p=u.bottom-u.top;g=(r=="center"&&f<=p?e.top+f/2-p/2:r=="start"||r=="center"&&t<0?e.top-o:e.bottom-p+o)-u.top}if(i=="nearest"?e.left<u.left?(x=-(u.left-e.left+s),t>0&&e.right>u.right+x&&(x=e.right-u.right+x+s)):e.right>u.right&&(x=e.right-u.right+s,t<0&&e.left<u.left+x&&(x=-(u.left+x-e.left+s))):x=(i=="center"?e.left+(e.right-e.left)/2-(u.right-u.left)/2:i=="start"==a?e.left-s:e.right-(u.right-u.left)+s)-u.left,x||g)if(d)h.scrollBy(x,g);else{if(g){let f=c.scrollTop;c.scrollTop+=g,g=c.scrollTop-f}if(x){let f=c.scrollLeft;c.scrollLeft+=x,x=c.scrollLeft-f}e={left:e.left-x,top:e.top-g,right:e.right-x,bottom:e.bottom-g}}if(d)break;c=c.assignedSlot||c.parentNode,i=r="nearest"}else if(c.nodeType==11)c=c.host;else break}class Bb{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){this.set(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)}set(e,t,i,r){this.anchorNode=e,this.anchorOffset=t,this.focusNode=i,this.focusOffset=r}}let Zi=null;function hd(n){if(n.setActive)return n.setActive();if(Zi)return n.focus(Zi);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(Zi==null?{get preventScroll(){return Zi={preventScroll:!0},!0}}:void 0),!Zi){Zi=!1;for(let t=0;t<e.length;){let i=e[t++],r=e[t++],s=e[t++];i.scrollTop!=r&&(i.scrollTop=r),i.scrollLeft!=s&&(i.scrollLeft=s)}}}let $c;function cr(n,e,t=e){let i=$c||($c=document.createRange());return i.setEnd(n,t),i.setStart(n,e),i}function Yn(n,e,t){let i={key:e,code:e,keyCode:t,which:t,cancelable:!0},r=new KeyboardEvent("keydown",i);r.synthetic=!0,n.dispatchEvent(r);let s=new KeyboardEvent("keyup",i);return s.synthetic=!0,n.dispatchEvent(s),r.defaultPrevented||s.defaultPrevented}function Mb(n){for(;n;){if(n&&(n.nodeType==9||n.nodeType==11&&n.host))return n;n=n.assignedSlot||n.parentNode}return null}function cd(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}class Re{constructor(e,t,i=!0){this.node=e,this.offset=t,this.precise=i}static before(e,t){return new Re(e.parentNode,il(e),t)}static after(e,t){return new Re(e.parentNode,il(e)+1,t)}}const ah=[];class xe{constructor(){this.parent=null,this.dom=null,this.dirty=2}get editorView(){if(!this.parent)throw new Error("Accessing view in orphan content view");return this.parent.editorView}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let i of this.children){if(i==e)return t;t+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}coordsAt(e,t){return null}sync(e){if(this.dirty&2){let t=this.dom,i=null,r;for(let s of this.children){if(s.dirty){if(!s.dom&&(r=i?i.nextSibling:t.firstChild)){let o=xe.get(r);(!o||!o.parent&&o.constructor==s.constructor)&&s.reuseDOM(r)}s.sync(e),s.dirty=0}if(r=i?i.nextSibling:t.firstChild,e&&!e.written&&e.node==t&&r!=s.dom&&(e.written=!0),s.dom.parentNode==t)for(;r&&r!=s.dom;)r=Qc(r);else t.insertBefore(s.dom,r);i=s.dom}for(r=i?i.nextSibling:t.firstChild,r&&e&&e.node==t&&(e.written=!0);r;)r=Qc(r)}else if(this.dirty&1)for(let t of this.children)t.dirty&&(t.sync(e),t.dirty=0)}reuseDOM(e){}localPosFromDOM(e,t){let i;if(e==this.dom)i=this.dom.childNodes[t];else{let r=$s(e)==0?0:t==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;r==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?r=-1:r=1),e=s}r<0?i=e:i=e.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!xe.get(i);)i=i.nextSibling;if(!i)return this.length;for(let r=0,s=0;;r++){let o=this.children[r];if(o.dom==i)return s;s+=o.length+o.breakAfter}}domBoundsAround(e,t,i=0){let r=-1,s=-1,o=-1,a=-1;for(let l=0,h=i,c=i;l<this.children.length;l++){let u=this.children[l],d=h+u.length;if(h<e&&d>t)return u.domBoundsAround(e,t,h);if(d>=e&&r==-1&&(r=l,s=h),h>t&&u.dom.parentNode==this.dom){o=l,a=c;break}c=d,h=d+u.breakAfter}return{from:s,to:a<0?i+this.length:a,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.dirty|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.dirty|=2),t.dirty&1)return;t.dirty|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}setDOM(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,i=ah){this.markDirty();for(let r=e;r<t;r++){let s=this.children[r];s.parent==this&&s.destroy()}this.children.splice(e,t-e,...i);for(let r=0;r<i.length;r++)i[r].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new ud(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}merge(e,t,i,r,s,o){return!1}become(e){return!1}getSide(){return 0}destroy(){this.parent=null}}xe.prototype.breakAfter=0;function Qc(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class ud{constructor(e,t,i){this.children=e,this.pos=t,this.i=i,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}}function fd(n,e,t,i,r,s,o,a,l){let{children:h}=n,c=h.length?h[e]:null,u=s.length?s[s.length-1]:null,d=u?u.breakAfter:o;if(!(e==i&&c&&!o&&!d&&s.length<2&&c.merge(t,r,s.length?u:null,t==0,a,l))){if(i<h.length){let x=h[i];x&&r<x.length?(e==i&&(x=x.split(r),r=0),!d&&u&&x.merge(0,r,u,!0,0,l)?s[s.length-1]=x:(r&&x.merge(0,r,null,!1,0,l),s.push(x))):x!=null&&x.breakAfter&&(u?u.breakAfter=1:o=1),i++}for(c&&(c.breakAfter=o,t>0&&(!o&&s.length&&c.merge(t,c.length,s[0],!1,a,0)?c.breakAfter=s.shift().breakAfter:(t<c.length||c.children.length&&c.children[c.children.length-1].length==0)&&c.merge(t,c.length,null,!1,a,0),e++));e<i&&s.length;)if(h[i-1].become(s[s.length-1]))i--,s.pop(),l=s.length?0:a;else if(h[e].become(s[0]))e++,s.shift(),a=s.length?0:l;else break;!s.length&&e&&i<h.length&&!h[e-1].breakAfter&&h[i].merge(0,0,h[e-1],!1,a,l)&&e--,(e<i||s.length)&&n.replaceChildren(e,i,s)}}function dd(n,e,t,i,r,s){let o=n.childCursor(),{i:a,off:l}=o.findPos(t,1),{i:h,off:c}=o.findPos(e,-1),u=e-t;for(let d of i)u+=d.length;n.length+=u,fd(n,h,c,a,l,i,0,r,s)}let nt=typeof navigator!="undefined"?navigator:{userAgent:"",vendor:"",platform:""},nl=typeof document!="undefined"?document:{documentElement:{style:{}}};const rl=/Edge\/(\d+)/.exec(nt.userAgent),pd=/MSIE \d/.test(nt.userAgent),sl=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(nt.userAgent),xo=!!(pd||sl||rl),Pc=!xo&&/gecko\/(\d+)/i.test(nt.userAgent),Zo=!xo&&/Chrome\/(\d+)/.exec(nt.userAgent),Rc="webkitFontSmoothing"in nl.documentElement.style,xd=!xo&&/Apple Computer/.test(nt.vendor),Ic=xd&&(/Mobile\/\w+/.test(nt.userAgent)||nt.maxTouchPoints>2);var L={mac:Ic||/Mac/.test(nt.platform),windows:/Win/.test(nt.platform),linux:/Linux|X11/.test(nt.platform),ie:xo,ie_version:pd?nl.documentMode||6:sl?+sl[1]:rl?+rl[1]:0,gecko:Pc,gecko_version:Pc?+(/Firefox\/(\d+)/.exec(nt.userAgent)||[0,0])[1]:0,chrome:!!Zo,chrome_version:Zo?+Zo[1]:0,ios:Ic,android:/Android\b/.test(nt.userAgent),webkit:Rc,safari:xd,webkit_version:Rc?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:nl.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const Wb=256;class bi extends xe{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,i){return i&&(!(i instanceof bi)||this.length-(t-e)+i.length>Wb)?!1:(this.text=this.text.slice(0,e)+(i?i.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new bi(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new Re(this.dom,e)}domBoundsAround(e,t,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return ol(this.dom,e,t)}}class Lt extends xe{constructor(e,t=[],i=0){super(),this.mark=e,this.children=t,this.length=i;for(let r of t)r.setParent(this)}setAttrs(e){if(cd(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.dirty|=6)}sync(e){this.dom?this.dirty&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e)}merge(e,t,i,r,s,o){return i&&(!(i instanceof Lt&&i.mark.eq(this.mark))||e&&s<=0||t<this.length&&o<=0)?!1:(dd(this,e,t,i?i.children:[],s-1,o-1),this.markDirty(),!0)}split(e){let t=[],i=0,r=-1,s=0;for(let a of this.children){let l=i+a.length;l>e&&t.push(i<e?a.split(e-i):a),r<0&&i>=e&&(r=s),i=l,s++}let o=this.length-e;return this.length=e,r>-1&&(this.children.length=r,this.markDirty()),new Lt(this.mark,t,o)}domAtPos(e){return Od(this.dom,this.children,e)}coordsAt(e,t){return bd(this,e,t)}}function ol(n,e,t){let i=n.nodeValue.length;e>i&&(e=i);let r=e,s=e,o=0;e==0&&t<0||e==i&&t>=0?L.chrome||L.gecko||(e?(r--,o=1):s<i&&(s++,o=-1)):t<0?r--:s<i&&s++;let a=cr(n,r,s).getClientRects();if(!a.length)return ld;let l=a[(o?o<0:t>=0)?0:a.length-1];return L.safari&&!o&&l.width==0&&(l=Array.prototype.find.call(a,h=>h.width)||l),o?po(l,o<0):l||null}class li extends xe{constructor(e,t,i){super(),this.widget=e,this.length=t,this.side=i,this.prevWidget=null}static create(e,t,i){return new(e.customView||li)(e,t,i)}split(e){let t=li.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(){(!this.dom||!this.widget.updateDOM(this.dom))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,t,i,r,s,o){return i&&(!(i instanceof li)||!this.widget.compare(i.widget)||e>0&&s<=0||t<this.length&&o<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}become(e){return e.length==this.length&&e instanceof li&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.eq(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return ie.empty;let e=this;for(;e.parent;)e=e.parent;let t=e.editorView,i=t&&t.state.doc,r=this.posAtStart;return i?i.slice(r,r+this.length):ie.empty}domAtPos(e){return e==0?Re.before(this.dom):Re.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let i=this.dom.getClientRects(),r=null;if(!i.length)return ld;for(let s=e>0?i.length-1:0;r=i[s],!(e>0?s==0:s==i.length-1||r.top<r.bottom);s+=e>0?-1:1);return e==0&&t>0||e==this.length&&t<=0?r:po(r,e==0)}get isEditable(){return!1}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class md extends li{domAtPos(e){let{topView:t,text:i}=this.widget;return t?al(e,0,t,i,(r,s)=>r.domAtPos(s),r=>new Re(i,Math.min(r,i.nodeValue.length))):new Re(i,Math.min(e,i.nodeValue.length))}sync(){this.setDOM(this.widget.toDOM())}localPosFromDOM(e,t){let{topView:i,text:r}=this.widget;return i?gd(e,t,i,r):Math.min(t,this.length)}ignoreMutation(){return!1}get overrideDOMText(){return null}coordsAt(e,t){let{topView:i,text:r}=this.widget;return i?al(e,t,i,r,(s,o,a)=>s.coordsAt(o,a),(s,o)=>ol(r,s,o)):ol(r,e,t)}destroy(){var e;super.destroy(),(e=this.widget.topView)===null||e===void 0||e.destroy()}get isEditable(){return!0}}function al(n,e,t,i,r,s){if(t instanceof Lt){for(let o of t.children){let a=dn(o.dom,i),l=a?i.nodeValue.length:o.length;if(n<l||n==l&&o.getSide()<=0)return a?al(n,e,o,i,r,s):r(o,n,e);n-=l}return r(t,t.length,-1)}else return t.dom==i?s(n,e):r(t,n,e)}function gd(n,e,t,i){if(t instanceof Lt)for(let r of t.children){let s=0,o=dn(r.dom,i);if(dn(r.dom,n))return s+(o?gd(n,e,r,i):r.localPosFromDOM(n,e));s+=o?i.nodeValue.length:r.length}else if(t.dom==i)return Math.min(e,i.nodeValue.length);return t.localPosFromDOM(n,e)}class pn extends xe{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof pn&&e.side==this.side}split(){return new pn(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return Re.before(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){let t=this.dom.getBoundingClientRect(),i=Nb(this,this.side>0?-1:1);return i&&i.top<t.bottom&&i.bottom>t.top?{left:t.left,right:t.right,top:i.top,bottom:i.bottom}:t}get overrideDOMText(){return ie.empty}}bi.prototype.children=li.prototype.children=pn.prototype.children=ah;function Nb(n,e){let t=n.parent,i=t?t.children.indexOf(n):-1;for(;t&&i>=0;)if(e<0?i>0:i<t.children.length){let r=t.children[i+e];if(r instanceof bi){let s=r.coordsAt(e<0?r.length:0,e);if(s)return s}i+=e}else if(t instanceof Lt&&t.parent)i=t.parent.children.indexOf(t)+(e<0?0:1),t=t.parent;else{let r=t.dom.lastChild;if(r&&r.nodeName=="BR")return r.getClientRects()[0];break}}function Od(n,e,t){let i=0;for(let r=0;i<e.length;i++){let s=e[i],o=r+s.length;if(!(o==r&&s.getSide()<=0)){if(t>r&&t<o&&s.dom.parentNode==n)return s.domAtPos(t-r);if(t<=r)break;r=o}}for(;i>0;i--){let r=e[i-1].dom;if(r.parentNode==n)return Re.after(r)}return new Re(n,0)}function yd(n,e,t){let i,{children:r}=n;t>0&&e instanceof Lt&&r.length&&(i=r[r.length-1])instanceof Lt&&i.mark.eq(e.mark)?yd(i,e.children[0],t-1):(r.push(e),e.setParent(n)),n.length+=e.length}function bd(n,e,t){for(let s=0,o=0;o<n.children.length;o++){let a=n.children[o],l=s+a.length,h;if((t<=0||l==n.length||a.getSide()>0?l>=e:l>e)&&(e<l||o+1==n.children.length||(h=n.children[o+1]).length||h.getSide()>0)){let c=0;if(l==s){if(a.getSide()<=0)continue;c=t=-a.getSide()}let u=a.coordsAt(Math.max(0,e-s),t);return c&&u?po(u,t<0):u}s=l}let i=n.dom.lastChild;if(!i)return n.dom.getBoundingClientRect();let r=hr(i);return r[r.length-1]||null}function ll(n,e){for(let t in n)t=="class"&&e.class?e.class+=" "+n.class:t=="style"&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}function lh(n,e){if(n==e)return!0;if(!n||!e)return!1;let t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r of t)if(i.indexOf(r)==-1||n[r]!==e[r])return!1;return!0}function hl(n,e,t){let i=null;if(e)for(let r in e)t&&r in t||n.removeAttribute(i=r);if(t)for(let r in t)e&&e[r]==t[r]||n.setAttribute(i=r,t[r]);return!!i}class Xt{eq(e){return!1}updateDOM(e){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}ignoreEvent(e){return!0}get customView(){return null}destroy(e){}}var ae=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}(ae||(ae={}));class X extends mi{constructor(e,t,i,r){super(),this.startSide=e,this.endSide=t,this.widget=i,this.spec=r}get heightRelevant(){return!1}static mark(e){return new mo(e)}static widget(e){let t=e.side||0,i=!!e.block;return t+=i?t>0?3e8:-4e8:t>0?1e8:-1e8,new Mi(e,t,t,i,e.widget||null,!1)}static replace(e){let t=!!e.block,i,r;if(e.isBlockGap)i=-5e8,r=4e8;else{let{start:s,end:o}=Sd(e,t);i=(s?t?-3e8:-1:5e8)-1,r=(o?t?2e8:1:-6e8)+1}return new Mi(e,i,r,t,e.widget||null,!0)}static line(e){return new Cr(e)}static set(e,t=!1){return re.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}X.none=re.empty;class mo extends X{constructor(e){let{start:t,end:i}=Sd(e);super(t?-1:5e8,i?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){return this==e||e instanceof mo&&this.tagName==e.tagName&&this.class==e.class&&lh(this.attrs,e.attrs)}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}mo.prototype.point=!1;class Cr extends X{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Cr&&lh(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}Cr.prototype.mapMode=Pe.TrackBefore;Cr.prototype.point=!0;class Mi extends X{constructor(e,t,i,r,s,o){super(t,i,s,e),this.block=r,this.isReplace=o,this.mapMode=r?t<=0?Pe.TrackBefore:Pe.TrackAfter:Pe.TrackDel}get type(){return this.startSide<this.endSide?ae.WidgetRange:this.startSide<=0?ae.WidgetBefore:ae.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(e){return e instanceof Mi&&Lb(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}Mi.prototype.point=!0;function Sd(n,e=!1){let{inclusiveStart:t,inclusiveEnd:i}=n;return t==null&&(t=n.inclusive),i==null&&(i=n.inclusive),{start:t!=null?t:e,end:i!=null?i:e}}function Lb(n,e){return n==e||!!(n&&e&&n.compare(e))}function cl(n,e,t,i=0){let r=t.length-1;r>=0&&t[r]+i>=n?t[r]=Math.max(t[r],e):t.push(n,e)}class _e extends xe{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,i,r,s,o){if(i){if(!(i instanceof _e))return!1;this.dom||i.transferDOM(this)}return r&&this.setDeco(i?i.attrs:null),dd(this,e,t,i?i.children:[],s,o),!0}split(e){let t=new _e;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i,off:r}=this.childPos(e);r&&(t.append(this.children[i].split(r),0),this.children[i].merge(r,this.children[i].length,null,!1,0,0),i++);for(let s=i;s<this.children.length;s++)t.append(this.children[s],0);for(;i>0&&this.children[i-1].length==0;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=e,t}transferDOM(e){!this.dom||(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){lh(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){yd(this,e,t)}addLineDeco(e){let t=e.spec.attributes,i=e.spec.class;t&&(this.attrs=ll(t,this.attrs||{})),i&&(this.attrs=ll({class:i},this.attrs||{}))}domAtPos(e){return Od(this.dom,this.children,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.dirty|=6)}sync(e){var t;this.dom?this.dirty&4&&(cd(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(hl(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e);let i=this.dom.lastChild;for(;i&&xe.get(i)instanceof Lt;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((t=xe.get(i))===null||t===void 0?void 0:t.isEditable)==!1&&(!L.ios||!this.children.some(r=>r instanceof bi))){let r=document.createElement("BR");r.cmIgnore=!0,this.dom.appendChild(r)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0;for(let t of this.children){if(!(t instanceof bi))return null;let i=hr(t.dom);if(i.length!=1)return null;e+=i[0].width}return{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length}}coordsAt(e,t){return bd(this,e,t)}become(e){return!1}get type(){return ae.Text}static find(e,t){for(let i=0,r=0;i<e.children.length;i++){let s=e.children[i],o=r+s.length;if(o>=t){if(s instanceof _e)return s;if(o>t)break}r=o+s.breakAfter}return null}}class Ri extends xe{constructor(e,t,i){super(),this.widget=e,this.length=t,this.type=i,this.breakAfter=0,this.prevWidget=null}merge(e,t,i,r,s,o){return i&&(!(i instanceof Ri)||!this.widget.compare(i.widget)||e>0&&s<=0||t<this.length&&o<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}domAtPos(e){return e==0?Re.before(this.dom):Re.after(this.dom,e==this.length)}split(e){let t=this.length-e;this.length=e;let i=new Ri(this.widget,t,this.type);return i.breakAfter=this.breakAfter,i}get children(){return ah}sync(){(!this.dom||!this.widget.updateDOM(this.dom))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}get overrideDOMText(){return this.parent?this.parent.view.state.doc.slice(this.posAtStart,this.posAtEnd):ie.empty}domBoundsAround(){return null}become(e){return e instanceof Ri&&e.type==this.type&&e.widget.constructor==this.widget.constructor?(e.widget.eq(this.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,this.length=e.length,this.breakAfter=e.breakAfter,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class hh{constructor(e,t,i,r){this.doc=e,this.pos=t,this.end=i,this.disallowBlockEffectsFor=r,this.content=[],this.curLine=null,this.breakAtStart=0,this.pendingBuffer=0,this.atCursorPos=!0,this.openStart=-1,this.openEnd=-1,this.text="",this.textOff=0,this.cursor=e.iter(),this.skip=t}posCovered(){if(this.content.length==0)return!this.breakAtStart&&this.doc.lineAt(this.pos).from!=this.pos;let e=this.content[this.content.length-1];return!e.breakAfter&&!(e instanceof Ri&&e.type==ae.WidgetBefore)}getLine(){return this.curLine||(this.content.push(this.curLine=new _e),this.atCursorPos=!0),this.curLine}flushBuffer(e){this.pendingBuffer&&(this.curLine.append(zr(new pn(-1),e),e.length),this.pendingBuffer=0)}addBlockWidget(e){this.flushBuffer([]),this.curLine=null,this.content.push(e)}finish(e){e?this.pendingBuffer=0:this.flushBuffer([]),this.posCovered()||this.getLine()}buildText(e,t,i){for(;e>0;){if(this.textOff==this.text.length){let{value:s,lineBreak:o,done:a}=this.cursor.next(this.skip);if(this.skip=0,a)throw new Error("Ran out of text content when drawing inline views");if(o){this.posCovered()||this.getLine(),this.content.length?this.content[this.content.length-1].breakAfter=1:this.breakAtStart=1,this.flushBuffer([]),this.curLine=null,e--;continue}else this.text=s,this.textOff=0}let r=Math.min(this.text.length-this.textOff,e,512);this.flushBuffer(t.slice(0,i)),this.getLine().append(zr(new bi(this.text.slice(this.textOff,this.textOff+r)),t),i),this.atCursorPos=!0,this.textOff+=r,e-=r,i=0}}span(e,t,i,r){this.buildText(t-e,i,r),this.pos=t,this.openStart<0&&(this.openStart=r)}point(e,t,i,r,s,o){if(this.disallowBlockEffectsFor[o]&&i instanceof Mi){if(i.block)throw new RangeError("Block decorations may not be specified via plugins");if(t>this.doc.lineAt(this.pos).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}let a=t-e;if(i instanceof Mi)if(i.block){let{type:l}=i;l==ae.WidgetAfter&&!this.posCovered()&&this.getLine(),this.addBlockWidget(new Ri(i.widget||new Bc("div"),a,l))}else{let l=li.create(i.widget||new Bc("span"),a,i.startSide),h=this.atCursorPos&&!l.isEditable&&s<=r.length&&(e<t||i.startSide>0),c=!l.isEditable&&(e<t||i.startSide<=0),u=this.getLine();this.pendingBuffer==2&&!h&&(this.pendingBuffer=0),this.flushBuffer(r),h&&(u.append(zr(new pn(1),r),s),s=r.length+Math.max(0,s-r.length)),u.append(zr(l,r),s),this.atCursorPos=c,this.pendingBuffer=c?e<t?1:2:0}else this.doc.lineAt(this.pos).from==this.pos&&this.getLine().addLineDeco(i);a&&(this.textOff+a<=this.text.length?this.textOff+=a:(this.skip+=a-(this.text.length-this.textOff),this.text="",this.textOff=0),this.pos=t),this.openStart<0&&(this.openStart=s)}static build(e,t,i,r,s){let o=new hh(e,t,i,s);return o.openEnd=re.spans(r,t,i,o),o.openStart<0&&(o.openStart=o.openEnd),o.finish(o.openEnd),o}}function zr(n,e){for(let t of e)n=new Lt(t,[n],n.length);return n}class Bc extends Xt{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}}const wd=N.define(),vd=N.define(),kd=N.define(),Cd=N.define(),ul=N.define(),Dd=N.define(),Ad=N.define({combine:n=>n.some(e=>e)});class Qs{constructor(e,t="nearest",i="nearest",r=5,s=5){this.range=e,this.y=t,this.x=i,this.yMargin=r,this.xMargin=s}map(e){return e.empty?this:new Qs(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin)}}const Mc=j.define({map:(n,e)=>n.map(e)});function lt(n,e,t){let i=n.facet(Cd);i.length?i[0](e):window.onerror?window.onerror(String(e),t,void 0,void 0,e):t?console.error(t+":",e):console.error(e)}const Dr=N.define({combine:n=>n.length?n[0]:!0});let Xb=0;const zn=N.define();class we{constructor(e,t,i,r){this.id=e,this.create=t,this.domEventHandlers=i,this.extension=r(this)}static define(e,t){const{eventHandlers:i,provide:r,decorations:s}=t||{};return new we(Xb++,e,i,o=>{let a=[zn.of(o)];return s&&a.push(ur.of(l=>{let h=l.plugin(o);return h?s(h):X.none})),r&&a.push(r(o)),a})}static fromClass(e,t){return we.define(i=>new e(i),t)}}class Go{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}update(e){if(this.value){if(this.mustUpdate){let t=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(t)}catch(i){if(lt(t.state,i,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.create(e)}catch(t){lt(e.state,t,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var t;if(!((t=this.value)===null||t===void 0)&&t.destroy)try{this.value.destroy()}catch(i){lt(e.state,i,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const Ed=N.define(),Td=N.define(),ur=N.define(),Fd=N.define(),$d=N.define(),_n=N.define();class qt{constructor(e,t,i,r){this.fromA=e,this.toA=t,this.fromB=i,this.toB=r}join(e){return new qt(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let t=e.length,i=this;for(;t>0;t--){let r=e[t-1];if(!(r.fromA>i.toA)){if(r.toA<i.fromA)break;i=i.join(r),e.splice(t-1,1)}}return e.splice(t,0,i),e}static extendWithRanges(e,t){if(t.length==0)return e;let i=[];for(let r=0,s=0,o=0,a=0;;r++){let l=r==e.length?null:e[r],h=o-a,c=l?l.fromB:1e9;for(;s<t.length&&t[s]<c;){let u=t[s],d=t[s+1],x=Math.max(a,u),g=Math.min(c,d);if(x<=g&&new qt(x+h,g+h,x,g).addToSet(i),d>c)break;s+=2}if(!l)return i;new qt(l.fromA,l.toA,l.fromB,l.toB).addToSet(i),o=l.toA,a=l.toB}}}class Ps{constructor(e,t,i){this.view=e,this.state=t,this.transactions=i,this.flags=0,this.startState=e.state,this.changes=Ce.empty(this.startState.doc.length);for(let o of i)this.changes=this.changes.compose(o.changes);let r=[];this.changes.iterChangedRanges((o,a,l,h)=>r.push(new qt(o,a,l,h))),this.changedRanges=r;let s=e.hasFocus;s!=e.inputState.notifiedFocused&&(e.inputState.notifiedFocused=s,this.flags|=1)}static create(e,t,i){return new Ps(e,t,i)}get viewportChanged(){return(this.flags&4)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&10)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}var de=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(de||(de={}));const fl=de.LTR,Ub=de.RTL;function Qd(n){let e=[];for(let t=0;t<n.length;t++)e.push(1<<+n[t]);return e}const zb=Qd("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),_b=Qd("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),dl=Object.create(null),vt=[];for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);dl[e]=t,dl[t]=-e}function jb(n){return n<=247?zb[n]:1424<=n&&n<=1524?2:1536<=n&&n<=1785?_b[n-1536]:1774<=n&&n<=2220?4:8192<=n&&n<=8203||n==8204?256:1}const Zb=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;class an{constructor(e,t,i){this.from=e,this.to=t,this.level=i}get dir(){return this.level%2?Ub:fl}side(e,t){return this.dir==t==e?this.to:this.from}static find(e,t,i,r){let s=-1;for(let o=0;o<e.length;o++){let a=e[o];if(a.from<=t&&a.to>=t){if(a.level==i)return o;(s<0||(r!=0?r<0?a.from<t:a.to>t:e[s].level>a.level))&&(s=o)}}if(s<0)throw new RangeError("Index out of range");return s}}const fe=[];function Gb(n,e){let t=n.length,i=e==fl?1:2,r=e==fl?2:1;if(!n||i==1&&!Zb.test(n))return Pd(t);for(let o=0,a=i,l=i;o<t;o++){let h=jb(n.charCodeAt(o));h==512?h=a:h==8&&l==4&&(h=16),fe[o]=h==4?2:h,h&7&&(l=h),a=h}for(let o=0,a=i,l=i;o<t;o++){let h=fe[o];if(h==128)o<t-1&&a==fe[o+1]&&a&24?h=fe[o]=a:fe[o]=256;else if(h==64){let c=o+1;for(;c<t&&fe[c]==64;)c++;let u=o&&a==8||c<t&&fe[c]==8?l==1?1:8:256;for(let d=o;d<c;d++)fe[d]=u;o=c-1}else h==8&&l==1&&(fe[o]=1);a=h,h&7&&(l=h)}for(let o=0,a=0,l=0,h,c,u;o<t;o++)if(c=dl[h=n.charCodeAt(o)])if(c<0){for(let d=a-3;d>=0;d-=3)if(vt[d+1]==-c){let x=vt[d+2],g=x&2?i:x&4?x&1?r:i:0;g&&(fe[o]=fe[vt[d]]=g),a=d;break}}else{if(vt.length==189)break;vt[a++]=o,vt[a++]=h,vt[a++]=l}else if((u=fe[o])==2||u==1){let d=u==i;l=d?0:1;for(let x=a-3;x>=0;x-=3){let g=vt[x+2];if(g&2)break;if(d)vt[x+2]|=2;else{if(g&4)break;vt[x+2]|=4}}}for(let o=0;o<t;o++)if(fe[o]==256){let a=o+1;for(;a<t&&fe[a]==256;)a++;let l=(o?fe[o-1]:i)==1,h=(a<t?fe[a]:i)==1,c=l==h?l?1:2:i;for(let u=o;u<a;u++)fe[u]=c;o=a-1}let s=[];if(i==1)for(let o=0;o<t;){let a=o,l=fe[o++]!=1;for(;o<t&&l==(fe[o]!=1);)o++;if(l)for(let h=o;h>a;){let c=h,u=fe[--h]!=2;for(;h>a&&u==(fe[h-1]!=2);)h--;s.push(new an(h,c,u?2:1))}else s.push(new an(a,o,0))}else for(let o=0;o<t;){let a=o,l=fe[o++]==2;for(;o<t&&l==(fe[o]==2);)o++;s.push(new an(a,o,l?1:2))}return s}function Pd(n){return[new an(0,n,0)]}let Rd="";function qb(n,e,t,i,r){var s;let o=i.head-n.from,a=-1;if(o==0){if(!r||!n.length)return null;e[0].level!=t&&(o=e[0].side(!1,t),a=0)}else if(o==n.length){if(r)return null;let d=e[e.length-1];d.level!=t&&(o=d.side(!0,t),a=e.length-1)}a<0&&(a=an.find(e,o,(s=i.bidiLevel)!==null&&s!==void 0?s:-1,i.assoc));let l=e[a];o==l.side(r,t)&&(l=e[a+=r?1:-1],o=l.side(!r,t));let h=r==(l.dir==t),c=ot(n.text,o,h);if(Rd=n.text.slice(Math.min(o,c),Math.max(o,c)),c!=l.side(r,t))return $.cursor(c+n.from,h?-1:1,l.level);let u=a==(r?e.length-1:0)?null:e[a+(r?1:-1)];return!u&&l.level!=t?$.cursor(r?n.to:n.from,r?-1:1,t):u&&u.level<l.level?$.cursor(u.side(!r,t)+n.from,r?1:-1,u.level):$.cursor(c+n.from,r?-1:1,l.level)}const hi="\uFFFF";class Id{constructor(e,t){this.points=e,this.text="",this.lineSeparator=t.facet(te.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=hi}readRange(e,t){if(!e)return this;let i=e.parentNode;for(let r=e;;){this.findPointBefore(i,r),this.readNode(r);let s=r.nextSibling;if(s==t)break;let o=xe.get(r),a=xe.get(s);(o&&a?o.breakAfter:(o?o.breakAfter:Wc(r))||Wc(s)&&(r.nodeName!="BR"||r.cmIgnore))&&this.lineBreak(),r=s}return this.findPointBefore(i,t),this}readTextNode(e){let t=e.nodeValue;for(let i of this.points)i.node==e&&(i.pos=this.text.length+Math.min(i.offset,t.length));for(let i=0,r=this.lineSeparator?null:/\r\n?|\n/g;;){let s=-1,o=1,a;if(this.lineSeparator?(s=t.indexOf(this.lineSeparator,i),o=this.lineSeparator.length):(a=r.exec(t))&&(s=a.index,o=a[0].length),this.append(t.slice(i,s<0?t.length:s)),s<0)break;if(this.lineBreak(),o>1)for(let l of this.points)l.node==e&&l.pos>this.text.length&&(l.pos-=o-1);i=s+o}}readNode(e){if(e.cmIgnore)return;let t=xe.get(e),i=t&&t.overrideDOMText;if(i!=null){this.findPointInside(e,i.length);for(let r=i.iter();!r.next().done;)r.lineBreak?this.lineBreak():this.append(r.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,t){for(let i of this.points)i.node==e&&e.childNodes[i.offset]==t&&(i.pos=this.text.length)}findPointInside(e,t){for(let i of this.points)(e.nodeType==3?i.node==e:e.contains(i.node))&&(i.pos=this.text.length+Math.min(t,i.offset))}}function Wc(n){return n.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(n.nodeName)}class Nc{constructor(e,t){this.node=e,this.offset=t,this.pos=-1}}class Lc extends xe{constructor(e){super(),this.view=e,this.compositionDeco=X.none,this.decorations=[],this.dynamicDecorationMap=[],this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.setDOM(e.contentDOM),this.children=[new _e],this.children[0].setParent(this),this.updateDeco(),this.updateInner([new qt(0,0,0,e.state.doc.length)],0)}get root(){return this.view.root}get editorView(){return this.view}get length(){return this.view.state.doc.length}update(e){let t=e.changedRanges;this.minWidth>0&&t.length&&(t.every(({fromA:o,toA:a})=>a<this.minWidthFrom||o>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.view.inputState.composing<0?this.compositionDeco=X.none:(e.transactions.length||this.dirty)&&(this.compositionDeco=Yb(this.view,e.changes)),(L.ie||L.chrome)&&!this.compositionDeco.size&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let i=this.decorations,r=this.updateDeco(),s=eS(i,r,e.changes);return t=qt.extendWithRanges(t,s),this.dirty==0&&t.length==0?!1:(this.updateInner(t,e.startState.doc.length),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,t){this.view.viewState.mustMeasureContent=!0,this.updateChildren(e,t);let{observer:i}=this.view;i.ignore(()=>{this.dom.style.height=this.view.viewState.contentHeight+"px",this.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let s=L.chrome||L.ios?{node:i.selectionRange.focusNode,written:!1}:void 0;this.sync(s),this.dirty=0,s&&(s.written||i.selectionRange.focusNode!=s.node)&&(this.forceSelection=!0),this.dom.style.height=""});let r=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let s of this.children)s instanceof Ri&&s.widget instanceof Xc&&r.push(s.dom);i.updateGaps(r)}updateChildren(e,t){let i=this.childCursor(t);for(let r=e.length-1;;r--){let s=r>=0?e[r]:null;if(!s)break;let{fromA:o,toA:a,fromB:l,toB:h}=s,{content:c,breakAtStart:u,openStart:d,openEnd:x}=hh.build(this.view.state.doc,l,h,this.decorations,this.dynamicDecorationMap),{i:g,off:f}=i.findPos(a,1),{i:p,off:m}=i.findPos(o,-1);fd(this,p,m,g,f,c,u,d,x)}}updateSelection(e=!1,t=!1){if(e&&this.view.observer.readSelectionRange(),!(t||this.mayControlSelection())||L.ios&&this.view.inputState.rapidCompositionStart)return;let i=this.forceSelection;this.forceSelection=!1;let r=this.view.state.selection.main,s=this.domAtPos(r.anchor),o=r.empty?s:this.domAtPos(r.head);if(L.gecko&&r.empty&&Vb(s)){let l=document.createTextNode("");this.view.observer.ignore(()=>s.node.insertBefore(l,s.node.childNodes[s.offset]||null)),s=o=new Re(l,0),i=!0}let a=this.view.observer.selectionRange;(i||!a.focusNode||!Fs(s.node,s.offset,a.anchorNode,a.anchorOffset)||!Fs(o.node,o.offset,a.focusNode,a.focusOffset))&&(this.view.observer.ignore(()=>{L.android&&L.chrome&&this.dom.contains(a.focusNode)&&tS(a.focusNode,this.dom)&&(this.dom.blur(),this.dom.focus({preventScroll:!0}));let l=Ts(this.root);if(r.empty){if(L.gecko){let h=Hb(s.node,s.offset);if(h&&h!=3){let c=Md(s.node,s.offset,h==1?1:-1);c&&(s=new Re(c,h==1?0:c.nodeValue.length))}}l.collapse(s.node,s.offset),r.bidiLevel!=null&&a.cursorBidiLevel!=null&&(a.cursorBidiLevel=r.bidiLevel)}else if(l.extend)l.collapse(s.node,s.offset),l.extend(o.node,o.offset);else{let h=document.createRange();r.anchor>r.head&&([s,o]=[o,s]),h.setEnd(o.node,o.offset),h.setStart(s.node,s.offset),l.removeAllRanges(),l.addRange(h)}}),this.view.observer.setSelectionRange(s,o)),this.impreciseAnchor=s.precise?null:new Re(a.anchorNode,a.anchorOffset),this.impreciseHead=o.precise?null:new Re(a.focusNode,a.focusOffset)}enforceCursorAssoc(){if(this.compositionDeco.size)return;let e=this.view.state.selection.main,t=Ts(this.root);if(!e.empty||!e.assoc||!t.modify)return;let i=_e.find(this,e.head);if(!i)return;let r=i.posAtStart;if(e.head==r||e.head==r+i.length)return;let s=this.coordsAt(e.head,-1),o=this.coordsAt(e.head,1);if(!s||!o||s.bottom>o.top)return;let a=this.domAtPos(e.head+e.assoc);t.collapse(a.node,a.offset),t.modify("move",e.assoc<0?"forward":"backward","lineboundary")}mayControlSelection(){return this.view.state.facet(Dr)?this.root.activeElement==this.dom:tl(this.dom,this.view.observer.selectionRange)}nearest(e){for(let t=e;t;){let i=xe.get(t);if(i&&i.rootView==this)return i;t=t.parentNode}return null}posFromDOM(e,t){let i=this.nearest(e);if(!i)throw new RangeError("Trying to find position for a DOM position outside of the document");return i.localPosFromDOM(e,t)+i.posAtStart}domAtPos(e){let{i:t,off:i}=this.childCursor().findPos(e,-1);for(;t<this.children.length-1;){let r=this.children[t];if(i<r.length||r instanceof _e)break;t++,i=0}return this.children[t].domAtPos(i)}coordsAt(e,t){for(let i=this.length,r=this.children.length-1;;r--){let s=this.children[r],o=i-s.breakAfter-s.length;if(e>o||e==o&&s.type!=ae.WidgetBefore&&s.type!=ae.WidgetAfter&&(!r||t==2||this.children[r-1].breakAfter||this.children[r-1].type==ae.WidgetBefore&&t>-2))return s.coordsAt(e-o,t);i=o}}measureVisibleLineHeights(e){let t=[],{from:i,to:r}=e,s=this.view.contentDOM.clientWidth,o=s>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,a=-1,l=this.view.textDirection==de.LTR;for(let h=0,c=0;c<this.children.length;c++){let u=this.children[c],d=h+u.length;if(d>r)break;if(h>=i){let x=u.dom.getBoundingClientRect();if(t.push(x.height),o){let g=u.dom.lastChild,f=g?hr(g):[];if(f.length){let p=f[f.length-1],m=l?p.right-x.left:x.right-p.left;m>a&&(a=m,this.minWidth=s,this.minWidthFrom=h,this.minWidthTo=d)}}}h=d+u.breakAfter}return t}textDirectionAt(e){let{i:t}=this.childPos(e,1);return getComputedStyle(this.children[t].dom).direction=="rtl"?de.RTL:de.LTR}measureTextSize(){for(let r of this.children)if(r instanceof _e){let s=r.measureTextSize();if(s)return s}let e=document.createElement("div"),t,i;return e.className="cm-line",e.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.dom.appendChild(e);let r=hr(e.firstChild)[0];t=e.getBoundingClientRect().height,i=r?r.width/27:7,e.remove()}),{lineHeight:t,charWidth:i}}childCursor(e=this.length){let t=this.children.length;return t&&(e-=this.children[--t].length),new ud(this.children,e,t)}computeBlockGapDeco(){let e=[],t=this.view.viewState;for(let i=0,r=0;;r++){let s=r==t.viewports.length?null:t.viewports[r],o=s?s.from-1:this.length;if(o>i){let a=t.lineBlockAt(o).bottom-t.lineBlockAt(i).top;e.push(X.replace({widget:new Xc(a),block:!0,inclusive:!0,isBlockGap:!0}).range(i,o))}if(!s)break;i=s.to+1}return X.set(e)}updateDeco(){let e=this.view.state.facet(ur).map((t,i)=>(this.dynamicDecorationMap[i]=typeof t=="function")?t(this.view):t);for(let t=e.length;t<e.length+3;t++)this.dynamicDecorationMap[t]=!1;return this.decorations=[...e,this.compositionDeco,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco]}scrollIntoView(e){let{range:t}=e,i=this.coordsAt(t.head,t.empty?t.assoc:t.head>t.anchor?-1:1),r;if(!i)return;!t.empty&&(r=this.coordsAt(t.anchor,t.anchor>t.head?-1:1))&&(i={left:Math.min(i.left,r.left),top:Math.min(i.top,r.top),right:Math.max(i.right,r.right),bottom:Math.max(i.bottom,r.bottom)});let s=0,o=0,a=0,l=0;for(let c of this.view.state.facet($d).map(u=>u(this.view)))if(c){let{left:u,right:d,top:x,bottom:g}=c;u!=null&&(s=Math.max(s,u)),d!=null&&(o=Math.max(o,d)),x!=null&&(a=Math.max(a,x)),g!=null&&(l=Math.max(l,g))}let h={left:i.left-s,top:i.top-a,right:i.right+o,bottom:i.bottom+l};Ib(this.view.scrollDOM,h,t.head<t.anchor?-1:1,e.x,e.y,e.xMargin,e.yMargin,this.view.textDirection==de.LTR)}}function Vb(n){return n.node.nodeType==1&&n.node.firstChild&&(n.offset==0||n.node.childNodes[n.offset-1].contentEditable=="false")&&(n.offset==n.node.childNodes.length||n.node.childNodes[n.offset].contentEditable=="false")}class Xc extends Xt{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get estimatedHeight(){return this.height}}function Bd(n){let e=n.observer.selectionRange,t=e.focusNode&&Md(e.focusNode,e.focusOffset,0);if(!t)return null;let i=n.docView.nearest(t);if(!i)return null;if(i instanceof _e){let r=t;for(;r.parentNode!=i.dom;)r=r.parentNode;let s=r.previousSibling;for(;s&&!xe.get(s);)s=s.previousSibling;let o=s?xe.get(s).posAtEnd:i.posAtStart;return{from:o,to:o,node:r,text:t}}else{for(;;){let{parent:s}=i;if(!s)return null;if(s instanceof _e)break;i=s}let r=i.posAtStart;return{from:r,to:r+i.length,node:i.dom,text:t}}}function Yb(n,e){let t=Bd(n);if(!t)return X.none;let{from:i,to:r,node:s,text:o}=t,a=e.mapPos(i,1),l=Math.max(a,e.mapPos(r,-1)),{state:h}=n,c=s.nodeType==3?s.nodeValue:new Id([],h).readRange(s.firstChild,null).text;if(l-a<c.length)if(h.doc.sliceString(a,Math.min(h.doc.length,a+c.length),hi)==c)l=a+c.length;else if(h.doc.sliceString(Math.max(0,l-c.length),l,hi)==c)a=l-c.length;else return X.none;else if(h.doc.sliceString(a,l,hi)!=c)return X.none;let u=xe.get(s);return u instanceof md?u=u.widget.topView:u&&(u.parent=null),X.set(X.replace({widget:new Jb(s,o,u),inclusive:!0}).range(a,l))}class Jb extends Xt{constructor(e,t,i){super(),this.top=e,this.text=t,this.topView=i}eq(e){return this.top==e.top&&this.text==e.text}toDOM(){return this.top}ignoreEvent(){return!1}get customView(){return md}}function Md(n,e,t){for(;;){if(n.nodeType==3)return n;if(n.nodeType==1&&e>0&&t<=0)n=n.childNodes[e-1],e=$s(n);else if(n.nodeType==1&&e<n.childNodes.length&&t>=0)n=n.childNodes[e],e=0;else return null}}function Hb(n,e){return n.nodeType!=1?0:(e&&n.childNodes[e-1].contentEditable=="false"?1:0)|(e<n.childNodes.length&&n.childNodes[e].contentEditable=="false"?2:0)}class Kb{constructor(){this.changes=[]}compareRange(e,t){cl(e,t,this.changes)}comparePoint(e,t){cl(e,t,this.changes)}}function eS(n,e,t){let i=new Kb;return re.compare(n,e,t,i),i.changes}function tS(n,e){for(let t=n;t&&t!=e;t=t.assignedSlot||t.parentNode)if(t.nodeType==1&&t.contentEditable=="false")return!0;return!1}function iS(n,e,t=1){let i=n.charCategorizer(e),r=n.doc.lineAt(e),s=e-r.from;if(r.length==0)return $.cursor(e);s==0?t=1:s==r.length&&(t=-1);let o=s,a=s;t<0?o=ot(r.text,s,!1):a=ot(r.text,s);let l=i(r.text.slice(o,a));for(;o>0;){let h=ot(r.text,o,!1);if(i(r.text.slice(h,o))!=l)break;o=h}for(;a<r.length;){let h=ot(r.text,a);if(i(r.text.slice(a,h))!=l)break;a=h}return $.range(o+r.from,a+r.from)}function nS(n,e){return e.left>n?e.left-n:Math.max(0,n-e.right)}function rS(n,e){return e.top>n?e.top-n:Math.max(0,n-e.bottom)}function qo(n,e){return n.top<e.bottom-1&&n.bottom>e.top+1}function Uc(n,e){return e<n.top?{top:e,left:n.left,right:n.right,bottom:n.bottom}:n}function zc(n,e){return e>n.bottom?{top:n.top,left:n.left,right:n.right,bottom:e}:n}function pl(n,e,t){let i,r,s,o,a,l,h,c;for(let x=n.firstChild;x;x=x.nextSibling){let g=hr(x);for(let f=0;f<g.length;f++){let p=g[f];r&&qo(r,p)&&(p=Uc(zc(p,r.bottom),r.top));let m=nS(e,p),O=rS(t,p);if(m==0&&O==0)return x.nodeType==3?_c(x,e,t):pl(x,e,t);(!i||o>O||o==O&&s>m)&&(i=x,r=p,s=m,o=O),m==0?t>p.bottom&&(!h||h.bottom<p.bottom)?(a=x,h=p):t<p.top&&(!c||c.top>p.top)&&(l=x,c=p):h&&qo(h,p)?h=zc(h,p.bottom):c&&qo(c,p)&&(c=Uc(c,p.top))}}if(h&&h.bottom>=t?(i=a,r=h):c&&c.top<=t&&(i=l,r=c),!i)return{node:n,offset:0};let u=Math.max(r.left,Math.min(r.right,e));if(i.nodeType==3)return _c(i,u,t);if(!s&&i.contentEditable=="true")return pl(i,u,t);let d=Array.prototype.indexOf.call(n.childNodes,i)+(e>=(r.left+r.right)/2?1:0);return{node:n,offset:d}}function _c(n,e,t){let i=n.nodeValue.length,r=-1,s=1e9,o=0;for(let a=0;a<i;a++){let l=cr(n,a,a+1).getClientRects();for(let h=0;h<l.length;h++){let c=l[h];if(c.top==c.bottom)continue;o||(o=e-c.left);let u=(c.top>t?c.top-t:t-c.bottom)-1;if(c.left-1<=e&&c.right+1>=e&&u<s){let d=e>=(c.left+c.right)/2,x=d;if((L.chrome||L.gecko)&&cr(n,a).getBoundingClientRect().left==c.right&&(x=!d),u<=0)return{node:n,offset:a+(x?1:0)};r=a+(x?1:0),s=u}}}return{node:n,offset:r>-1?r:o>0?n.nodeValue.length:0}}function Wd(n,{x:e,y:t},i,r=-1){var s;let o=n.contentDOM.getBoundingClientRect(),a=o.top+n.viewState.paddingTop,l,{docHeight:h}=n.viewState,c=t-a;if(c<0)return 0;if(c>h)return n.state.doc.length;for(let m=n.defaultLineHeight/2,O=!1;l=n.elementAtHeight(c),l.type!=ae.Text;)for(;c=r>0?l.bottom+m:l.top-m,!(c>=0&&c<=h);){if(O)return i?null:0;O=!0,r=-r}t=a+c;let u=l.from;if(u<n.viewport.from)return n.viewport.from==0?0:i?null:jc(n,o,l,e,t);if(u>n.viewport.to)return n.viewport.to==n.state.doc.length?n.state.doc.length:i?null:jc(n,o,l,e,t);let d=n.dom.ownerDocument,x=n.root.elementFromPoint?n.root:d,g=x.elementFromPoint(e,t);g&&!n.contentDOM.contains(g)&&(g=null),g||(e=Math.max(o.left+1,Math.min(o.right-1,e)),g=x.elementFromPoint(e,t),g&&!n.contentDOM.contains(g)&&(g=null));let f,p=-1;if(g&&((s=n.docView.nearest(g))===null||s===void 0?void 0:s.isEditable)!=!1){if(d.caretPositionFromPoint){let m=d.caretPositionFromPoint(e,t);m&&({offsetNode:f,offset:p}=m)}else if(d.caretRangeFromPoint){let m=d.caretRangeFromPoint(e,t);m&&({startContainer:f,startOffset:p}=m,L.safari&&sS(f,p,e)&&(f=void 0))}}if(!f||!n.docView.dom.contains(f)){let m=_e.find(n.docView,u);if(!m)return c>l.top+l.height/2?l.to:l.from;({node:f,offset:p}=pl(m.dom,e,t))}return n.docView.posFromDOM(f,p)}function jc(n,e,t,i,r){let s=Math.round((i-e.left)*n.defaultCharacterWidth);n.lineWrapping&&t.height>n.defaultLineHeight*1.5&&(s+=Math.floor((r-t.top)/n.defaultLineHeight)*n.viewState.heightOracle.lineLength);let o=n.state.sliceDoc(t.from,t.to);return t.from+Ha(o,s,n.state.tabSize)}function sS(n,e,t){let i;if(n.nodeType!=3||e!=(i=n.nodeValue.length))return!1;for(let r=n.nextSibling;r;r=r.nextSibling)if(r.nodeType!=1||r.nodeName!="BR")return!1;return cr(n,i-1,i).getBoundingClientRect().left>t}function oS(n,e,t,i){let r=n.state.doc.lineAt(e.head),s=!i||!n.lineWrapping?null:n.coordsAtPos(e.assoc<0&&e.head>r.from?e.head-1:e.head);if(s){let l=n.dom.getBoundingClientRect(),h=n.textDirectionAt(r.from),c=n.posAtCoords({x:t==(h==de.LTR)?l.right-1:l.left+1,y:(s.top+s.bottom)/2});if(c!=null)return $.cursor(c,t?-1:1)}let o=_e.find(n.docView,e.head),a=o?t?o.posAtEnd:o.posAtStart:t?r.to:r.from;return $.cursor(a,t?-1:1)}function Zc(n,e,t,i){let r=n.state.doc.lineAt(e.head),s=n.bidiSpans(r),o=n.textDirectionAt(r.from);for(let a=e,l=null;;){let h=qb(r,s,o,a,t),c=Rd;if(!h){if(r.number==(t?n.state.doc.lines:1))return a;c=`
`,r=n.state.doc.line(r.number+(t?1:-1)),s=n.bidiSpans(r),h=$.cursor(t?r.from:r.to)}if(l){if(!l(c))return a}else{if(!i)return h;l=i(c)}a=h}}function aS(n,e,t){let i=n.state.charCategorizer(e),r=i(t);return s=>{let o=i(s);return r==ze.Space&&(r=o),r==o}}function lS(n,e,t,i){let r=e.head,s=t?1:-1;if(r==(t?n.state.doc.length:0))return $.cursor(r,e.assoc);let o=e.goalColumn,a,l=n.contentDOM.getBoundingClientRect(),h=n.coordsAtPos(r),c=n.documentTop;if(h)o==null&&(o=h.left-l.left),a=s<0?h.top:h.bottom;else{let x=n.viewState.lineBlockAt(r);o==null&&(o=Math.min(l.right-l.left,n.defaultCharacterWidth*(r-x.from))),a=(s<0?x.top:x.bottom)+c}let u=l.left+o,d=i!=null?i:n.defaultLineHeight>>1;for(let x=0;;x+=10){let g=a+(d+x)*s,f=Wd(n,{x:u,y:g},!1,s);if(g<l.top||g>l.bottom||(s<0?f<r:f>r))return $.cursor(f,e.assoc,void 0,o)}}function Vo(n,e,t){let i=n.state.facet(Fd).map(r=>r(n));for(;;){let r=!1;for(let s of i)s.between(t.from-1,t.from+1,(o,a,l)=>{t.from>o&&t.from<a&&(t=e.from>t.from?$.cursor(o,1):$.cursor(a,-1),r=!0)});if(!r)return t}}class hS{constructor(e){this.lastKeyCode=0,this.lastKeyTime=0,this.chromeScrollHack=-1,this.pendingIOSKey=void 0,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastEscPress=0,this.lastContextMenu=0,this.scrollHandlers=[],this.registeredEvents=[],this.customHandlers=[],this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.rapidCompositionStart=!1,this.mouseSelection=null;for(let t in Te){let i=Te[t];e.contentDOM.addEventListener(t,r=>{!Gc(e,r)||this.ignoreDuringComposition(r)||t=="keydown"&&this.keydown(e,r)||(this.mustFlushObserver(r)&&e.observer.forceFlush(),this.runCustomHandlers(t,e,r)?r.preventDefault():i(e,r))}),this.registeredEvents.push(t)}L.chrome&&L.chrome_version>=102&&e.scrollDOM.addEventListener("wheel",()=>{this.chromeScrollHack<0?e.contentDOM.style.pointerEvents="none":window.clearTimeout(this.chromeScrollHack),this.chromeScrollHack=setTimeout(()=>{this.chromeScrollHack=-1,e.contentDOM.style.pointerEvents=""},100)},{passive:!0}),this.notifiedFocused=e.hasFocus,L.safari&&e.contentDOM.addEventListener("input",()=>null)}setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}ensureHandlers(e,t){var i;let r;this.customHandlers=[];for(let s of t)if(r=(i=s.update(e).spec)===null||i===void 0?void 0:i.domEventHandlers){this.customHandlers.push({plugin:s.value,handlers:r});for(let o in r)this.registeredEvents.indexOf(o)<0&&o!="scroll"&&(this.registeredEvents.push(o),e.contentDOM.addEventListener(o,a=>{!Gc(e,a)||this.runCustomHandlers(o,e,a)&&a.preventDefault()}))}}runCustomHandlers(e,t,i){for(let r of this.customHandlers){let s=r.handlers[e];if(s)try{if(s.call(r.plugin,i,t)||i.defaultPrevented)return!0}catch(o){lt(t.state,o)}}return!1}runScrollHandlers(e,t){for(let i of this.customHandlers){let r=i.handlers.scroll;if(r)try{r.call(i.plugin,t,e)}catch(s){lt(e.state,s)}}}keydown(e,t){if(this.lastKeyCode=t.keyCode,this.lastKeyTime=Date.now(),t.keyCode==9&&Date.now()<this.lastEscPress+2e3)return!0;if(L.android&&L.chrome&&!t.synthetic&&(t.keyCode==13||t.keyCode==8))return e.observer.delayAndroidKey(t.key,t.keyCode),!0;let i;return L.ios&&(i=Nd.find(r=>r.keyCode==t.keyCode))&&!(t.ctrlKey||t.altKey||t.metaKey)&&!t.synthetic?(this.pendingIOSKey=i,setTimeout(()=>this.flushIOSKey(e),250),!0):!1}flushIOSKey(e){let t=this.pendingIOSKey;return t?(this.pendingIOSKey=void 0,Yn(e.contentDOM,t.key,t.keyCode)):!1}ignoreDuringComposition(e){return/^key/.test(e.type)?this.composing>0?!0:L.safari&&Date.now()-this.compositionEndedAt<100?(this.compositionEndedAt=0,!0):!1:!1}mustFlushObserver(e){return e.type=="keydown"&&e.keyCode!=229||e.type=="compositionend"&&!L.ios}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.mouseSelection&&this.mouseSelection.update(e),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}const Nd=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],Ld=[16,17,18,20,91,92,224,225];class cS{constructor(e,t,i,r){this.view=e,this.style=i,this.mustSelect=r,this.lastEvent=t;let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(te.allowMultipleSelections)&&uS(e,t),this.dragMove=fS(e,t),this.dragging=dS(e,t)&&ch(t)==1?null:!1,this.dragging===!1&&(t.preventDefault(),this.select(t))}move(e){if(e.buttons==0)return this.destroy();this.dragging===!1&&this.select(this.lastEvent=e)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}select(e){let t=this.style.get(e,this.extend,this.multiple);(this.mustSelect||!t.eq(this.view.state.selection)||t.main.assoc!=this.view.state.selection.main.assoc)&&this.view.dispatch({selection:t,userEvent:"select.pointer",scrollIntoView:!0}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function uS(n,e){let t=n.state.facet(wd);return t.length?t[0](e):L.mac?e.metaKey:e.ctrlKey}function fS(n,e){let t=n.state.facet(vd);return t.length?t[0](e):L.mac?!e.altKey:!e.ctrlKey}function dS(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let i=Ts(n.root);if(i.rangeCount==0)return!0;let r=i.getRangeAt(0).getClientRects();for(let s=0;s<r.length;s++){let o=r[s];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}function Gc(n,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let t=e.target,i;t!=n.contentDOM;t=t.parentNode)if(!t||t.nodeType==11||(i=xe.get(t))&&i.ignoreEvent(e))return!1;return!0}const Te=Object.create(null),Xd=L.ie&&L.ie_version<15||L.ios&&L.webkit_version<604;function pS(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{n.focus(),t.remove(),Ud(n,t.value)},50)}function Ud(n,e){let{state:t}=n,i,r=1,s=t.toText(e),o=s.lines==t.selection.ranges.length;if(xl!=null&&t.selection.ranges.every(l=>l.empty)&&xl==s.toString()){let l=-1;i=t.changeByRange(h=>{let c=t.doc.lineAt(h.from);if(c.from==l)return{range:h};l=c.from;let u=t.toText((o?s.line(r++).text:e)+t.lineBreak);return{changes:{from:c.from,insert:u},range:$.cursor(h.from+u.length)}})}else o?i=t.changeByRange(l=>{let h=s.line(r++);return{changes:{from:l.from,to:l.to,insert:h.text},range:$.cursor(l.from+h.length)}}):i=t.replaceSelection(s);n.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}Te.keydown=(n,e)=>{n.inputState.setSelectionOrigin("select"),e.keyCode==27?n.inputState.lastEscPress=Date.now():Ld.indexOf(e.keyCode)<0&&(n.inputState.lastEscPress=0)};let zd=0;Te.touchstart=(n,e)=>{zd=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};Te.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};Te.mousedown=(n,e)=>{if(n.observer.flush(),zd>Date.now()-2e3&&ch(e)==1)return;let t=null;for(let i of n.state.facet(kd))if(t=i(n,e),t)break;if(!t&&e.button==0&&(t=gS(n,e)),t){let i=n.root.activeElement!=n.contentDOM;i&&n.observer.ignore(()=>hd(n.contentDOM)),n.inputState.startMouseSelection(new cS(n,e,t,i))}};function qc(n,e,t,i){if(i==1)return $.cursor(e,t);if(i==2)return iS(n.state,e,t);{let r=_e.find(n.docView,e),s=n.state.doc.lineAt(r?r.posAtEnd:e),o=r?r.posAtStart:s.from,a=r?r.posAtEnd:s.to;return a<n.state.doc.length&&a==s.to&&a++,$.range(o,a)}}let _d=(n,e)=>n>=e.top&&n<=e.bottom,Vc=(n,e,t)=>_d(e,t)&&n>=t.left&&n<=t.right;function xS(n,e,t,i){let r=_e.find(n.docView,e);if(!r)return 1;let s=e-r.posAtStart;if(s==0)return 1;if(s==r.length)return-1;let o=r.coordsAt(s,-1);if(o&&Vc(t,i,o))return-1;let a=r.coordsAt(s,1);return a&&Vc(t,i,a)?1:o&&_d(i,o)?-1:1}function Yc(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:xS(n,t,e.clientX,e.clientY)}}const mS=L.ie&&L.ie_version<=11;let Jc=null,Hc=0,Kc=0;function ch(n){if(!mS)return n.detail;let e=Jc,t=Kc;return Jc=n,Kc=Date.now(),Hc=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(Hc+1)%3:1}function gS(n,e){let t=Yc(n,e),i=ch(e),r=n.state.selection,s=t,o=e;return{update(a){a.docChanged&&(t&&(t.pos=a.changes.mapPos(t.pos)),r=r.map(a.changes),o=null)},get(a,l,h){let c;if(o&&a.clientX==o.clientX&&a.clientY==o.clientY?c=s:(c=s=Yc(n,a),o=a),!c||!t)return r;let u=qc(n,c.pos,c.bias,i);if(t.pos!=c.pos&&!l){let d=qc(n,t.pos,t.bias,i),x=Math.min(d.from,u.from),g=Math.max(d.to,u.to);u=x<u.from?$.range(x,g):$.range(g,x)}return l?r.replaceRange(r.main.extend(u.from,u.to)):h?r.addRange(u):$.create([u])}}}Te.dragstart=(n,e)=>{let{selection:{main:t}}=n.state,{mouseSelection:i}=n.inputState;i&&(i.dragging=t),e.dataTransfer&&(e.dataTransfer.setData("Text",n.state.sliceDoc(t.from,t.to)),e.dataTransfer.effectAllowed="copyMove")};function eu(n,e,t,i){if(!t)return;let r=n.posAtCoords({x:e.clientX,y:e.clientY},!1);e.preventDefault();let{mouseSelection:s}=n.inputState,o=i&&s&&s.dragging&&s.dragMove?{from:s.dragging.from,to:s.dragging.to}:null,a={from:r,insert:t},l=n.state.changes(o?[o,a]:a);n.focus(),n.dispatch({changes:l,selection:{anchor:l.mapPos(r,-1),head:l.mapPos(r,1)},userEvent:o?"move.drop":"input.drop"})}Te.drop=(n,e)=>{if(!e.dataTransfer)return;if(n.state.readOnly)return e.preventDefault();let t=e.dataTransfer.files;if(t&&t.length){e.preventDefault();let i=Array(t.length),r=0,s=()=>{++r==t.length&&eu(n,e,i.filter(o=>o!=null).join(n.state.lineBreak),!1)};for(let o=0;o<t.length;o++){let a=new FileReader;a.onerror=s,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(i[o]=a.result),s()},a.readAsText(t[o])}}else eu(n,e,e.dataTransfer.getData("Text"),!0)};Te.paste=(n,e)=>{if(n.state.readOnly)return e.preventDefault();n.observer.flush();let t=Xd?null:e.clipboardData;t?(Ud(n,t.getData("text/plain")),e.preventDefault()):pS(n)};function OS(n,e){let t=n.dom.parentNode;if(!t)return;let i=t.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=e,i.focus(),i.selectionEnd=e.length,i.selectionStart=0,setTimeout(()=>{i.remove(),n.focus()},50)}function yS(n){let e=[],t=[],i=!1;for(let r of n.selection.ranges)r.empty||(e.push(n.sliceDoc(r.from,r.to)),t.push(r));if(!e.length){let r=-1;for(let{from:s}of n.selection.ranges){let o=n.doc.lineAt(s);o.number>r&&(e.push(o.text),t.push({from:o.from,to:Math.min(n.doc.length,o.to+1)})),r=o.number}i=!0}return{text:e.join(n.lineBreak),ranges:t,linewise:i}}let xl=null;Te.copy=Te.cut=(n,e)=>{let{text:t,ranges:i,linewise:r}=yS(n.state);if(!t&&!r)return;xl=r?t:null;let s=Xd?null:e.clipboardData;s?(e.preventDefault(),s.clearData(),s.setData("text/plain",t)):OS(n,t),e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"})};function jd(n){setTimeout(()=>{n.hasFocus!=n.inputState.notifiedFocused&&n.update([])},10)}Te.focus=jd;Te.blur=n=>{n.observer.clearSelectionRange(),jd(n)};function Zd(n,e){if(n.docView.compositionDeco.size){n.inputState.rapidCompositionStart=e;try{n.update([])}finally{n.inputState.rapidCompositionStart=!1}}}Te.compositionstart=Te.compositionupdate=n=>{n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0,n.docView.compositionDeco.size&&(n.observer.flush(),Zd(n,!0)))};Te.compositionend=n=>{n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionFirstChange=null,setTimeout(()=>{n.inputState.composing<0&&Zd(n,!1)},50)};Te.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};Te.beforeinput=(n,e)=>{var t;let i;if(L.chrome&&L.android&&(i=Nd.find(r=>r.inputType==e.inputType))&&(n.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let r=((t=window.visualViewport)===null||t===void 0?void 0:t.height)||0;setTimeout(()=>{var s;(((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0)>r+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}};const tu=["pre-wrap","normal","pre-line","break-spaces"];class bS{constructor(){this.doc=ie.empty,this.lineWrapping=!1,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.lineLength=30,this.heightChanged=!1}heightForGap(e,t){let i=this.doc.lineAt(t).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(i+=Math.ceil((t-e-i*this.lineLength*.5)/this.lineLength)),this.lineHeight*i}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/(this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return tu.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let t=!1;for(let i=0;i<e.length;i++){let r=e[i];r<0?i++:this.heightSamples[Math.floor(r*10)]||(t=!0,this.heightSamples[Math.floor(r*10)]=!0)}return t}refresh(e,t,i,r,s){let o=tu.indexOf(e)>-1,a=Math.round(t)!=Math.round(this.lineHeight)||this.lineWrapping!=o;if(this.lineWrapping=o,this.lineHeight=t,this.charWidth=i,this.lineLength=r,a){this.heightSamples={};for(let l=0;l<s.length;l++){let h=s[l];h<0?l++:this.heightSamples[Math.floor(h*10)]=!0}}return a}}class SS{constructor(e,t){this.from=e,this.heights=t,this.index=0}get more(){return this.index<this.heights.length}}class ci{constructor(e,t,i,r,s){this.from=e,this.length=t,this.top=i,this.height=r,this.type=s}get to(){return this.from+this.length}get bottom(){return this.top+this.height}join(e){let t=(Array.isArray(this.type)?this.type:[this]).concat(Array.isArray(e.type)?e.type:[e]);return new ci(this.from,this.length+e.length,this.top,this.height+e.height,t)}}var le=function(n){return n[n.ByPos=0]="ByPos",n[n.ByHeight=1]="ByHeight",n[n.ByPosNoHeight=2]="ByPosNoHeight",n}(le||(le={}));const fs=.001;class He{constructor(e,t,i=2){this.length=e,this.height=t,this.flags=i}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e,t){this.height!=t&&(Math.abs(this.height-t)>fs&&(e.heightChanged=!0),this.height=t)}replace(e,t,i){return He.of(i)}decomposeLeft(e,t){t.push(this)}decomposeRight(e,t){t.push(this)}applyChanges(e,t,i,r){let s=this;for(let o=r.length-1;o>=0;o--){let{fromA:a,toA:l,fromB:h,toB:c}=r[o],u=s.lineAt(a,le.ByPosNoHeight,t,0,0),d=u.to>=l?u:s.lineAt(l,le.ByPosNoHeight,t,0,0);for(c+=d.to-l,l=d.to;o>0&&u.from<=r[o-1].toA;)a=r[o-1].fromA,h=r[o-1].fromB,o--,a<u.from&&(u=s.lineAt(a,le.ByPosNoHeight,t,0,0));h+=u.from-a,a=u.from;let x=uh.build(i,e,h,c);s=s.replace(a,l,x)}return s.updateHeight(i,0)}static empty(){return new it(0,0)}static of(e){if(e.length==1)return e[0];let t=0,i=e.length,r=0,s=0;for(;;)if(t==i)if(r>s*2){let a=e[t-1];a.break?e.splice(--t,1,a.left,null,a.right):e.splice(--t,1,a.left,a.right),i+=1+a.break,r-=a.size}else if(s>r*2){let a=e[i];a.break?e.splice(i,1,a.left,null,a.right):e.splice(i,1,a.left,a.right),i+=2+a.break,s-=a.size}else break;else if(r<s){let a=e[t++];a&&(r+=a.size)}else{let a=e[--i];a&&(s+=a.size)}let o=0;return e[t-1]==null?(o=1,t--):e[t]==null&&(o=1,i++),new wS(He.of(e.slice(0,t)),o,He.of(e.slice(i)))}}He.prototype.size=1;class Gd extends He{constructor(e,t,i){super(e,t),this.type=i}blockAt(e,t,i,r){return new ci(r,this.length,i,this.height,this.type)}lineAt(e,t,i,r,s){return this.blockAt(0,i,r,s)}forEachLine(e,t,i,r,s,o){e<=s+this.length&&t>=s&&o(this.blockAt(0,i,r,s))}updateHeight(e,t=0,i=!1,r){return r&&r.from<=t&&r.more&&this.setHeight(e,r.heights[r.index++]),this.outdated=!1,this}toString(){return`block(${this.length})`}}class it extends Gd{constructor(e,t){super(e,t,ae.Text),this.collapsed=0,this.widgetHeight=0}replace(e,t,i){let r=i[0];return i.length==1&&(r instanceof it||r instanceof $e&&r.flags&4)&&Math.abs(this.length-r.length)<10?(r instanceof $e?r=new it(r.length,this.height):r.height=this.height,this.outdated||(r.outdated=!1),r):He.of(i)}updateHeight(e,t=0,i=!1,r){return r&&r.from<=t&&r.more?this.setHeight(e,r.heights[r.index++]):(i||this.outdated)&&this.setHeight(e,Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class $e extends He{constructor(e){super(e,0)}lines(e,t){let i=e.lineAt(t).number,r=e.lineAt(t+this.length).number;return{firstLine:i,lastLine:r,lineHeight:this.height/(r-i+1)}}blockAt(e,t,i,r){let{firstLine:s,lastLine:o,lineHeight:a}=this.lines(t,r),l=Math.max(0,Math.min(o-s,Math.floor((e-i)/a))),{from:h,length:c}=t.line(s+l);return new ci(h,c,i+a*l,a,ae.Text)}lineAt(e,t,i,r,s){if(t==le.ByHeight)return this.blockAt(e,i,r,s);if(t==le.ByPosNoHeight){let{from:u,to:d}=i.lineAt(e);return new ci(u,d-u,0,0,ae.Text)}let{firstLine:o,lineHeight:a}=this.lines(i,s),{from:l,length:h,number:c}=i.lineAt(e);return new ci(l,h,r+a*(c-o),a,ae.Text)}forEachLine(e,t,i,r,s,o){let{firstLine:a,lineHeight:l}=this.lines(i,s);for(let h=Math.max(e,s),c=Math.min(s+this.length,t);h<=c;){let u=i.lineAt(h);h==e&&(r+=l*(u.number-a)),o(new ci(u.from,u.length,r,l,ae.Text)),r+=l,h=u.to+1}}replace(e,t,i){let r=this.length-t;if(r>0){let s=i[i.length-1];s instanceof $e?i[i.length-1]=new $e(s.length+r):i.push(null,new $e(r-1))}if(e>0){let s=i[0];s instanceof $e?i[0]=new $e(e+s.length):i.unshift(new $e(e-1),null)}return He.of(i)}decomposeLeft(e,t){t.push(new $e(e-1),null)}decomposeRight(e,t){t.push(null,new $e(this.length-e-1))}updateHeight(e,t=0,i=!1,r){let s=t+this.length;if(r&&r.from<=t+this.length&&r.more){let o=[],a=Math.max(t,r.from),l=-1,h=e.heightChanged;for(r.from>t&&o.push(new $e(r.from-t-1).updateHeight(e,t));a<=s&&r.more;){let u=e.doc.lineAt(a).length;o.length&&o.push(null);let d=r.heights[r.index++];l==-1?l=d:Math.abs(d-l)>=fs&&(l=-2);let x=new it(u,d);x.outdated=!1,o.push(x),a+=u+1}a<=s&&o.push(null,new $e(s-a).updateHeight(e,a));let c=He.of(o);return e.heightChanged=h||l<0||Math.abs(c.height-this.height)>=fs||Math.abs(l-this.lines(e.doc,t).lineHeight)>=fs,c}else(i||this.outdated)&&(this.setHeight(e,e.heightForGap(t,t+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class wS extends He{constructor(e,t,i){super(e.length+t+i.length,e.height+i.height,t|(e.outdated||i.outdated?2:0)),this.left=e,this.right=i,this.size=e.size+i.size}get break(){return this.flags&1}blockAt(e,t,i,r){let s=i+this.left.height;return e<s?this.left.blockAt(e,t,i,r):this.right.blockAt(e,t,s,r+this.left.length+this.break)}lineAt(e,t,i,r,s){let o=r+this.left.height,a=s+this.left.length+this.break,l=t==le.ByHeight?e<o:e<a,h=l?this.left.lineAt(e,t,i,r,s):this.right.lineAt(e,t,i,o,a);if(this.break||(l?h.to<a:h.from>a))return h;let c=t==le.ByPosNoHeight?le.ByPosNoHeight:le.ByPos;return l?h.join(this.right.lineAt(a,c,i,o,a)):this.left.lineAt(a,c,i,r,s).join(h)}forEachLine(e,t,i,r,s,o){let a=r+this.left.height,l=s+this.left.length+this.break;if(this.break)e<l&&this.left.forEachLine(e,t,i,r,s,o),t>=l&&this.right.forEachLine(e,t,i,a,l,o);else{let h=this.lineAt(l,le.ByPos,i,r,s);e<h.from&&this.left.forEachLine(e,h.from-1,i,r,s,o),h.to>=e&&h.from<=t&&o(h),t>h.to&&this.right.forEachLine(h.to+1,t,i,a,l,o)}}replace(e,t,i){let r=this.left.length+this.break;if(t<r)return this.balanced(this.left.replace(e,t,i),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-r,t-r,i));let s=[];e>0&&this.decomposeLeft(e,s);let o=s.length;for(let a of i)s.push(a);if(e>0&&iu(s,o-1),t<this.length){let a=s.length;this.decomposeRight(t,s),iu(s,a)}return He.of(s)}decomposeLeft(e,t){let i=this.left.length;if(e<=i)return this.left.decomposeLeft(e,t);t.push(this.left),this.break&&(i++,e>=i&&t.push(null)),e>i&&this.right.decomposeLeft(e-i,t)}decomposeRight(e,t){let i=this.left.length,r=i+this.break;if(e>=r)return this.right.decomposeRight(e-r,t);e<i&&this.left.decomposeRight(e,t),this.break&&e<r&&t.push(null),t.push(this.right)}balanced(e,t){return e.size>2*t.size||t.size>2*e.size?He.of(this.break?[e,null,t]:[e,t]):(this.left=e,this.right=t,this.height=e.height+t.height,this.outdated=e.outdated||t.outdated,this.size=e.size+t.size,this.length=e.length+this.break+t.length,this)}updateHeight(e,t=0,i=!1,r){let{left:s,right:o}=this,a=t+s.length+this.break,l=null;return r&&r.from<=t+s.length&&r.more?l=s=s.updateHeight(e,t,i,r):s.updateHeight(e,t,i),r&&r.from<=a+o.length&&r.more?l=o=o.updateHeight(e,a,i,r):o.updateHeight(e,a,i),l?this.balanced(s,o):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function iu(n,e){let t,i;n[e]==null&&(t=n[e-1])instanceof $e&&(i=n[e+1])instanceof $e&&n.splice(e-1,3,new $e(t.length+1+i.length))}const vS=5;class uh{constructor(e,t){this.pos=e,this.oracle=t,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,t){if(this.lineStart>-1){let i=Math.min(t,this.lineEnd),r=this.nodes[this.nodes.length-1];r instanceof it?r.length+=i-this.pos:(i>this.pos||!this.isCovered)&&this.nodes.push(new it(i-this.pos,-1)),this.writtenTo=i,t>i&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=t}point(e,t,i){if(e<t||i.heightRelevant){let r=i.widget?i.widget.estimatedHeight:0;r<0&&(r=this.oracle.lineHeight);let s=t-e;i.block?this.addBlock(new Gd(s,r,i.type)):(s||r>=vS)&&this.addLineDeco(r,s)}else t>e&&this.span(e,t);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:t}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=t,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new it(this.pos-e,-1)),this.writtenTo=this.pos}blankContent(e,t){let i=new $e(t-e);return this.oracle.doc.lineAt(e).to==t&&(i.flags|=4),i}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof it)return e;let t=new it(0,-1);return this.nodes.push(t),t}addBlock(e){this.enterLine(),e.type==ae.WidgetAfter&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,e.type!=ae.WidgetBefore&&(this.covering=e)}addLineDeco(e,t){let i=this.ensureLine();i.length+=t,i.collapsed+=t,i.widgetHeight=Math.max(i.widgetHeight,e),this.writtenTo=this.pos=this.pos+t}finish(e){let t=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(t instanceof it)&&!this.isCovered?this.nodes.push(new it(0,-1)):(this.writtenTo<this.pos||t==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let i=e;for(let r of this.nodes)r instanceof it&&r.updateHeight(this.oracle,i),i+=r?r.length:1;return this.nodes}static build(e,t,i,r){let s=new uh(i,e);return re.spans(t,i,r,s,0),s.finish(i)}}function kS(n,e,t){let i=new CS;return re.compare(n,e,t,i,0),i.changes}class CS{constructor(){this.changes=[]}compareRange(){}comparePoint(e,t,i,r){(e<t||i&&i.heightRelevant||r&&r.heightRelevant)&&cl(e,t,this.changes,5)}}function DS(n,e){let t=n.getBoundingClientRect(),i=Math.max(0,t.left),r=Math.min(innerWidth,t.right),s=Math.max(0,t.top),o=Math.min(innerHeight,t.bottom),a=n.ownerDocument.body;for(let l=n.parentNode;l&&l!=a;)if(l.nodeType==1){let h=l,c=window.getComputedStyle(h);if((h.scrollHeight>h.clientHeight||h.scrollWidth>h.clientWidth)&&c.overflow!="visible"){let u=h.getBoundingClientRect();i=Math.max(i,u.left),r=Math.min(r,u.right),s=Math.max(s,u.top),o=Math.min(o,u.bottom)}l=c.position=="absolute"||c.position=="fixed"?h.offsetParent:h.parentNode}else if(l.nodeType==11)l=l.host;else break;return{left:i-t.left,right:Math.max(i,r)-t.left,top:s-(t.top+e),bottom:Math.max(s,o)-(t.top+e)}}function AS(n,e){let t=n.getBoundingClientRect();return{left:0,right:t.right-t.left,top:e,bottom:t.bottom-(t.top+e)}}class Yo{constructor(e,t,i){this.from=e,this.to=t,this.size=i}static same(e,t){if(e.length!=t.length)return!1;for(let i=0;i<e.length;i++){let r=e[i],s=t[i];if(r.from!=s.from||r.to!=s.to||r.size!=s.size)return!1}return!0}draw(e){return X.replace({widget:new ES(this.size,e)}).range(this.from,this.to)}}class ES extends Xt{constructor(e,t){super(),this.size=e,this.vertical=t}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class nu{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.heightOracle=new bS,this.scaler=ou,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=de.RTL,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1,this.stateDeco=e.facet(ur).filter(t=>typeof t!="function"),this.heightMap=He.empty().applyChanges(this.stateDeco,ie.empty,this.heightOracle.setDoc(e.doc),[new qt(0,0,0,e.doc.length)]),this.viewport=this.getViewport(0,null),this.updateViewportLines(),this.updateForViewport(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=X.set(this.lineGaps.map(t=>t.draw(!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:t}=this.state.selection;for(let i=0;i<=1;i++){let r=i?t.head:t.anchor;if(!e.some(({from:s,to:o})=>r>=s&&r<=o)){let{from:s,to:o}=this.lineBlockAt(r);e.push(new _r(s,o))}}this.viewports=e.sort((i,r)=>i.from-r.from),this.scaler=this.heightMap.height<=7e6?ou:new $S(this.heightOracle.doc,this.heightMap,this.viewports)}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.state.doc,0,0,e=>{this.viewportLines.push(this.scaler.scale==1?e:jn(e,this.scaler))})}update(e,t=null){this.state=e.state;let i=this.stateDeco;this.stateDeco=this.state.facet(ur).filter(h=>typeof h!="function");let r=e.changedRanges,s=qt.extendWithRanges(r,kS(i,this.stateDeco,e?e.changes:Ce.empty(this.state.doc.length))),o=this.heightMap.height;this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),s),this.heightMap.height!=o&&(e.flags|=2);let a=s.length?this.mapViewport(this.viewport,e.changes):this.viewport;(t&&(t.range.head<a.from||t.range.head>a.to)||!this.viewportIsAppropriate(a))&&(a=this.getViewport(0,t));let l=!e.changes.empty||e.flags&2||a.from!=this.viewport.from||a.to!=this.viewport.to;this.viewport=a,this.updateForViewport(),l&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(),t&&(this.scrollTarget=t),!this.mustEnforceCursorAssoc&&e.selectionSet&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&(this.mustEnforceCursorAssoc=!0)}measure(e){let t=e.contentDOM,i=window.getComputedStyle(t),r=this.heightOracle,s=i.whiteSpace;this.defaultTextDirection=i.direction=="rtl"?de.RTL:de.LTR;let o=this.heightOracle.mustRefreshForWrapping(s),a=o||this.mustMeasureContent||this.contentDOMHeight!=t.clientHeight;this.contentDOMHeight=t.clientHeight,this.mustMeasureContent=!1;let l=0,h=0,c=parseInt(i.paddingTop)||0,u=parseInt(i.paddingBottom)||0;(this.paddingTop!=c||this.paddingBottom!=u)&&(this.paddingTop=c,this.paddingBottom=u,l|=10),this.editorWidth!=e.scrollDOM.clientWidth&&(r.lineWrapping&&(a=!0),this.editorWidth=e.scrollDOM.clientWidth,l|=8);let d=(this.printing?AS:DS)(t,this.paddingTop),x=d.top-this.pixelViewport.top,g=d.bottom-this.pixelViewport.bottom;this.pixelViewport=d;let f=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(f!=this.inView&&(this.inView=f,f&&(a=!0)),!this.inView)return 0;let p=t.clientWidth;if((this.contentDOMWidth!=p||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=p,this.editorHeight=e.scrollDOM.clientHeight,l|=8),a){let O=e.docView.measureVisibleLineHeights(this.viewport);if(r.mustRefreshForHeights(O)&&(o=!0),o||r.lineWrapping&&Math.abs(p-this.contentDOMWidth)>r.charWidth){let{lineHeight:y,charWidth:b}=e.docView.measureTextSize();o=r.refresh(s,y,b,p/b,O),o&&(e.docView.minWidth=0,l|=8)}x>0&&g>0?h=Math.max(x,g):x<0&&g<0&&(h=Math.min(x,g)),r.heightChanged=!1;for(let y of this.viewports){let b=y.from==this.viewport.from?O:e.docView.measureVisibleLineHeights(y);this.heightMap=this.heightMap.updateHeight(r,0,o,new SS(y.from,b))}r.heightChanged&&(l|=2)}let m=!this.viewportIsAppropriate(this.viewport,h)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return m&&(this.viewport=this.getViewport(h,this.scrollTarget)),this.updateForViewport(),(l&2||m)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(o?[]:this.lineGaps)),l|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),l}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,t){let i=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),r=this.heightMap,s=this.state.doc,{visibleTop:o,visibleBottom:a}=this,l=new _r(r.lineAt(o-i*1e3,le.ByHeight,s,0,0).from,r.lineAt(a+(1-i)*1e3,le.ByHeight,s,0,0).to);if(t){let{head:h}=t.range;if(h<l.from||h>l.to){let c=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),u=r.lineAt(h,le.ByPos,s,0,0),d;t.y=="center"?d=(u.top+u.bottom)/2-c/2:t.y=="start"||t.y=="nearest"&&h<l.from?d=u.top:d=u.bottom-c,l=new _r(r.lineAt(d-1e3/2,le.ByHeight,s,0,0).from,r.lineAt(d+c+1e3/2,le.ByHeight,s,0,0).to)}}return l}mapViewport(e,t){let i=t.mapPos(e.from,-1),r=t.mapPos(e.to,1);return new _r(this.heightMap.lineAt(i,le.ByPos,this.state.doc,0,0).from,this.heightMap.lineAt(r,le.ByPos,this.state.doc,0,0).to)}viewportIsAppropriate({from:e,to:t},i=0){if(!this.inView)return!0;let{top:r}=this.heightMap.lineAt(e,le.ByPos,this.state.doc,0,0),{bottom:s}=this.heightMap.lineAt(t,le.ByPos,this.state.doc,0,0),{visibleTop:o,visibleBottom:a}=this;return(e==0||r<=o-Math.max(10,Math.min(-i,250)))&&(t==this.state.doc.length||s>=a+Math.max(10,Math.min(i,250)))&&r>o-2*1e3&&s<a+2*1e3}mapLineGaps(e,t){if(!e.length||t.empty)return e;let i=[];for(let r of e)t.touchesRange(r.from,r.to)||i.push(new Yo(t.mapPos(r.from),t.mapPos(r.to),r.size));return i}ensureLineGaps(e){let t=[];if(this.defaultTextDirection!=de.LTR)return t;for(let i of this.viewportLines){if(i.length<4e3)continue;let r=TS(i.from,i.to,this.stateDeco);if(r.total<4e3)continue;let s,o;if(this.heightOracle.lineWrapping){let h=2e3/this.heightOracle.lineLength*this.heightOracle.lineHeight;s=jr(r,(this.visibleTop-i.top-h)/i.height),o=jr(r,(this.visibleBottom-i.top+h)/i.height)}else{let h=r.total*this.heightOracle.charWidth,c=2e3*this.heightOracle.charWidth;s=jr(r,(this.pixelViewport.left-c)/h),o=jr(r,(this.pixelViewport.right+c)/h)}let a=[];s>i.from&&a.push({from:i.from,to:s}),o<i.to&&a.push({from:o,to:i.to});let l=this.state.selection.main;l.from>=i.from&&l.from<=i.to&&su(a,l.from-10,l.from+10),!l.empty&&l.to>=i.from&&l.to<=i.to&&su(a,l.to-10,l.to+10);for(let{from:h,to:c}of a)c-h>1e3&&t.push(FS(e,u=>u.from>=i.from&&u.to<=i.to&&Math.abs(u.from-h)<1e3&&Math.abs(u.to-c)<1e3)||new Yo(h,c,this.gapSize(i,h,c,r)))}return t}gapSize(e,t,i,r){let s=ru(r,i)-ru(r,t);return this.heightOracle.lineWrapping?e.height*s:r.total*this.heightOracle.charWidth*s}updateLineGaps(e){Yo.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=X.set(e.map(t=>t.draw(this.heightOracle.lineWrapping))))}computeVisibleRanges(){let e=this.stateDeco;this.lineGaps.length&&(e=e.concat(this.lineGapDeco));let t=[];re.spans(e,this.viewport.from,this.viewport.to,{span(r,s){t.push({from:r,to:s})},point(){}},20);let i=t.length!=this.visibleRanges.length||this.visibleRanges.some((r,s)=>r.from!=t[s].from||r.to!=t[s].to);return this.visibleRanges=t,i?4:0}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(t=>t.from<=e&&t.to>=e)||jn(this.heightMap.lineAt(e,le.ByPos,this.state.doc,0,0),this.scaler)}lineBlockAtHeight(e){return jn(this.heightMap.lineAt(this.scaler.fromDOM(e),le.ByHeight,this.state.doc,0,0),this.scaler)}elementAtHeight(e){return jn(this.heightMap.blockAt(this.scaler.fromDOM(e),this.state.doc,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class _r{constructor(e,t){this.from=e,this.to=t}}function TS(n,e,t){let i=[],r=n,s=0;return re.spans(t,n,e,{span(){},point(o,a){o>r&&(i.push({from:r,to:o}),s+=o-r),r=a}},20),r<e&&(i.push({from:r,to:e}),s+=e-r),{total:s,ranges:i}}function jr({total:n,ranges:e},t){if(t<=0)return e[0].from;if(t>=1)return e[e.length-1].to;let i=Math.floor(n*t);for(let r=0;;r++){let{from:s,to:o}=e[r],a=o-s;if(i<=a)return s+i;i-=a}}function ru(n,e){let t=0;for(let{from:i,to:r}of n.ranges){if(e<=r){t+=e-i;break}t+=r-i}return t/n.total}function su(n,e,t){for(let i=0;i<n.length;i++){let r=n[i];if(r.from<t&&r.to>e){let s=[];r.from<e&&s.push({from:r.from,to:e}),r.to>t&&s.push({from:t,to:r.to}),n.splice(i,1,...s),i+=s.length-1}}}function FS(n,e){for(let t of n)if(e(t))return t}const ou={toDOM(n){return n},fromDOM(n){return n},scale:1};class $S{constructor(e,t,i){let r=0,s=0,o=0;this.viewports=i.map(({from:a,to:l})=>{let h=t.lineAt(a,le.ByPos,e,0,0).top,c=t.lineAt(l,le.ByPos,e,0,0).bottom;return r+=c-h,{from:a,to:l,top:h,bottom:c,domTop:0,domBottom:0}}),this.scale=(7e6-r)/(t.height-r);for(let a of this.viewports)a.domTop=o+(a.top-s)*this.scale,o=a.domBottom=a.domTop+(a.bottom-a.top),s=a.bottom}toDOM(e){for(let t=0,i=0,r=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.top)return r+(e-i)*this.scale;if(e<=s.bottom)return s.domTop+(e-s.top);i=s.bottom,r=s.domBottom}}fromDOM(e){for(let t=0,i=0,r=0;;t++){let s=t<this.viewports.length?this.viewports[t]:null;if(!s||e<s.domTop)return i+(e-r)/this.scale;if(e<=s.domBottom)return s.top+(e-s.domTop);i=s.bottom,r=s.domBottom}}}function jn(n,e){if(e.scale==1)return n;let t=e.toDOM(n.top),i=e.toDOM(n.bottom);return new ci(n.from,n.length,t,i-t,Array.isArray(n.type)?n.type.map(r=>jn(r,e)):n.type)}const Zr=N.define({combine:n=>n.join(" ")}),ml=N.define({combine:n=>n.indexOf(!0)>-1}),gl=Oi.newName(),qd=Oi.newName(),Vd=Oi.newName(),Yd={"&light":"."+qd,"&dark":"."+Vd};function Ol(n,e,t){return new Oi(e,{finish(i){return/&/.test(i)?i.replace(/&\w*/,r=>{if(r=="&")return n;if(!t||!t[r])throw new RangeError(`Unsupported selector: ${r}`);return t[r]}):n+" "+i}})}const QS=Ol("."+gl,{"&.cm-editor":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0},".cm-content":{margin:0,flexGrow:2,minHeight:"100%",display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere"},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 4px"},".cm-selectionLayer":{zIndex:-1,contain:"size style"},".cm-selectionBackground":{position:"absolute"},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{zIndex:100,contain:"size style",pointerEvents:"none"},"&.cm-focused .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{visibility:"hidden"},"100%":{}},".cm-cursor, .cm-dropCursor":{position:"absolute",borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#444"},"&.cm-focused .cm-cursor":{display:"block"},"&light .cm-activeLine":{backgroundColor:"#f3f9ff"},"&dark .cm-activeLine":{backgroundColor:"#223039"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{display:"flex",height:"100%",boxSizing:"border-box",left:0,zIndex:200},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",borderRight:"1px solid #ddd"},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},Yd),PS={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},Jo=L.ie&&L.ie_version<=11;class RS{constructor(e,t,i){this.view=e,this.onChange=t,this.onScrollChanged=i,this.active=!1,this.selectionRange=new Bb,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.scrollTargets=[],this.intersection=null,this.resize=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(r=>{for(let s of r)this.queue.push(s);(L.ie&&L.ie_version<=11||L.ios&&e.composing)&&r.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),Jo&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),window.addEventListener("resize",this.onResize=this.onResize.bind(this)),typeof ResizeObserver=="function"&&(this.resize=new ResizeObserver(()=>{this.view.docView.lastUpdate<Date.now()-75&&this.onResize()}),this.resize.observe(e.scrollDOM)),window.addEventListener("beforeprint",this.onPrint=this.onPrint.bind(this)),this.start(),window.addEventListener("scroll",this.onScroll=this.onScroll.bind(this)),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(r=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),r.length>0&&r[r.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(r=>{r.length>0&&r[r.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange(),this.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}onScroll(e){this.intersecting&&this.flush(!1),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(){this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500)}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((t,i)=>t!=e[i]))){this.gapIntersection.disconnect();for(let t of e)this.gapIntersection.observe(t);this.gaps=e}}onSelectionChange(e){if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:t}=this,i=this.selectionRange;if(t.state.facet(Dr)?t.root.activeElement!=this.dom:!tl(t.dom,i))return;let r=i.anchorNode&&t.docView.nearest(i.anchorNode);r&&r.ignoreEvent(e)||((L.ie&&L.ie_version<=11||L.android&&L.chrome)&&!t.state.selection.main.empty&&i.focusNode&&Fs(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1))}readSelectionRange(){let{root:e}=this.view,t=Ts(e),i=L.safari&&e.nodeType==11&&Pb()==this.view.contentDOM&&IS(this.view)||t;return this.selectionRange.eq(i)?!1:(this.selectionRange.setRange(i),this.selectionChanged=!0)}setSelectionRange(e,t){this.selectionRange.set(e.node,e.offset,t.node,t.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,t=null;for(let i=this.dom;i;)if(i.nodeType==1)!t&&e<this.scrollTargets.length&&this.scrollTargets[e]==i?e++:t||(t=this.scrollTargets.slice(0,e)),t&&t.push(i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;if(e<this.scrollTargets.length&&!t&&(t=this.scrollTargets.slice(0,e)),t){for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);for(let i of this.scrollTargets=t)i.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,PS),Jo&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){!this.active||(this.active=!1,this.observer.disconnect(),Jo&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,t){this.delayedAndroidKey||requestAnimationFrame(()=>{let i=this.delayedAndroidKey;this.delayedAndroidKey=null,this.delayedFlush=-1,this.flush()||Yn(this.view.contentDOM,i.key,i.keyCode)}),(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:t})}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=window.setTimeout(()=>{this.delayedFlush=-1,this.flush()},20))}forceFlush(){this.delayedFlush>=0&&(window.clearTimeout(this.delayedFlush),this.delayedFlush=-1,this.flush())}processRecords(){let e=this.queue;for(let s of this.observer.takeRecords())e.push(s);e.length&&(this.queue=[]);let t=-1,i=-1,r=!1;for(let s of e){let o=this.readMutation(s);!o||(o.typeOver&&(r=!0),t==-1?{from:t,to:i}=o:(t=Math.min(o.from,t),i=Math.max(o.to,i)))}return{from:t,to:i,typeOver:r}}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return;e&&this.readSelectionRange();let{from:t,to:i,typeOver:r}=this.processRecords(),s=this.selectionChanged&&tl(this.dom,this.selectionRange);if(t<0&&!s)return;this.selectionChanged=!1;let o=this.view.state,a=this.onChange(t,i,r);return this.view.state==o&&this.view.update([]),a}readMutation(e){let t=this.view.docView.nearest(e.target);if(!t||t.ignoreMutation(e))return null;if(t.markDirty(e.type=="attributes"),e.type=="attributes"&&(t.dirty|=4),e.type=="childList"){let i=au(t,e.previousSibling||e.target.previousSibling,-1),r=au(t,e.nextSibling||e.target.nextSibling,1);return{from:i?t.posAfter(i):t.posAtStart,to:r?t.posBefore(r):t.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:t.posAtStart,to:t.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}destroy(){var e,t,i;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(t=this.gapIntersection)===null||t===void 0||t.disconnect(),(i=this.resize)===null||i===void 0||i.disconnect();for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);window.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.onResize),window.removeEventListener("beforeprint",this.onPrint),this.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout)}}function au(n,e,t){for(;e;){let i=xe.get(e);if(i&&i.parent==n)return i;let r=e.parentNode;e=r!=n.dom?r:t>0?e.nextSibling:e.previousSibling}return null}function IS(n){let e=null;function t(l){l.preventDefault(),l.stopImmediatePropagation(),e=l.getTargetRanges()[0]}if(n.contentDOM.addEventListener("beforeinput",t,!0),document.execCommand("indent"),n.contentDOM.removeEventListener("beforeinput",t,!0),!e)return null;let i=e.startContainer,r=e.startOffset,s=e.endContainer,o=e.endOffset,a=n.docView.domAtPos(n.state.selection.main.anchor);return Fs(a.node,a.offset,s,o)&&([i,r,s,o]=[s,o,i,r]),{anchorNode:i,anchorOffset:r,focusNode:s,focusOffset:o}}function BS(n,e,t,i){let r,s,o=n.state.selection.main;if(e>-1){let a=n.docView.domBoundsAround(e,t,0);if(!a||n.state.readOnly)return!1;let{from:l,to:h}=a,c=n.docView.impreciseHead||n.docView.impreciseAnchor?[]:WS(n),u=new Id(c,n.state);u.readRange(a.startDOM,a.endDOM);let d=o.from,x=null;(n.inputState.lastKeyCode===8&&n.inputState.lastKeyTime>Date.now()-100||L.android&&u.text.length<h-l)&&(d=o.to,x="end");let g=MS(n.state.doc.sliceString(l,h,hi),u.text,d-l,x);g&&(L.chrome&&n.inputState.lastKeyCode==13&&g.toB==g.from+2&&u.text.slice(g.from,g.toB)==hi+hi&&g.toB--,r={from:l+g.from,to:l+g.toA,insert:ie.of(u.text.slice(g.from,g.toB).split(hi))}),s=NS(c,l)}else if(n.hasFocus||!n.state.facet(Dr)){let a=n.observer.selectionRange,{impreciseHead:l,impreciseAnchor:h}=n.docView,c=l&&l.node==a.focusNode&&l.offset==a.focusOffset||!dn(n.contentDOM,a.focusNode)?n.state.selection.main.head:n.docView.posFromDOM(a.focusNode,a.focusOffset),u=h&&h.node==a.anchorNode&&h.offset==a.anchorOffset||!dn(n.contentDOM,a.anchorNode)?n.state.selection.main.anchor:n.docView.posFromDOM(a.anchorNode,a.anchorOffset);(c!=o.head||u!=o.anchor)&&(s=$.single(u,c))}if(!r&&!s)return!1;if(!r&&i&&!o.empty&&s&&s.main.empty?r={from:o.from,to:o.to,insert:n.state.doc.slice(o.from,o.to)}:r&&r.from>=o.from&&r.to<=o.to&&(r.from!=o.from||r.to!=o.to)&&o.to-o.from-(r.to-r.from)<=4?r={from:o.from,to:o.to,insert:n.state.doc.slice(o.from,r.from).append(r.insert).append(n.state.doc.slice(r.to,o.to))}:(L.mac||L.android)&&r&&r.from==r.to&&r.from==o.head-1&&r.insert.toString()=="."&&(r={from:o.from,to:o.to,insert:ie.of([" "])}),r){let a=n.state;if(L.ios&&n.inputState.flushIOSKey(n)||L.android&&(r.from==o.from&&r.to==o.to&&r.insert.length==1&&r.insert.lines==2&&Yn(n.contentDOM,"Enter",13)||r.from==o.from-1&&r.to==o.to&&r.insert.length==0&&Yn(n.contentDOM,"Backspace",8)||r.from==o.from&&r.to==o.to+1&&r.insert.length==0&&Yn(n.contentDOM,"Delete",46)))return!0;let l=r.insert.toString();if(n.state.facet(Dd).some(u=>u(n,r.from,r.to,l)))return!0;n.inputState.composing>=0&&n.inputState.composing++;let h;if(r.from>=o.from&&r.to<=o.to&&r.to-r.from>=(o.to-o.from)/3&&(!s||s.main.empty&&s.main.from==r.from+r.insert.length)&&n.inputState.composing<0){let u=o.from<r.from?a.sliceDoc(o.from,r.from):"",d=o.to>r.to?a.sliceDoc(r.to,o.to):"";h=a.replaceSelection(n.state.toText(u+r.insert.sliceString(0,void 0,n.state.lineBreak)+d))}else{let u=a.changes(r),d=s&&!a.selection.main.eq(s.main)&&s.main.to<=u.newLength?s.main:void 0;if(a.selection.ranges.length>1&&n.inputState.composing>=0&&r.to<=o.to&&r.to>=o.to-10){let x=n.state.sliceDoc(r.from,r.to),g=Bd(n)||n.state.doc.lineAt(o.head),f=o.to-r.to,p=o.to-o.from;h=a.changeByRange(m=>{if(m.from==o.from&&m.to==o.to)return{changes:u,range:d||m.map(u)};let O=m.to-f,y=O-x.length;if(m.to-m.from!=p||n.state.sliceDoc(y,O)!=x||g&&m.to>=g.from&&m.from<=g.to)return{range:m};let b=a.changes({from:y,to:O,insert:r.insert}),w=m.to-o.to;return{changes:b,range:d?$.range(Math.max(0,d.anchor+w),Math.max(0,d.head+w)):m.map(b)}})}else h={changes:u,selection:d&&a.selection.replaceRange(d)}}let c="input.type";return n.composing&&(c+=".compose",n.inputState.compositionFirstChange&&(c+=".start",n.inputState.compositionFirstChange=!1)),n.dispatch(h,{scrollIntoView:!0,userEvent:c}),!0}else if(s&&!s.main.eq(o)){let a=!1,l="select";return n.inputState.lastSelectionTime>Date.now()-50&&(n.inputState.lastSelectionOrigin=="select"&&(a=!0),l=n.inputState.lastSelectionOrigin),n.dispatch({selection:s,scrollIntoView:a,userEvent:l}),!0}else return!1}function MS(n,e,t,i){let r=Math.min(n.length,e.length),s=0;for(;s<r&&n.charCodeAt(s)==e.charCodeAt(s);)s++;if(s==r&&n.length==e.length)return null;let o=n.length,a=e.length;for(;o>0&&a>0&&n.charCodeAt(o-1)==e.charCodeAt(a-1);)o--,a--;if(i=="end"){let l=Math.max(0,s-Math.min(o,a));t-=o+l-s}return o<s&&n.length<e.length?(s-=t<=s&&t>=o?s-t:0,a=s+(a-o),o=s):a<s&&(s-=t<=s&&t>=a?s-t:0,o=s+(o-a),a=s),{from:s,toA:o,toB:a}}function WS(n){let e=[];if(n.root.activeElement!=n.contentDOM)return e;let{anchorNode:t,anchorOffset:i,focusNode:r,focusOffset:s}=n.observer.selectionRange;return t&&(e.push(new Nc(t,i)),(r!=t||s!=i)&&e.push(new Nc(r,s))),e}function NS(n,e){if(n.length==0)return null;let t=n[0].pos,i=n.length==2?n[1].pos:t;return t>-1&&i>-1?$.single(t+e,i+e):null}class U{constructor(e={}){this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.style.cssText="position: absolute; top: -10000px",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),this._dispatch=e.dispatch||(t=>this.update([t])),this.dispatch=this.dispatch.bind(this),this.root=e.root||Mb(e.parent)||document,this.viewState=new nu(e.state||te.create()),this.plugins=this.state.facet(zn).map(t=>new Go(t));for(let t of this.plugins)t.update(this);this.observer=new RS(this,(t,i,r)=>BS(this,t,i,r),t=>{this.inputState.runScrollHandlers(this,t),this.observer.intersecting&&this.measure()}),this.inputState=new hS(this),this.inputState.ensureHandlers(this,this.plugins),this.docView=new Lc(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),e.parent&&e.parent.appendChild(this.dom)}get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return this.inputState.composing>0}get compositionStarted(){return this.inputState.composing>=0}dispatch(...e){this._dispatch(e.length==1&&e[0]instanceof De?e[0]:this.state.update(...e))}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let t=!1,i=!1,r,s=this.state;for(let a of e){if(a.startState!=s)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");s=a.state}if(this.destroyed){this.viewState.state=s;return}if(this.observer.clear(),s.facet(te.phrases)!=this.state.facet(te.phrases))return this.setState(s);r=Ps.create(this,s,e);let o=this.viewState.scrollTarget;try{this.updateState=2;for(let a of e){if(o&&(o=o.map(a.changes)),a.scrollIntoView){let{main:l}=a.state.selection;o=new Qs(l.empty?l:$.cursor(l.head,l.head>l.anchor?-1:1))}for(let l of a.effects)l.is(Mc)&&(o=l.value)}this.viewState.update(r,o),this.bidiCache=Rs.update(this.bidiCache,r.changes),r.empty||(this.updatePlugins(r),this.inputState.update(r)),t=this.docView.update(r),this.state.facet(_n)!=this.styleModules&&this.mountStyles(),i=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(t,e.some(a=>a.isUserEvent("select.pointer")))}finally{this.updateState=0}if(r.startState.facet(Zr)!=r.state.facet(Zr)&&(this.viewState.mustMeasureContent=!0),(t||i||o||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),!r.empty)for(let a of this.state.facet(ul))a(r)}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let t=this.hasFocus;try{for(let i of this.plugins)i.destroy(this);this.viewState=new nu(e),this.plugins=e.facet(zn).map(i=>new Go(i)),this.pluginMap.clear();for(let i of this.plugins)i.update(this);this.docView=new Lc(this),this.inputState.ensureHandlers(this,this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}t&&this.focus(),this.requestMeasure()}updatePlugins(e){let t=e.startState.facet(zn),i=e.state.facet(zn);if(t!=i){let r=[];for(let s of i){let o=t.indexOf(s);if(o<0)r.push(new Go(s));else{let a=this.plugins[o];a.mustUpdate=e,r.push(a)}}for(let s of this.plugins)s.mustUpdate!=e&&s.destroy(this);this.plugins=r,this.pluginMap.clear(),this.inputState.ensureHandlers(this,this.plugins)}else for(let r of this.plugins)r.mustUpdate=e;for(let r=0;r<this.plugins.length;r++)this.plugins[r].update(this)}measure(e=!0){if(this.destroyed)return;this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.measureScheduled=0,e&&this.observer.flush();let t=null;try{for(let i=0;;i++){this.updateState=1;let r=this.viewport,s=this.viewState.measure(this);if(!s&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(i>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let o=[];s&4||([this.measureRequests,o]=[o,this.measureRequests]);let a=o.map(u=>{try{return u.read(this)}catch(d){return lt(this.state,d),lu}}),l=Ps.create(this,this.state,[]),h=!1,c=!1;l.flags|=s,t?t.flags|=s:t=l,this.updateState=2,l.empty||(this.updatePlugins(l),this.inputState.update(l),this.updateAttrs(),h=this.docView.update(l));for(let u=0;u<o.length;u++)if(a[u]!=lu)try{let d=o[u];d.write&&d.write(a[u],this)}catch(d){lt(this.state,d)}if(this.viewState.scrollTarget&&(this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,c=!0),h&&this.docView.updateSelection(!0),this.viewport.from==r.from&&this.viewport.to==r.to&&!c&&this.measureRequests.length==0)break}}finally{this.updateState=0,this.measureScheduled=-1}if(t&&!t.empty)for(let i of this.state.facet(ul))i(t)}get themeClasses(){return gl+" "+(this.state.facet(ml)?Vd:qd)+" "+this.state.facet(Zr)}updateAttrs(){let e=hu(this,Ed,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),t={spellcheck:"false",autocorrect:"off",autocapitalize:"off",translate:"no",contenteditable:this.state.facet(Dr)?"true":"false",class:"cm-content",style:`${L.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(t["aria-readonly"]="true"),hu(this,Td,t);let i=this.observer.ignore(()=>{let r=hl(this.contentDOM,this.contentAttrs,t),s=hl(this.dom,this.editorAttrs,e);return r||s});return this.editorAttrs=e,this.contentAttrs=t,i}showAnnouncements(e){let t=!0;for(let i of e)for(let r of i.effects)if(r.is(U.announce)){t&&(this.announceDOM.textContent=""),t=!1;let s=this.announceDOM.appendChild(document.createElement("div"));s.textContent=r.value}}mountStyles(){this.styleModules=this.state.facet(_n),Oi.mount(this.root,this.styleModules.concat(QS).reverse())}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=requestAnimationFrame(()=>this.measure())),e){if(e.key!=null){for(let t=0;t<this.measureRequests.length;t++)if(this.measureRequests[t].key===e.key){this.measureRequests[t]=e;return}}this.measureRequests.push(e)}}plugin(e){let t=this.pluginMap.get(e);return(t===void 0||t&&t.spec!=e)&&this.pluginMap.set(e,t=this.plugins.find(i=>i.spec==e)||null),t&&t.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,t,i){return Vo(this,e,Zc(this,e,t,i))}moveByGroup(e,t){return Vo(this,e,Zc(this,e,t,i=>aS(this,e.head,i)))}moveToLineBoundary(e,t,i=!0){return oS(this,e,t,i)}moveVertically(e,t,i){return Vo(this,e,lS(this,e,t,i))}domAtPos(e){return this.docView.domAtPos(e)}posAtDOM(e,t=0){return this.docView.posFromDOM(e,t)}posAtCoords(e,t=!0){return this.readMeasured(),Wd(this,e,t)}coordsAtPos(e,t=1){this.readMeasured();let i=this.docView.coordsAt(e,t);if(!i||i.left==i.right)return i;let r=this.state.doc.lineAt(e),s=this.bidiSpans(r),o=s[an.find(s,e-r.from,-1,t)];return po(i,o.dir==de.LTR==t>0)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(Ad)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>LS)return Pd(e.length);let t=this.textDirectionAt(e.from);for(let r of this.bidiCache)if(r.from==e.from&&r.dir==t)return r.order;let i=Gb(e.text,t);return this.bidiCache.push(new Rs(e.from,e.to,t,i)),i}get hasFocus(){var e;return(document.hasFocus()||L.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{hd(this.contentDOM),this.docView.updateSelection()})}destroy(){for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,t={}){return Mc.of(new Qs(typeof e=="number"?$.cursor(e):e,t.y,t.x,t.yMargin,t.xMargin))}static domEventHandlers(e){return we.define(()=>({}),{eventHandlers:e})}static theme(e,t){let i=Oi.newName(),r=[Zr.of(i),_n.of(Ol(`.${i}`,e))];return t&&t.dark&&r.push(ml.of(!0)),r}static baseTheme(e){return Cn.lowest(_n.of(Ol("."+gl,e,Yd)))}}U.styleModule=_n;U.inputHandler=Dd;U.perLineTextDirection=Ad;U.exceptionSink=Cd;U.updateListener=ul;U.editable=Dr;U.mouseSelectionStyle=kd;U.dragMovesSelection=vd;U.clickAddsSelectionRange=wd;U.decorations=ur;U.atomicRanges=Fd;U.scrollMargins=$d;U.darkTheme=ml;U.contentAttributes=Td;U.editorAttributes=Ed;U.lineWrapping=U.contentAttributes.of({class:"cm-lineWrapping"});U.announce=j.define();const LS=4096,lu={};class Rs{constructor(e,t,i,r){this.from=e,this.to=t,this.dir=i,this.order=r}static update(e,t){if(t.empty)return e;let i=[],r=e.length?e[e.length-1].dir:de.LTR;for(let s=Math.max(0,e.length-10);s<e.length;s++){let o=e[s];o.dir==r&&!t.touchesRange(o.from,o.to)&&i.push(new Rs(t.mapPos(o.from,1),t.mapPos(o.to,-1),o.dir,o.order))}return i}}function hu(n,e,t){for(let i=n.state.facet(e),r=i.length-1;r>=0;r--){let s=i[r],o=typeof s=="function"?s(n):s;o&&ll(o,t)}return t}const XS=L.mac?"mac":L.windows?"win":L.linux?"linux":"key";function US(n,e){const t=n.split(/-(?!$)/);let i=t[t.length-1];i=="Space"&&(i=" ");let r,s,o,a;for(let l=0;l<t.length-1;++l){const h=t[l];if(/^(cmd|meta|m)$/i.test(h))a=!0;else if(/^a(lt)?$/i.test(h))r=!0;else if(/^(c|ctrl|control)$/i.test(h))s=!0;else if(/^s(hift)?$/i.test(h))o=!0;else if(/^mod$/i.test(h))e=="mac"?a=!0:s=!0;else throw new Error("Unrecognized modifier name: "+h)}return r&&(i="Alt-"+i),s&&(i="Ctrl-"+i),a&&(i="Meta-"+i),o&&(i="Shift-"+i),i}function Ho(n,e,t){return e.altKey&&(n="Alt-"+n),e.ctrlKey&&(n="Ctrl-"+n),e.metaKey&&(n="Meta-"+n),t!==!1&&e.shiftKey&&(n="Shift-"+n),n}const zS=U.domEventHandlers({keydown(n,e){return Hd(Jd(e.state),n,e,"editor")}}),Ar=N.define({enables:zS}),cu=new WeakMap;function Jd(n){let e=n.facet(Ar),t=cu.get(e);return t||cu.set(e,t=ZS(e.reduce((i,r)=>i.concat(r),[]))),t}function _S(n,e,t){return Hd(Jd(n.state),e,n,t)}let ai=null;const jS=4e3;function ZS(n,e=XS){let t=Object.create(null),i=Object.create(null),r=(o,a)=>{let l=i[o];if(l==null)i[o]=a;else if(l!=a)throw new Error("Key binding "+o+" is used both as a regular binding and as a multi-stroke prefix")},s=(o,a,l,h)=>{let c=t[o]||(t[o]=Object.create(null)),u=a.split(/ (?!$)/).map(g=>US(g,e));for(let g=1;g<u.length;g++){let f=u.slice(0,g).join(" ");r(f,!0),c[f]||(c[f]={preventDefault:!0,commands:[p=>{let m=ai={view:p,prefix:f,scope:o};return setTimeout(()=>{ai==m&&(ai=null)},jS),!0}]})}let d=u.join(" ");r(d,!1);let x=c[d]||(c[d]={preventDefault:!1,commands:[]});x.commands.push(l),h&&(x.preventDefault=!0)};for(let o of n){let a=o[e]||o.key;if(!!a)for(let l of o.scope?o.scope.split(" "):["editor"])s(l,a,o.run,o.preventDefault),o.shift&&s(l,"Shift-"+a,o.shift,o.preventDefault)}return t}function Hd(n,e,t,i){let r=Qb(e),s=r.length==1&&r!=" ",o="",a=!1;ai&&ai.view==t&&ai.scope==i&&(o=ai.prefix+" ",(a=Ld.indexOf(e.keyCode)<0)&&(ai=null));let l=u=>{if(u){for(let d of u.commands)if(d(t))return!0;u.preventDefault&&(a=!0)}return!1},h=n[i],c;if(h){if(l(h[o+Ho(r,e,!s)]))return!0;if(s&&(e.shiftKey||e.altKey||e.metaKey)&&(c=yi[e.keyCode])&&c!=r){if(l(h[o+Ho(c,e,!0)]))return!0}else if(s&&e.shiftKey&&l(h[o+Ho(r,e,!0)]))return!0}return a}const Kd=!L.ios,Zn=N.define({combine(n){return Kt(n,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,t)=>Math.min(e,t),drawRangeCursor:(e,t)=>e||t})}});function GS(n={}){return[Zn.of(n),qS,VS]}class ep{constructor(e,t,i,r,s){this.left=e,this.top=t,this.width=i,this.height=r,this.className=s}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width>=0&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}}const qS=we.fromClass(class{constructor(n){this.view=n,this.rangePieces=[],this.cursors=[],this.measureReq={read:this.readPos.bind(this),write:this.drawSel.bind(this)},this.selectionLayer=n.scrollDOM.appendChild(document.createElement("div")),this.selectionLayer.className="cm-selectionLayer",this.selectionLayer.setAttribute("aria-hidden","true"),this.cursorLayer=n.scrollDOM.appendChild(document.createElement("div")),this.cursorLayer.className="cm-cursorLayer",this.cursorLayer.setAttribute("aria-hidden","true"),n.requestMeasure(this.measureReq),this.setBlinkRate()}setBlinkRate(){this.cursorLayer.style.animationDuration=this.view.state.facet(Zn).cursorBlinkRate+"ms"}update(n){let e=n.startState.facet(Zn)!=n.state.facet(Zn);(e||n.selectionSet||n.geometryChanged||n.viewportChanged)&&this.view.requestMeasure(this.measureReq),n.transactions.some(t=>t.scrollIntoView)&&(this.cursorLayer.style.animationName=this.cursorLayer.style.animationName=="cm-blink"?"cm-blink2":"cm-blink"),e&&this.setBlinkRate()}readPos(){let{state:n}=this.view,e=n.facet(Zn),t=n.selection.ranges.map(r=>r.empty?[]:YS(this.view,r)).reduce((r,s)=>r.concat(s)),i=[];for(let r of n.selection.ranges){let s=r==n.selection.main;if(r.empty?!s||Kd:e.drawRangeCursor){let o=JS(this.view,r,s);o&&i.push(o)}}return{rangePieces:t,cursors:i}}drawSel({rangePieces:n,cursors:e}){if(n.length!=this.rangePieces.length||n.some((t,i)=>!t.eq(this.rangePieces[i]))){this.selectionLayer.textContent="";for(let t of n)this.selectionLayer.appendChild(t.draw());this.rangePieces=n}if(e.length!=this.cursors.length||e.some((t,i)=>!t.eq(this.cursors[i]))){let t=this.cursorLayer.children;if(t.length!==e.length){this.cursorLayer.textContent="";for(const i of e)this.cursorLayer.appendChild(i.draw())}else e.forEach((i,r)=>i.adjust(t[r]));this.cursors=e}}destroy(){this.selectionLayer.remove(),this.cursorLayer.remove()}}),tp={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};Kd&&(tp[".cm-line"].caretColor="transparent !important");const VS=Cn.highest(U.theme(tp));function ip(n){let e=n.scrollDOM.getBoundingClientRect();return{left:(n.textDirection==de.LTR?e.left:e.right-n.scrollDOM.clientWidth)-n.scrollDOM.scrollLeft,top:e.top-n.scrollDOM.scrollTop}}function uu(n,e,t){let i=$.cursor(e);return{from:Math.max(t.from,n.moveToLineBoundary(i,!1,!0).from),to:Math.min(t.to,n.moveToLineBoundary(i,!0,!0).from),type:ae.Text}}function fu(n,e){let t=n.lineBlockAt(e);if(Array.isArray(t.type)){for(let i of t.type)if(i.to>e||i.to==e&&(i.to==t.to||i.type==ae.Text))return i}return t}function YS(n,e){if(e.to<=n.viewport.from||e.from>=n.viewport.to)return[];let t=Math.max(e.from,n.viewport.from),i=Math.min(e.to,n.viewport.to),r=n.textDirection==de.LTR,s=n.contentDOM,o=s.getBoundingClientRect(),a=ip(n),l=window.getComputedStyle(s.firstChild),h=o.left+parseInt(l.paddingLeft)+Math.min(0,parseInt(l.textIndent)),c=o.right-parseInt(l.paddingRight),u=fu(n,t),d=fu(n,i),x=u.type==ae.Text?u:null,g=d.type==ae.Text?d:null;if(n.lineWrapping&&(x&&(x=uu(n,t,x)),g&&(g=uu(n,i,g))),x&&g&&x.from==g.from)return p(m(e.from,e.to,x));{let y=x?m(e.from,null,x):O(u,!1),b=g?m(null,e.to,g):O(d,!0),w=[];return(x||u).to<(g||d).from-1?w.push(f(h,y.bottom,c,b.top)):y.bottom<b.top&&n.elementAtHeight((y.bottom+b.top)/2).type==ae.Text&&(y.bottom=b.top=(y.bottom+b.top)/2),p(y).concat(w).concat(p(b))}function f(y,b,w,S){return new ep(y-a.left,b-a.top-.01,w-y,S-b+.01,"cm-selectionBackground")}function p({top:y,bottom:b,horizontal:w}){let S=[];for(let v=0;v<w.length;v+=2)S.push(f(w[v],y,w[v+1],b));return S}function m(y,b,w){let S=1e9,v=-1e9,C=[];function k(R,M,_,Z,G){let ce=n.coordsAtPos(R,R==w.to?-2:2),ee=n.coordsAtPos(_,_==w.from?2:-2);S=Math.min(ce.top,ee.top,S),v=Math.max(ce.bottom,ee.bottom,v),G==de.LTR?C.push(r&&M?h:ce.left,r&&Z?c:ee.right):C.push(!r&&Z?h:ee.left,!r&&M?c:ce.right)}let A=y!=null?y:w.from,Q=b!=null?b:w.to;for(let R of n.visibleRanges)if(R.to>A&&R.from<Q)for(let M=Math.max(R.from,A),_=Math.min(R.to,Q);;){let Z=n.state.doc.lineAt(M);for(let G of n.bidiSpans(Z)){let ce=G.from+Z.from,ee=G.to+Z.from;if(ce>=_)break;ee>M&&k(Math.max(ce,M),y==null&&ce<=A,Math.min(ee,_),b==null&&ee>=Q,G.dir)}if(M=Z.to+1,M>=_)break}return C.length==0&&k(A,y==null,Q,b==null,n.textDirection),{top:S,bottom:v,horizontal:C}}function O(y,b){let w=o.top+(b?y.top:y.bottom);return{top:w,bottom:w,horizontal:[]}}}function JS(n,e,t){let i=n.coordsAtPos(e.head,e.assoc||1);if(!i)return null;let r=ip(n);return new ep(i.left-r.left,i.top-r.top,-1,i.bottom-i.top,t?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary")}const np=j.define({map(n,e){return n==null?null:e.mapPos(n)}}),Gn=Ae.define({create(){return null},update(n,e){return n!=null&&(n=e.changes.mapPos(n)),e.effects.reduce((t,i)=>i.is(np)?i.value:t,n)}}),HS=we.fromClass(class{constructor(n){this.view=n,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(n){var e;let t=n.state.field(Gn);t==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(n.startState.field(Gn)!=t||n.docChanged||n.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let n=this.view.state.field(Gn),e=n!=null&&this.view.coordsAtPos(n);if(!e)return null;let t=this.view.scrollDOM.getBoundingClientRect();return{left:e.left-t.left+this.view.scrollDOM.scrollLeft,top:e.top-t.top+this.view.scrollDOM.scrollTop,height:e.bottom-e.top}}drawCursor(n){this.cursor&&(n?(this.cursor.style.left=n.left+"px",this.cursor.style.top=n.top+"px",this.cursor.style.height=n.height+"px"):this.cursor.style.left="-100000px")}destroy(){this.cursor&&this.cursor.remove()}setDropPos(n){this.view.state.field(Gn)!=n&&this.view.dispatch({effects:np.of(n)})}},{eventHandlers:{dragover(n){this.setDropPos(this.view.posAtCoords({x:n.clientX,y:n.clientY}))},dragleave(n){(n.target==this.view.contentDOM||!this.view.contentDOM.contains(n.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function KS(){return[Gn,HS]}function du(n,e,t,i,r){e.lastIndex=0;for(let s=n.iterRange(t,i),o=t,a;!s.next().done;o+=s.value.length)if(!s.lineBreak)for(;a=e.exec(s.value);)r(o+a.index,o+a.index+a[0].length,a)}function ew(n,e){let t=n.visibleRanges;if(t.length==1&&t[0].from==n.viewport.from&&t[0].to==n.viewport.to)return t;let i=[];for(let{from:r,to:s}of t)r=Math.max(n.state.doc.lineAt(r).from,r-e),s=Math.min(n.state.doc.lineAt(s).to,s+e),i.length&&i[i.length-1].to>=r?i[i.length-1].to=s:i.push({from:r,to:s});return i}class tw{constructor(e){let{regexp:t,decoration:i,boundary:r,maxLength:s=1e3}=e;if(!t.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");this.regexp=t,this.getDeco=typeof i=="function"?i:()=>i,this.boundary=r,this.maxLength=s}createDeco(e){let t=new gi;for(let{from:i,to:r}of ew(e,this.maxLength))du(e.state.doc,this.regexp,i,r,(s,o,a)=>t.add(s,o,this.getDeco(a,e,s)));return t.finish()}updateDeco(e,t){let i=1e9,r=-1;return e.docChanged&&e.changes.iterChanges((s,o,a,l)=>{l>e.view.viewport.from&&a<e.view.viewport.to&&(i=Math.min(a,i),r=Math.max(l,r))}),e.viewportChanged||r-i>1e3?this.createDeco(e.view):r>-1?this.updateRange(e.view,t.map(e.changes),i,r):t}updateRange(e,t,i,r){for(let s of e.visibleRanges){let o=Math.max(s.from,i),a=Math.min(s.to,r);if(a>o){let l=e.state.doc.lineAt(o),h=l.to<a?e.state.doc.lineAt(a):l,c=Math.max(s.from,l.from),u=Math.min(s.to,h.to);if(this.boundary){for(;o>l.from;o--)if(this.boundary.test(l.text[o-1-l.from])){c=o;break}for(;a<h.to;a++)if(this.boundary.test(h.text[a-h.from])){u=a;break}}let d=[],x;if(l==h)for(this.regexp.lastIndex=c-l.from;(x=this.regexp.exec(l.text))&&x.index<u-l.from;){let g=x.index+l.from;d.push(this.getDeco(x,e,g).range(g,g+x[0].length))}else du(e.state.doc,this.regexp,c,u,(g,f,p)=>d.push(this.getDeco(p,e,g).range(g,f)));t=t.update({filterFrom:c,filterTo:u,filter:(g,f)=>g<c||f>u,add:d})}}return t}}const yl=/x/.unicode!=null?"gu":"g",iw=new RegExp(`[\0-\b
-\x7F-\x9F\xAD\u061C\u200B\u200E\u200F\u2028\u2029\u202D\u202E\uFEFF\uFFF9-\uFFFC]`,yl),nw={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let Ko=null;function rw(){var n;if(Ko==null&&typeof document!="undefined"&&document.body){let e=document.body.style;Ko=((n=e.tabSize)!==null&&n!==void 0?n:e.MozTabSize)!=null}return Ko||!1}const ds=N.define({combine(n){let e=Kt(n,{render:null,specialChars:iw,addSpecialChars:null});return(e.replaceTabs=!rw())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,yl)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,yl)),e}});function sw(n={}){return[ds.of(n),ow()]}let pu=null;function ow(){return pu||(pu=we.fromClass(class{constructor(n){this.view=n,this.decorations=X.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(n.state.facet(ds)),this.decorations=this.decorator.createDeco(n)}makeDecorator(n){return new tw({regexp:n.specialChars,decoration:(e,t,i)=>{let{doc:r}=t.state,s=We(e[0],0);if(s==9){let o=r.lineAt(i),a=t.state.tabSize,l=kr(o.text,a,i-o.from);return X.replace({widget:new cw((a-l%a)*this.view.defaultCharacterWidth)})}return this.decorationCache[s]||(this.decorationCache[s]=X.replace({widget:new hw(n,s)}))},boundary:n.replaceTabs?void 0:/[^]/})}update(n){let e=n.state.facet(ds);n.startState.facet(ds)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(n.view)):this.decorations=this.decorator.updateDeco(n,this.decorations)}},{decorations:n=>n.decorations}))}const aw="\u2022";function lw(n){return n>=32?aw:n==10?"\u2424":String.fromCharCode(9216+n)}class hw extends Xt{constructor(e,t){super(),this.options=e,this.code=t}eq(e){return e.code==this.code}toDOM(e){let t=lw(this.code),i=e.state.phrase("Control character")+" "+(nw[this.code]||"0x"+this.code.toString(16)),r=this.options.render&&this.options.render(this.code,i,t);if(r)return r;let s=document.createElement("span");return s.textContent=t,s.title=i,s.setAttribute("aria-label",i),s.className="cm-specialChar",s}ignoreEvent(){return!1}}class cw extends Xt{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function uw(){return dw}const fw=X.line({class:"cm-activeLine"}),dw=we.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.docChanged||n.selectionSet)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=-1,t=[];for(let i of n.state.selection.ranges){if(!i.empty)return X.none;let r=n.lineBlockAt(i.head);r.from>e&&(t.push(fw.range(r.from)),e=r.from)}return X.set(t)}},{decorations:n=>n.decorations}),bl=2e3;function pw(n,e,t){let i=Math.min(e.line,t.line),r=Math.max(e.line,t.line),s=[];if(e.off>bl||t.off>bl||e.col<0||t.col<0){let o=Math.min(e.off,t.off),a=Math.max(e.off,t.off);for(let l=i;l<=r;l++){let h=n.doc.line(l);h.length<=a&&s.push($.range(h.from+o,h.to+a))}}else{let o=Math.min(e.col,t.col),a=Math.max(e.col,t.col);for(let l=i;l<=r;l++){let h=n.doc.line(l),c=Ha(h.text,o,n.tabSize,!0);if(c>-1){let u=Ha(h.text,a,n.tabSize);s.push($.range(h.from+c,h.from+u))}}}return s}function xw(n,e){let t=n.coordsAtPos(n.viewport.from);return t?Math.round(Math.abs((t.left-e)/n.defaultCharacterWidth)):-1}function xu(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1),i=n.state.doc.lineAt(t),r=t-i.from,s=r>bl?-1:r==i.length?xw(n,e.clientX):kr(i.text,n.state.tabSize,t-i.from);return{line:i.number,col:s,off:r}}function mw(n,e){let t=xu(n,e),i=n.state.selection;return t?{update(r){if(r.docChanged){let s=r.changes.mapPos(r.startState.doc.line(t.line).from),o=r.state.doc.lineAt(s);t={line:o.number,col:t.col,off:Math.min(t.off,o.length)},i=i.map(r.changes)}},get(r,s,o){let a=xu(n,r);if(!a)return i;let l=pw(n.state,t,a);return l.length?o?$.create(l.concat(i.ranges)):$.create(l):i}}:null}function gw(n){let e=(n==null?void 0:n.eventFilter)||(t=>t.altKey&&t.button==0);return U.mouseSelectionStyle.of((t,i)=>e(i)?mw(t,i):null)}const Ow={Alt:[18,n=>n.altKey],Control:[17,n=>n.ctrlKey],Shift:[16,n=>n.shiftKey],Meta:[91,n=>n.metaKey]},yw={style:"cursor: crosshair"};function bw(n={}){let[e,t]=Ow[n.key||"Alt"],i=we.fromClass(class{constructor(r){this.view=r,this.isDown=!1}set(r){this.isDown!=r&&(this.isDown=r,this.view.update([]))}},{eventHandlers:{keydown(r){this.set(r.keyCode==e||t(r))},keyup(r){(r.keyCode==e||!t(r))&&this.set(!1)}}});return[i,U.contentAttributes.of(r=>{var s;return!((s=r.plugin(i))===null||s===void 0)&&s.isDown?yw:null})]}const ea="-10000px";class rp{constructor(e,t,i){this.facet=t,this.createTooltipView=i,this.input=e.state.facet(t),this.tooltips=this.input.filter(r=>r),this.tooltipViews=this.tooltips.map(i)}update(e){let t=e.state.facet(this.facet),i=t.filter(s=>s);if(t===this.input){for(let s of this.tooltipViews)s.update&&s.update(e);return!1}let r=[];for(let s=0;s<i.length;s++){let o=i[s],a=-1;if(!!o){for(let l=0;l<this.tooltips.length;l++){let h=this.tooltips[l];h&&h.create==o.create&&(a=l)}if(a<0)r[s]=this.createTooltipView(o);else{let l=r[s]=this.tooltipViews[a];l.update&&l.update(e)}}}for(let s of this.tooltipViews)r.indexOf(s)<0&&s.dom.remove();return this.input=t,this.tooltips=i,this.tooltipViews=r,!0}}function Sw(){return{top:0,left:0,bottom:innerHeight,right:innerWidth}}const ta=N.define({combine:n=>{var e,t,i;return{position:L.ios?"absolute":((e=n.find(r=>r.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((t=n.find(r=>r.parent))===null||t===void 0?void 0:t.parent)||null,tooltipSpace:((i=n.find(r=>r.tooltipSpace))===null||i===void 0?void 0:i.tooltipSpace)||Sw}}}),sp=we.fromClass(class{constructor(n){var e;this.view=n,this.inView=!0,this.lastTransaction=0,this.measureTimeout=-1;let t=n.state.facet(ta);this.position=t.position,this.parent=t.parent,this.classes=n.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.manager=new rp(n,fh,i=>this.createTooltip(i)),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(i=>{Date.now()>this.lastTransaction-50&&i.length>0&&i[i.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),(e=n.dom.ownerDocument.defaultView)===null||e===void 0||e.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let n of this.manager.tooltipViews)this.intersectionObserver.observe(n.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(n){n.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(n);e&&this.observeIntersection();let t=e||n.geometryChanged,i=n.state.facet(ta);if(i.position!=this.position){this.position=i.position;for(let r of this.manager.tooltipViews)r.dom.style.position=this.position;t=!0}if(i.parent!=this.parent){this.parent&&this.container.remove(),this.parent=i.parent,this.createContainer();for(let r of this.manager.tooltipViews)this.container.appendChild(r.dom);t=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);t&&this.maybeMeasure()}createTooltip(n){let e=n.create(this.view);if(e.dom.classList.add("cm-tooltip"),n.arrow&&!e.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let t=document.createElement("div");t.className="cm-tooltip-arrow",e.dom.appendChild(t)}return e.dom.style.position=this.position,e.dom.style.top=ea,this.container.appendChild(e.dom),e.mount&&e.mount(this.view),e}destroy(){var n,e;(n=this.view.dom.ownerDocument.defaultView)===null||n===void 0||n.removeEventListener("resize",this.measureSoon);for(let{dom:t}of this.manager.tooltipViews)t.remove();(e=this.intersectionObserver)===null||e===void 0||e.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let n=this.view.dom.getBoundingClientRect();return{editor:n,parent:this.parent?this.container.getBoundingClientRect():n,pos:this.manager.tooltips.map((e,t)=>{let i=this.manager.tooltipViews[t];return i.getCoords?i.getCoords(e.pos):this.view.coordsAtPos(e.pos)}),size:this.manager.tooltipViews.map(({dom:e})=>e.getBoundingClientRect()),space:this.view.state.facet(ta).tooltipSpace(this.view)}}writeMeasure(n){let{editor:e,space:t}=n,i=[];for(let r=0;r<this.manager.tooltips.length;r++){let s=this.manager.tooltips[r],o=this.manager.tooltipViews[r],{dom:a}=o,l=n.pos[r],h=n.size[r];if(!l||l.bottom<=Math.max(e.top,t.top)||l.top>=Math.min(e.bottom,t.bottom)||l.right<Math.max(e.left,t.left)-.1||l.left>Math.min(e.right,t.right)+.1){a.style.top=ea;continue}let c=s.arrow?o.dom.querySelector(".cm-tooltip-arrow"):null,u=c?7:0,d=h.right-h.left,x=h.bottom-h.top,g=o.offset||vw,f=this.view.textDirection==de.LTR,p=h.width>t.right-t.left?f?t.left:t.right-h.width:f?Math.min(l.left-(c?14:0)+g.x,t.right-d):Math.max(t.left,l.left-d+(c?14:0)-g.x),m=!!s.above;!s.strictSide&&(m?l.top-(h.bottom-h.top)-g.y<t.top:l.bottom+(h.bottom-h.top)+g.y>t.bottom)&&m==t.bottom-l.bottom>l.top-t.top&&(m=!m);let O=m?l.top-x-u-g.y:l.bottom+u+g.y,y=p+d;if(o.overlap!==!0)for(let b of i)b.left<y&&b.right>p&&b.top<O+x&&b.bottom>O&&(O=m?b.top-x-2-u:b.bottom+u+2);this.position=="absolute"?(a.style.top=O-n.parent.top+"px",a.style.left=p-n.parent.left+"px"):(a.style.top=O+"px",a.style.left=p+"px"),c&&(c.style.left=`${l.left+(f?g.x:-g.x)-(p+14-7)}px`),o.overlap!==!0&&i.push({left:p,top:O,right:y,bottom:O+x}),a.classList.toggle("cm-tooltip-above",m),a.classList.toggle("cm-tooltip-below",!m),o.positioned&&o.positioned()}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let n of this.manager.tooltipViews)n.dom.style.top=ea}},{eventHandlers:{scroll(){this.maybeMeasure()}}}),ww=U.baseTheme({".cm-tooltip":{zIndex:100},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:`${7}px`,width:`${7*2}px`,position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:`${7}px solid transparent`,borderRight:`${7}px solid transparent`},".cm-tooltip-above &":{bottom:`-${7}px`,"&:before":{borderTop:`${7}px solid #bbb`},"&:after":{borderTop:`${7}px solid #f5f5f5`,bottom:"1px"}},".cm-tooltip-below &":{top:`-${7}px`,"&:before":{borderBottom:`${7}px solid #bbb`},"&:after":{borderBottom:`${7}px solid #f5f5f5`,top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),vw={x:0,y:0},fh=N.define({enables:[sp,ww]}),Is=N.define();class dh{constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new rp(e,Is,t=>this.createHostedView(t))}static create(e){return new dh(e)}createHostedView(e){let t=e.create(this.view);return t.dom.classList.add("cm-tooltip-section"),this.dom.appendChild(t.dom),this.mounted&&t.mount&&t.mount(this.view),t}mount(e){for(let t of this.manager.tooltipViews)t.mount&&t.mount(e);this.mounted=!0}positioned(){for(let e of this.manager.tooltipViews)e.positioned&&e.positioned()}update(e){this.manager.update(e)}}const kw=fh.compute([Is],n=>{let e=n.facet(Is).filter(t=>t);return e.length===0?null:{pos:Math.min(...e.map(t=>t.pos)),end:Math.max(...e.filter(t=>t.end!=null).map(t=>t.end)),create:dh.create,above:e[0].above,arrow:e.some(t=>t.arrow)}});class Cw{constructor(e,t,i,r,s){this.view=e,this.source=t,this.field=i,this.setHover=r,this.hoverTime=s,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{lastMove:e}=this,t=this.view.contentDOM.contains(e.target)?this.view.posAtCoords(e):null;if(t==null)return;let i=this.view.coordsAtPos(t);if(i==null||e.y<i.top||e.y>i.bottom||e.x<i.left-this.view.defaultCharacterWidth||e.x>i.right+this.view.defaultCharacterWidth)return;let r=this.view.bidiSpans(this.view.state.doc.lineAt(t)).find(a=>a.from<=t&&a.to>=t),s=r&&r.dir==de.RTL?-1:1,o=this.source(this.view,t,e.x<i.left?-s:s);if(o!=null&&o.then){let a=this.pending={pos:t};o.then(l=>{this.pending==a&&(this.pending=null,l&&this.view.dispatch({effects:this.setHover.of(l)}))},l=>lt(this.view.state,l,"hover tooltip"))}else o&&this.view.dispatch({effects:this.setHover.of(o)})}mousemove(e){var t;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let i=this.active;if(i&&!Dw(this.lastMove.target)||this.pending){let{pos:r}=i||this.pending,s=(t=i==null?void 0:i.end)!==null&&t!==void 0?t:r;(r==s?this.view.posAtCoords(this.lastMove)!=r:!Aw(this.view,r,s,e.clientX,e.clientY,6))&&(this.view.dispatch({effects:this.setHover.of(null)}),this.pending=null)}}mouseleave(){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1,this.active&&this.view.dispatch({effects:this.setHover.of(null)})}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}function Dw(n){for(let e=n;e;e=e.parentNode)if(e.nodeType==1&&e.classList.contains("cm-tooltip"))return!0;return!1}function Aw(n,e,t,i,r,s){let o=document.createRange(),a=n.domAtPos(e),l=n.domAtPos(t);o.setEnd(l.node,l.offset),o.setStart(a.node,a.offset);let h=o.getClientRects();o.detach();for(let c=0;c<h.length;c++){let u=h[c];if(Math.max(u.top-r,r-u.bottom,u.left-i,i-u.right)<=s)return!0}return!1}function Ew(n,e={}){let t=j.define(),i=Ae.define({create(){return null},update(r,s){if(r&&(e.hideOnChange&&(s.docChanged||s.selection)||e.hideOn&&e.hideOn(s,r)))return null;if(r&&s.docChanged){let o=s.changes.mapPos(r.pos,-1,Pe.TrackDel);if(o==null)return null;let a=Object.assign(Object.create(null),r);a.pos=o,r.end!=null&&(a.end=s.changes.mapPos(r.end)),r=a}for(let o of s.effects)o.is(t)&&(r=o.value),o.is(Fw)&&(r=null);return r},provide:r=>Is.from(r)});return[i,we.define(r=>new Cw(r,n,i,t,e.hoverTime||300)),kw]}function Tw(n,e){let t=n.plugin(sp);if(!t)return null;let i=t.manager.tooltips.indexOf(e);return i<0?null:t.manager.tooltipViews[i]}const Fw=j.define(),mu=N.define({combine(n){let e,t;for(let i of n)e=e||i.topContainer,t=t||i.bottomContainer;return{topContainer:e,bottomContainer:t}}});function fr(n,e){let t=n.plugin(op),i=t?t.specs.indexOf(e):-1;return i>-1?t.panels[i]:null}const op=we.fromClass(class{constructor(n){this.input=n.state.facet(dr),this.specs=this.input.filter(t=>t),this.panels=this.specs.map(t=>t(n));let e=n.state.facet(mu);this.top=new Gr(n,!0,e.topContainer),this.bottom=new Gr(n,!1,e.bottomContainer),this.top.sync(this.panels.filter(t=>t.top)),this.bottom.sync(this.panels.filter(t=>!t.top));for(let t of this.panels)t.dom.classList.add("cm-panel"),t.mount&&t.mount()}update(n){let e=n.state.facet(mu);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Gr(n.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Gr(n.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let t=n.state.facet(dr);if(t!=this.input){let i=t.filter(l=>l),r=[],s=[],o=[],a=[];for(let l of i){let h=this.specs.indexOf(l),c;h<0?(c=l(n.view),a.push(c)):(c=this.panels[h],c.update&&c.update(n)),r.push(c),(c.top?s:o).push(c)}this.specs=i,this.panels=r,this.top.sync(s),this.bottom.sync(o);for(let l of a)l.dom.classList.add("cm-panel"),l.mount&&l.mount()}else for(let i of this.panels)i.update&&i.update(n)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:n=>U.scrollMargins.of(e=>{let t=e.plugin(n);return t&&{top:t.top.scrollMargin(),bottom:t.bottom.scrollMargin()}})});class Gr{constructor(e,t,i){this.view=e,this.top=t,this.container=i,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let t of this.panels)t.destroy&&e.indexOf(t)<0&&t.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let t=this.container||this.view.dom;t.insertBefore(this.dom,this.top?t.firstChild:null)}let e=this.dom.firstChild;for(let t of this.panels)if(t.dom.parentNode==this.dom){for(;e!=t.dom;)e=gu(e);e=e.nextSibling}else this.dom.insertBefore(t.dom,e);for(;e;)e=gu(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function gu(n){let e=n.nextSibling;return n.remove(),e}const dr=N.define({enables:op});class Jt extends mi{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}Jt.prototype.elementClass="";Jt.prototype.toDOM=void 0;Jt.prototype.mapMode=Pe.TrackBefore;Jt.prototype.startSide=Jt.prototype.endSide=-1;Jt.prototype.point=!0;const ps=N.define(),$w={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>re.empty,lineMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{}},Jn=N.define();function Qw(n){return[ap(),Jn.of(Object.assign(Object.assign({},$w),n))]}const Sl=N.define({combine:n=>n.some(e=>e)});function ap(n){let e=[Pw];return n&&n.fixed===!1&&e.push(Sl.of(!0)),e}const Pw=we.fromClass(class{constructor(n){this.view=n,this.prevViewport=n.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight+"px",this.gutters=n.state.facet(Jn).map(e=>new yu(n,e));for(let e of this.gutters)this.dom.appendChild(e.dom);this.fixed=!n.state.facet(Sl),this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),n.scrollDOM.insertBefore(this.dom,n.contentDOM)}update(n){if(this.updateGutters(n)){let e=this.prevViewport,t=n.view.viewport,i=Math.min(e.to,t.to)-Math.max(e.from,t.from);this.syncGutters(i<(t.to-t.from)*.8)}n.geometryChanged&&(this.dom.style.minHeight=this.view.contentHeight+"px"),this.view.state.facet(Sl)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":""),this.prevViewport=n.view.viewport}syncGutters(n){let e=this.dom.nextSibling;n&&this.dom.remove();let t=re.iter(this.view.state.facet(ps),this.view.viewport.from),i=[],r=this.gutters.map(s=>new Rw(s,this.view.viewport,-this.view.documentPadding.top));for(let s of this.view.viewportLineBlocks){let o;if(Array.isArray(s.type)){for(let a of s.type)if(a.type==ae.Text){o=a;break}}else o=s.type==ae.Text?s:void 0;if(!!o){i.length&&(i=[]),lp(t,i,s.from);for(let a of r)a.line(this.view,o,i)}}for(let s of r)s.finish();n&&this.view.scrollDOM.insertBefore(this.dom,e)}updateGutters(n){let e=n.startState.facet(Jn),t=n.state.facet(Jn),i=n.docChanged||n.heightChanged||n.viewportChanged||!re.eq(n.startState.facet(ps),n.state.facet(ps),n.view.viewport.from,n.view.viewport.to);if(e==t)for(let r of this.gutters)r.update(n)&&(i=!0);else{i=!0;let r=[];for(let s of t){let o=e.indexOf(s);o<0?r.push(new yu(this.view,s)):(this.gutters[o].update(n),r.push(this.gutters[o]))}for(let s of this.gutters)s.dom.remove(),r.indexOf(s)<0&&s.destroy();for(let s of r)this.dom.appendChild(s.dom);this.gutters=r}return i}destroy(){for(let n of this.gutters)n.destroy();this.dom.remove()}},{provide:n=>U.scrollMargins.of(e=>{let t=e.plugin(n);return!t||t.gutters.length==0||!t.fixed?null:e.textDirection==de.LTR?{left:t.dom.offsetWidth}:{right:t.dom.offsetWidth}})});function Ou(n){return Array.isArray(n)?n:[n]}function lp(n,e,t){for(;n.value&&n.from<=t;)n.from==t&&e.push(n.value),n.next()}class Rw{constructor(e,t,i){this.gutter=e,this.height=i,this.localMarkers=[],this.i=0,this.cursor=re.iter(e.markers,t.from)}line(e,t,i){this.localMarkers.length&&(this.localMarkers=[]),lp(this.cursor,this.localMarkers,t.from);let r=i.length?this.localMarkers.concat(i):this.localMarkers,s=this.gutter.config.lineMarker(e,t,r);s&&r.unshift(s);let o=this.gutter;if(r.length==0&&!o.config.renderEmptyElements)return;let a=t.top-this.height;if(this.i==o.elements.length){let l=new hp(e,t.height,a,r);o.elements.push(l),o.dom.appendChild(l.dom)}else o.elements[this.i].update(e,t.height,a,r);this.height=t.bottom,this.i++}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let t=e.elements.pop();e.dom.removeChild(t.dom),t.destroy()}}}class yu{constructor(e,t){this.view=e,this.config=t,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let i in t.domEventHandlers)this.dom.addEventListener(i,r=>{let s=e.lineBlockAtHeight(r.clientY-e.documentTop);t.domEventHandlers[i](e,s,r)&&r.preventDefault()});this.markers=Ou(t.markers(e)),t.initialSpacer&&(this.spacer=new hp(e,0,0,[t.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let t=this.markers;if(this.markers=Ou(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let r=this.config.updateSpacer(this.spacer.markers[0],e);r!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[r])}let i=e.view.viewport;return!re.eq(this.markers,t,i.from,i.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class hp{constructor(e,t,i,r){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,t,i,r)}update(e,t,i,r){this.height!=t&&(this.dom.style.height=(this.height=t)+"px"),this.above!=i&&(this.dom.style.marginTop=(this.above=i)?i+"px":""),Iw(this.markers,r)||this.setMarkers(e,r)}setMarkers(e,t){let i="cm-gutterElement",r=this.dom.firstChild;for(let s=0,o=0;;){let a=o,l=s<t.length?t[s++]:null,h=!1;if(l){let c=l.elementClass;c&&(i+=" "+c);for(let u=o;u<this.markers.length;u++)if(this.markers[u].compare(l)){a=u,h=!0;break}}else a=this.markers.length;for(;o<a;){let c=this.markers[o++];if(c.toDOM){c.destroy(r);let u=r.nextSibling;r.remove(),r=u}}if(!l)break;l.toDOM&&(h?r=r.nextSibling:this.dom.insertBefore(l.toDOM(e),r)),h&&o++}this.dom.className=i,this.markers=t}destroy(){this.setMarkers(null,[])}}function Iw(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(!n[t].compare(e[t]))return!1;return!0}const Bw=N.define(),Ki=N.define({combine(n){return Kt(n,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,t){let i=Object.assign({},e);for(let r in t){let s=i[r],o=t[r];i[r]=s?(a,l,h)=>s(a,l,h)||o(a,l,h):o}return i}})}});class ia extends Jt{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function na(n,e){return n.state.facet(Ki).formatNumber(e,n.state)}const Mw=Jn.compute([Ki],n=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(Bw)},lineMarker(e,t,i){return i.some(r=>r.toDOM)?null:new ia(na(e,e.state.doc.lineAt(t.from).number))},lineMarkerChange:e=>e.startState.facet(Ki)!=e.state.facet(Ki),initialSpacer(e){return new ia(na(e,bu(e.state.doc.lines)))},updateSpacer(e,t){let i=na(t.view,bu(t.view.state.doc.lines));return i==e.number?e:new ia(i)},domEventHandlers:n.facet(Ki).domEventHandlers}));function Ww(n={}){return[Ki.of(n),ap(),Mw]}function bu(n){let e=9;for(;e<n;)e=e*10+9;return e}const Nw=new class extends Jt{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},Lw=ps.compute(["selection"],n=>{let e=[],t=-1;for(let i of n.selection.ranges)if(i.empty){let r=n.doc.lineAt(i.head).from;r>t&&(t=r,e.push(Nw.range(r)))}return re.of(e)});function Xw(){return Lw}const cp=1024;let Uw=0;class ra{constructor(e,t){this.from=e,this.to=t}}class K{constructor(e={}){this.id=Uw++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=Ke.match(e)),t=>{let i=e(t);return i===void 0?null:[this,i]}}}K.closedBy=new K({deserialize:n=>n.split(" ")});K.openedBy=new K({deserialize:n=>n.split(" ")});K.group=new K({deserialize:n=>n.split(" ")});K.contextHash=new K({perNode:!0});K.lookAhead=new K({perNode:!0});K.mounted=new K({perNode:!0});const zw=Object.create(null);class Ke{constructor(e,t,i,r=0){this.name=e,this.props=t,this.id=i,this.flags=r}static define(e){let t=e.props&&e.props.length?Object.create(null):zw,i=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),r=new Ke(e.name||"",t,e.id,i);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(r)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return r}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(K.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let i in e)for(let r of i.split(" "))t[r]=e[i];return i=>{for(let r=i.prop(K.group),s=-1;s<(r?r.length:0);s++){let o=t[s<0?i.name:r[s]];if(o)return o}}}}Ke.none=new Ke("",Object.create(null),0,8);class ph{constructor(e){this.types=e;for(let t=0;t<e.length;t++)if(e[t].id!=t)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let t=[];for(let i of this.types){let r=null;for(let s of e){let o=s(i);o&&(r||(r=Object.assign({},i.props)),r[o[0].id]=o[1])}t.push(r?new Ke(i.name,r,i.id,i.flags):i)}return new ph(t)}}const qr=new WeakMap,Su=new WeakMap;var Ee;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(Ee||(Ee={}));class Se{constructor(e,t,i,r,s){if(this.type=e,this.children=t,this.positions=i,this.length=r,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=this.prop(K.mounted);if(e&&!e.overlay)return e.tree.toString();let t="";for(let i of this.children){let r=i.toString();r&&(t&&(t+=","),t+=r)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new Ws(this.topNode,e)}cursorAt(e,t=0,i=0){let r=qr.get(this)||this.topNode,s=new Ws(r);return s.moveTo(e,t),qr.set(this,s._tree),s}get topNode(){return new gt(this,0,0,null)}resolve(e,t=0){let i=xn(qr.get(this)||this.topNode,e,t,!1);return qr.set(this,i),i}resolveInner(e,t=0){let i=xn(Su.get(this)||this.topNode,e,t,!0);return Su.set(this,i),i}iterate(e){let{enter:t,leave:i,from:r=0,to:s=this.length}=e;for(let o=this.cursor((e.mode||0)|Ee.IncludeAnonymous);;){let a=!1;if(o.from<=s&&o.to>=r&&(o.type.isAnonymous||t(o)!==!1)){if(o.firstChild())continue;a=!0}for(;a&&i&&!o.type.isAnonymous&&i(o),!o.nextSibling();){if(!o.parent())return;a=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:gh(Ke.none,this.children,this.positions,0,this.children.length,0,this.length,(t,i,r)=>new Se(this.type,t,i,r,this.propValues),e.makeTree||((t,i,r)=>new Se(Ke.none,t,i,r)))}static build(e){return jw(e)}}Se.empty=new Se(Ke.none,[],[],0);class xh{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new xh(this.buffer,this.index)}}class _i{constructor(e,t,i){this.buffer=e,this.length=t,this.set=i}get type(){return Ke.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],i=this.buffer[e+3],r=this.set.types[t],s=r.name;if(/\W/.test(s)&&!r.isError&&(s=JSON.stringify(s)),e+=4,i==e)return s;let o=[];for(;e<i;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,i,r,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(up(s,r,o[l+1],o[l+2])&&(a=l,i>0));l=o[l+3]);return a}slice(e,t,i,r){let s=this.buffer,o=new Uint16Array(t-e);for(let a=e,l=0;a<t;)o[l++]=s[a++],o[l++]=s[a++]-i,o[l++]=s[a++]-i,o[l++]=s[a++]-e;return new _i(o,r-i,this.set)}}function up(n,e,t,i){switch(n){case-2:return t<e;case-1:return i>=e&&t<e;case 0:return t<e&&i>e;case 1:return t<=e&&i>e;case 2:return i>e;case 4:return!0}}function fp(n,e){let t=n.childBefore(e);for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(n=t,t=i.prevSibling):t=i}return n}function xn(n,e,t,i){for(var r;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let o=!i&&n instanceof gt&&n.index<0?null:n.parent;if(!o)return n;n=o}let s=i?0:Ee.IgnoreOverlays;if(i)for(let o=n,a=o.parent;a;o=a,a=o.parent)o instanceof gt&&o.index<0&&((r=a.enter(e,t,s))===null||r===void 0?void 0:r.from)!=o.from&&(n=a);for(;;){let o=n.enter(e,t,s);if(!o)return n;n=o}}class gt{constructor(e,t,i,r){this._tree=e,this.from=t,this.index=i,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,i,r,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,h=t>0?a.length:-1;e!=h;e+=t){let c=a[e],u=l[e]+o.from;if(!!up(r,i,u,u+c.length)){if(c instanceof _i){if(s&Ee.ExcludeBuffers)continue;let d=c.findChild(0,c.buffer.length,t,i-u,r);if(d>-1)return new It(new _w(o,c,e,u),null,d)}else if(s&Ee.IncludeAnonymous||!c.type.isAnonymous||mh(c)){let d;if(!(s&Ee.IgnoreMounts)&&c.props&&(d=c.prop(K.mounted))&&!d.overlay)return new gt(d.tree,u,e,o);let x=new gt(c,u,e,o);return s&Ee.IncludeAnonymous||!x.type.isAnonymous?x:x.nextChild(t<0?c.children.length-1:0,t,i,r)}}}if(s&Ee.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,i=0){let r;if(!(i&Ee.IgnoreOverlays)&&(r=this._tree.prop(K.mounted))&&r.overlay){let s=e-this.from;for(let{from:o,to:a}of r.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new gt(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,i)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(e=0){return new Ws(this,e)}get tree(){return this._tree}toTree(){return this._tree}resolve(e,t=0){return xn(this,e,t,!1)}resolveInner(e,t=0){return xn(this,e,t,!0)}enterUnfinishedNodesBefore(e){return fp(this,e)}getChild(e,t=null,i=null){let r=Bs(this,e,t,i);return r.length?r[0]:null}getChildren(e,t=null,i=null){return Bs(this,e,t,i)}toString(){return this._tree.toString()}get node(){return this}matchContext(e){return Ms(this,e)}}function Bs(n,e,t,i){let r=n.cursor(),s=[];if(!r.firstChild())return s;if(t!=null){for(;!r.type.is(t);)if(!r.nextSibling())return s}for(;;){if(i!=null&&r.type.is(i))return s;if(r.type.is(e)&&s.push(r.node),!r.nextSibling())return i==null?s:[]}}function Ms(n,e,t=e.length-1){for(let i=n.parent;t>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[t]&&e[t]!=i.name)return!1;t--}}return!0}class _w{constructor(e,t,i,r){this.parent=e,this.buffer=t,this.index=i,this.start=r}}class It{constructor(e,t,i){this.context=e,this._parent=t,this.index=i,this.type=e.buffer.set.types[e.buffer.buffer[i]]}get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}child(e,t,i){let{buffer:r}=this.context,s=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.context.start,i);return s<0?null:new It(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,i=0){if(i&Ee.ExcludeBuffers)return null;let{buffer:r}=this.context,s=r.findChild(this.index+4,r.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new It(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new It(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new It(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}cursor(e=0){return new Ws(this,e)}get tree(){return null}toTree(){let e=[],t=[],{buffer:i}=this.context,r=this.index+4,s=i.buffer[this.index+3];if(s>r){let o=i.buffer[this.index+1],a=i.buffer[this.index+2];e.push(i.slice(r,s,o,a)),t.push(0)}return new Se(this.type,e,t,this.to-this.from)}resolve(e,t=0){return xn(this,e,t,!1)}resolveInner(e,t=0){return xn(this,e,t,!0)}enterUnfinishedNodesBefore(e){return fp(this,e)}toString(){return this.context.buffer.childString(this.index)}getChild(e,t=null,i=null){let r=Bs(this,e,t,i);return r.length?r[0]:null}getChildren(e,t=null,i=null){return Bs(this,e,t,i)}get node(){return this}matchContext(e){return Ms(this,e)}}class Ws{constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof gt)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let i=e._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=e,this.yieldBuf(e.index)}}get name(){return this.type.name}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:i,buffer:r}=this.buffer;return this.type=t||r.set.types[r.buffer[e]],this.from=i+r.buffer[e+1],this.to=i+r.buffer[e+2],!0}yield(e){return e?e instanceof gt?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,i){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,i,this.mode));let{buffer:r}=this.buffer,s=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.buffer.start,i);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,i=this.mode){return this.buffer?i&Ee.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Ee.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Ee.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,i=this.stack.length-1;if(e<0){let r=i<0?0:this.stack[i]+4;if(this.index!=r)return this.yieldBuf(t.findChild(r,this.index,-1,0,4))}else{let r=t.buffer[this.index+3];if(r<(i<0?t.buffer.length:t.buffer[this.stack[i]+3]))return this.yieldBuf(r)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,i,{buffer:r}=this;if(r){if(e>0){if(this.index<r.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(r.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:i}=r)}else({index:t,_parent:i}=this._tree);for(;i;{index:t,_parent:i}=i)if(t>-1)for(let s=t+e,o=e<0?-1:i._tree.children.length;s!=o;s+=e){let a=i._tree.children[s];if(this.mode&Ee.IncludeAnonymous||a instanceof _i||!a.type.isAnonymous||mh(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,i=0;if(e&&e.context==this.buffer){e:for(let r=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==r){if(r==this.index)return o;t=o,i=s+1;break e}r=this.stack[--s]}}for(let r=i;r<this.stack.length;r++)t=new It(this.buffer,t,this.stack[r]);return this.bufferNode=new It(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let i=0;;){let r=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(r=!0)}for(;r&&t&&t(this),r=this.type.isAnonymous,!this.nextSibling();){if(!i)return;this.parent(),i--,r=!0}}}matchContext(e){if(!this.buffer)return Ms(this.node,e);let{buffer:t}=this.buffer,{types:i}=t.set;for(let r=e.length-1,s=this.stack.length-1;r>=0;s--){if(s<0)return Ms(this.node,e,r);let o=i[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[r]&&e[r]!=o.name)return!1;r--}}return!0}}function mh(n){return n.children.some(e=>e instanceof _i||!e.type.isAnonymous||mh(e))}function jw(n){var e;let{buffer:t,nodeSet:i,maxBufferLength:r=cp,reused:s=[],minRepeatType:o=i.types.length}=n,a=Array.isArray(t)?new xh(t,t.length):t,l=i.types,h=0,c=0;function u(b,w,S,v,C){let{id:k,start:A,end:Q,size:R}=a,M=c;for(;R<0;)if(a.next(),R==-1){let ee=s[k];S.push(ee),v.push(A-b);return}else if(R==-3){h=k;return}else if(R==-4){c=k;return}else throw new RangeError(`Unrecognized record size: ${R}`);let _=l[k],Z,G,ce=A-b;if(Q-A<=r&&(G=f(a.pos-w,C))){let ee=new Uint16Array(G.size-G.skip),ne=a.pos-G.size,se=ee.length;for(;a.pos>ne;)se=p(G.start,ee,se);Z=new _i(ee,Q-G.start,i),ce=G.start-b}else{let ee=a.pos-R;a.next();let ne=[],se=[],be=k>=o?k:-1,ke=0,qe=Q;for(;a.pos>ee;)be>=0&&a.id==be&&a.size>=0?(a.end<=qe-r&&(x(ne,se,A,ke,a.end,qe,be,M),ke=ne.length,qe=a.end),a.next()):u(A,ee,ne,se,be);if(be>=0&&ke>0&&ke<ne.length&&x(ne,se,A,ke,A,qe,be,M),ne.reverse(),se.reverse(),be>-1&&ke>0){let wt=d(_);Z=gh(_,ne,se,0,ne.length,0,Q-A,wt,wt)}else Z=g(_,ne,se,Q-A,M-Q)}S.push(Z),v.push(ce)}function d(b){return(w,S,v)=>{let C=0,k=w.length-1,A,Q;if(k>=0&&(A=w[k])instanceof Se){if(!k&&A.type==b&&A.length==v)return A;(Q=A.prop(K.lookAhead))&&(C=S[k]+A.length+Q)}return g(b,w,S,v,C)}}function x(b,w,S,v,C,k,A,Q){let R=[],M=[];for(;b.length>v;)R.push(b.pop()),M.push(w.pop()+S-C);b.push(g(i.types[A],R,M,k-C,Q-k)),w.push(C-S)}function g(b,w,S,v,C=0,k){if(h){let A=[K.contextHash,h];k=k?[A].concat(k):[A]}if(C>25){let A=[K.lookAhead,C];k=k?[A].concat(k):[A]}return new Se(b,w,S,v,k)}function f(b,w){let S=a.fork(),v=0,C=0,k=0,A=S.end-r,Q={size:0,start:0,skip:0};e:for(let R=S.pos-b;S.pos>R;){let M=S.size;if(S.id==w&&M>=0){Q.size=v,Q.start=C,Q.skip=k,k+=4,v+=4,S.next();continue}let _=S.pos-M;if(M<0||_<R||S.start<A)break;let Z=S.id>=o?4:0,G=S.start;for(S.next();S.pos>_;){if(S.size<0)if(S.size==-3)Z+=4;else break e;else S.id>=o&&(Z+=4);S.next()}C=G,v+=M,k+=Z}return(w<0||v==b)&&(Q.size=v,Q.start=C,Q.skip=k),Q.size>4?Q:void 0}function p(b,w,S){let{id:v,start:C,end:k,size:A}=a;if(a.next(),A>=0&&v<o){let Q=S;if(A>4){let R=a.pos-(A-4);for(;a.pos>R;)S=p(b,w,S)}w[--S]=Q,w[--S]=k-b,w[--S]=C-b,w[--S]=v}else A==-3?h=v:A==-4&&(c=v);return S}let m=[],O=[];for(;a.pos>0;)u(n.start||0,n.bufferStart||0,m,O,-1);let y=(e=n.length)!==null&&e!==void 0?e:m.length?O[0]+m[0].length:0;return new Se(l[n.topID],m.reverse(),O.reverse(),y)}const wu=new WeakMap;function xs(n,e){if(!n.isAnonymous||e instanceof _i||e.type!=n)return 1;let t=wu.get(e);if(t==null){t=1;for(let i of e.children){if(i.type!=n||!(i instanceof Se)){t=1;break}t+=xs(n,i)}wu.set(e,t)}return t}function gh(n,e,t,i,r,s,o,a,l){let h=0;for(let g=i;g<r;g++)h+=xs(n,e[g]);let c=Math.ceil(h*1.5/8),u=[],d=[];function x(g,f,p,m,O){for(let y=p;y<m;){let b=y,w=f[y],S=xs(n,g[y]);for(y++;y<m;y++){let v=xs(n,g[y]);if(S+v>=c)break;S+=v}if(y==b+1){if(S>c){let v=g[b];x(v.children,v.positions,0,v.children.length,f[b]+O);continue}u.push(g[b])}else{let v=f[y-1]+g[y-1].length-w;u.push(gh(n,g,f,b,y,w,v,null,l))}d.push(w+O-s)}}return x(e,t,i,r,0),(a||l)(u,d,o)}class Zw{constructor(){this.map=new WeakMap}setBuffer(e,t,i){let r=this.map.get(e);r||this.map.set(e,r=new Map),r.set(t,i)}getBuffer(e,t){let i=this.map.get(e);return i&&i.get(t)}set(e,t){e instanceof It?this.setBuffer(e.context.buffer,e.index,t):e instanceof gt&&this.map.set(e.tree,t)}get(e){return e instanceof It?this.getBuffer(e.context.buffer,e.index):e instanceof gt?this.map.get(e.tree):void 0}cursorSet(e,t){e.buffer?this.setBuffer(e.buffer.buffer,e.index,t):this.map.set(e.tree,t)}cursorGet(e){return e.buffer?this.getBuffer(e.buffer.buffer,e.index):this.map.get(e.tree)}}class Ii{constructor(e,t,i,r,s=!1,o=!1){this.from=e,this.to=t,this.tree=i,this.offset=r,this.open=(s?1:0)|(o?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,t=[],i=!1){let r=[new Ii(0,e.length,e,0,!1,i)];for(let s of t)s.to>e.length&&r.push(s);return r}static applyChanges(e,t,i=128){if(!t.length)return e;let r=[],s=1,o=e.length?e[0]:null;for(let a=0,l=0,h=0;;a++){let c=a<t.length?t[a]:null,u=c?c.fromA:1e9;if(u-l>=i)for(;o&&o.from<u;){let d=o;if(l>=d.from||u<=d.to||h){let x=Math.max(d.from,l)-h,g=Math.min(d.to,u)-h;d=x>=g?null:new Ii(x,g,d.tree,d.offset+h,a>0,!!c)}if(d&&r.push(d),o.to>u)break;o=s<e.length?e[s++]:null}if(!c)break;l=c.toA,h=c.toA-c.toB}return r}}class dp{startParse(e,t,i){return typeof e=="string"&&(e=new Gw(e)),i=i?i.length?i.map(r=>new ra(r.from,r.to)):[new ra(0,0)]:[new ra(0,e.length)],this.createParse(e,t||[],i)}parse(e,t,i){let r=this.startParse(e,t,i);for(;;){let s=r.advance();if(s)return s}}}class Gw{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,t){return this.string.slice(e,t)}}new K({perNode:!0});let qw=0;class Ft{constructor(e,t,i){this.set=e,this.base=t,this.modified=i,this.id=qw++}static define(e){if(e!=null&&e.base)throw new Error("Can not derive from a modified tag");let t=new Ft([],null,[]);if(t.set.push(t),e)for(let i of e.set)t.set.push(i);return t}static defineModifier(){let e=new Ns;return t=>t.modified.indexOf(e)>-1?t:Ns.get(t.base||t,t.modified.concat(e).sort((i,r)=>i.id-r.id))}}let Vw=0;class Ns{constructor(){this.instances=[],this.id=Vw++}static get(e,t){if(!t.length)return e;let i=t[0].instances.find(a=>a.base==e&&Yw(t,a.modified));if(i)return i;let r=[],s=new Ft(r,e,t);for(let a of t)a.instances.push(s);let o=pp(t);for(let a of e.set)for(let l of o)r.push(Ns.get(a,l));return s}}function Yw(n,e){return n.length==e.length&&n.every((t,i)=>t==e[i])}function pp(n){let e=[n];for(let t=0;t<n.length;t++)for(let i of pp(n.slice(0,t).concat(n.slice(t+1))))e.push(i);return e}function xp(n){let e=Object.create(null);for(let t in n){let i=n[t];Array.isArray(i)||(i=[i]);for(let r of t.split(" "))if(r){let s=[],o=2,a=r;for(let u=0;;){if(a=="..."&&u>0&&u+3==r.length){o=1;break}let d=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!d)throw new RangeError("Invalid path: "+r);if(s.push(d[0]=="*"?"":d[0][0]=='"'?JSON.parse(d[0]):d[0]),u+=d[0].length,u==r.length)break;let x=r[u++];if(u==r.length&&x=="!"){o=0;break}if(x!="/")throw new RangeError("Invalid path: "+r);a=r.slice(u)}let l=s.length-1,h=s[l];if(!h)throw new RangeError("Invalid path: "+r);let c=new Jw(i,o,l>0?s.slice(0,l):null);e[h]=c.sort(e[h])}}return mp.add(e)}const mp=new K;class Jw{constructor(e,t,i,r){this.tags=e,this.mode=t,this.context=i,this.next=r}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}function gp(n,e){let t=Object.create(null);for(let s of n)if(!Array.isArray(s.tag))t[s.tag.id]=s.class;else for(let o of s.tag)t[o.id]=s.class;let{scope:i,all:r=null}=e||{};return{style:s=>{let o=r;for(let a of s)for(let l of a.set){let h=t[l.id];if(h){o=o?o+" "+h:h;break}}return o},scope:i}}function Hw(n,e){let t=null;for(let i of n){let r=i.style(e);r&&(t=t?t+" "+r:r)}return t}function Kw(n,e,t,i=0,r=n.length){let s=new ev(i,Array.isArray(e)?e:[e],t);s.highlightRange(n.cursor(),i,r,"",s.highlighters),s.flush(r)}class ev{constructor(e,t,i){this.at=e,this.highlighters=t,this.span=i,this.class=""}startSpan(e,t){t!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=t)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,t,i,r,s){let{type:o,from:a,to:l}=e;if(a>=i||l<=t)return;o.isTop&&(s=this.highlighters.filter(x=>!x.scope||x.scope(o)));let h=r,c=o.prop(mp),u=!1;for(;c;){if(!c.context||e.matchContext(c.context)){let x=Hw(s,c.tags);x&&(h&&(h+=" "),h+=x,c.mode==1?r+=(r?" ":"")+x:c.mode==0&&(u=!0));break}c=c.next}if(this.startSpan(e.from,h),u)return;let d=e.tree&&e.tree.prop(K.mounted);if(d&&d.overlay){let x=e.node.enter(d.overlay[0].from+a,1),g=this.highlighters.filter(p=>!p.scope||p.scope(d.tree.type)),f=e.firstChild();for(let p=0,m=a;;p++){let O=p<d.overlay.length?d.overlay[p]:null,y=O?O.from+a:l,b=Math.max(t,m),w=Math.min(i,y);if(b<w&&f)for(;e.from<w&&(this.highlightRange(e,b,w,r,s),this.startSpan(Math.min(i,e.to),h),!(e.to>=y||!e.nextSibling())););if(!O||y>i)break;m=O.to+a,m>t&&(this.highlightRange(x.cursor(),Math.max(t,O.from+a),Math.min(i,m),r,g),this.startSpan(m,h))}f&&e.parent()}else if(e.firstChild()){do if(!(e.to<=t)){if(e.from>=i)break;this.highlightRange(e,t,i,r,s),this.startSpan(Math.min(i,e.to),h)}while(e.nextSibling());e.parent()}}}const I=Ft.define,Vr=I(),ni=I(),vu=I(ni),ku=I(ni),ri=I(),Yr=I(ri),sa=I(ri),Et=I(),ki=I(Et),kt=I(),Ct=I(),wl=I(),Bn=I(wl),Jr=I(),T={comment:Vr,lineComment:I(Vr),blockComment:I(Vr),docComment:I(Vr),name:ni,variableName:I(ni),typeName:vu,tagName:I(vu),propertyName:ku,attributeName:I(ku),className:I(ni),labelName:I(ni),namespace:I(ni),macroName:I(ni),literal:ri,string:Yr,docString:I(Yr),character:I(Yr),attributeValue:I(Yr),number:sa,integer:I(sa),float:I(sa),bool:I(ri),regexp:I(ri),escape:I(ri),color:I(ri),url:I(ri),keyword:kt,self:I(kt),null:I(kt),atom:I(kt),unit:I(kt),modifier:I(kt),operatorKeyword:I(kt),controlKeyword:I(kt),definitionKeyword:I(kt),moduleKeyword:I(kt),operator:Ct,derefOperator:I(Ct),arithmeticOperator:I(Ct),logicOperator:I(Ct),bitwiseOperator:I(Ct),compareOperator:I(Ct),updateOperator:I(Ct),definitionOperator:I(Ct),typeOperator:I(Ct),controlOperator:I(Ct),punctuation:wl,separator:I(wl),bracket:Bn,angleBracket:I(Bn),squareBracket:I(Bn),paren:I(Bn),brace:I(Bn),content:Et,heading:ki,heading1:I(ki),heading2:I(ki),heading3:I(ki),heading4:I(ki),heading5:I(ki),heading6:I(ki),contentSeparator:I(Et),list:I(Et),quote:I(Et),emphasis:I(Et),strong:I(Et),link:I(Et),monospace:I(Et),strikethrough:I(Et),inserted:I(),deleted:I(),changed:I(),invalid:I(),meta:Jr,documentMeta:I(Jr),annotation:I(Jr),processingInstruction:I(Jr),definition:Ft.defineModifier(),constant:Ft.defineModifier(),function:Ft.defineModifier(),standard:Ft.defineModifier(),local:Ft.defineModifier(),special:Ft.defineModifier()};gp([{tag:T.link,class:"tok-link"},{tag:T.heading,class:"tok-heading"},{tag:T.emphasis,class:"tok-emphasis"},{tag:T.strong,class:"tok-strong"},{tag:T.keyword,class:"tok-keyword"},{tag:T.atom,class:"tok-atom"},{tag:T.bool,class:"tok-bool"},{tag:T.url,class:"tok-url"},{tag:T.labelName,class:"tok-labelName"},{tag:T.inserted,class:"tok-inserted"},{tag:T.deleted,class:"tok-deleted"},{tag:T.literal,class:"tok-literal"},{tag:T.string,class:"tok-string"},{tag:T.number,class:"tok-number"},{tag:[T.regexp,T.escape,T.special(T.string)],class:"tok-string2"},{tag:T.variableName,class:"tok-variableName"},{tag:T.local(T.variableName),class:"tok-variableName tok-local"},{tag:T.definition(T.variableName),class:"tok-variableName tok-definition"},{tag:T.special(T.variableName),class:"tok-variableName2"},{tag:T.definition(T.propertyName),class:"tok-propertyName tok-definition"},{tag:T.typeName,class:"tok-typeName"},{tag:T.namespace,class:"tok-namespace"},{tag:T.className,class:"tok-className"},{tag:T.macroName,class:"tok-macroName"},{tag:T.propertyName,class:"tok-propertyName"},{tag:T.operator,class:"tok-operator"},{tag:T.comment,class:"tok-comment"},{tag:T.meta,class:"tok-meta"},{tag:T.invalid,class:"tok-invalid"},{tag:T.punctuation,class:"tok-punctuation"}]);var oa;const pr=new K;function tv(n){return N.define({combine:n?e=>e.concat(n):void 0})}class mt{constructor(e,t,i=[]){this.data=e,te.prototype.hasOwnProperty("tree")||Object.defineProperty(te.prototype,"tree",{get(){return ve(this)}}),this.parser=t,this.extension=[Si.of(this),te.languageData.of((r,s,o)=>r.facet(Cu(r,s,o)))].concat(i)}isActiveAt(e,t,i=-1){return Cu(e,t,i)==this.data}findRegions(e){let t=e.facet(Si);if((t==null?void 0:t.data)==this.data)return[{from:0,to:e.doc.length}];if(!t||!t.allowsNesting)return[];let i=[],r=(s,o)=>{if(s.prop(pr)==this.data){i.push({from:o,to:o+s.length});return}let a=s.prop(K.mounted);if(a){if(a.tree.prop(pr)==this.data){if(a.overlay)for(let l of a.overlay)i.push({from:l.from+o,to:l.to+o});else i.push({from:o,to:o+s.length});return}else if(a.overlay){let l=i.length;if(r(a.tree,a.overlay[0].from+o),i.length>l)return}}for(let l=0;l<s.children.length;l++){let h=s.children[l];h instanceof Se&&r(h,s.positions[l]+o)}};return r(ve(e),0),i}get allowsNesting(){return!0}}mt.setState=j.define();function Cu(n,e,t){let i=n.facet(Si);if(!i)return null;let r=i.data;if(i.allowsNesting)for(let s=ve(n).topNode;s;s=s.enter(e,t,Ee.ExcludeBuffers))r=s.type.prop(pr)||r;return r}class Ls extends mt{constructor(e,t){super(e,t),this.parser=t}static define(e){let t=tv(e.languageData);return new Ls(t,e.parser.configure({props:[pr.add(i=>i.isTop?t:void 0)]}))}configure(e){return new Ls(this.data,this.parser.configure(e))}get allowsNesting(){return this.parser.hasWrappers()}}function ve(n){let e=n.field(mt.state,!1);return e?e.tree:Se.empty}class iv{constructor(e,t=e.length){this.doc=e,this.length=t,this.cursorPos=0,this.string="",this.cursor=e.iter()}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,t){let i=this.cursorPos-this.string.length;return e<i||t>=this.cursorPos?this.doc.sliceString(e,t):this.string.slice(e-i,t-i)}}let Mn=null;class Xs{constructor(e,t,i=[],r,s,o,a,l){this.parser=e,this.state=t,this.fragments=i,this.tree=r,this.treeLen=s,this.viewport=o,this.skipped=a,this.scheduleOn=l,this.parse=null,this.tempSkipped=[]}static create(e,t,i){return new Xs(e,t,[],Se.empty,0,i,[],null)}startParse(){return this.parser.startParse(new iv(this.state.doc),this.fragments)}work(e,t){return t!=null&&t>=this.state.doc.length&&(t=void 0),this.tree!=Se.empty&&this.isDone(t!=null?t:this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var i;if(typeof e=="number"){let r=Date.now()+e;e=()=>Date.now()>r}for(this.parse||(this.parse=this.startParse()),t!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>t)&&t<this.state.doc.length&&this.parse.stopAt(t);;){let r=this.parse.advance();if(r)if(this.fragments=this.withoutTempSkipped(Ii.addTree(r,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(i=this.parse.stoppedAt)!==null&&i!==void 0?i:this.state.doc.length,this.tree=r,this.parse=null,this.treeLen<(t!=null?t:this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,t;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(t=this.parse.advance()););}),this.treeLen=e,this.tree=t,this.fragments=this.withoutTempSkipped(Ii.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let t=Mn;Mn=this;try{return e()}finally{Mn=t}}withoutTempSkipped(e){for(let t;t=this.tempSkipped.pop();)e=Du(e,t.from,t.to);return e}changes(e,t){let{fragments:i,tree:r,treeLen:s,viewport:o,skipped:a}=this;if(this.takeTree(),!e.empty){let l=[];if(e.iterChangedRanges((h,c,u,d)=>l.push({fromA:h,toA:c,fromB:u,toB:d})),i=Ii.applyChanges(i,l),r=Se.empty,s=0,o={from:e.mapPos(o.from,-1),to:e.mapPos(o.to,1)},this.skipped.length){a=[];for(let h of this.skipped){let c=e.mapPos(h.from,1),u=e.mapPos(h.to,-1);c<u&&a.push({from:c,to:u})}}}return new Xs(this.parser,t,i,r,s,o,a,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let t=this.skipped.length;for(let i=0;i<this.skipped.length;i++){let{from:r,to:s}=this.skipped[i];r<e.to&&s>e.from&&(this.fragments=Du(this.fragments,r,s),this.skipped.splice(i--,1))}return this.skipped.length>=t?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,t){this.skipped.push({from:e,to:t})}static getSkippingParser(e){return new class extends dp{createParse(t,i,r){let s=r[0].from,o=r[r.length-1].to;return{parsedPos:s,advance(){let l=Mn;if(l){for(let h of r)l.tempSkipped.push(h);e&&(l.scheduleOn=l.scheduleOn?Promise.all([l.scheduleOn,e]):e)}return this.parsedPos=o,new Se(Ke.none,[],[],o-s)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let t=this.fragments;return this.treeLen>=e&&t.length&&t[0].from==0&&t[0].to>=e}static get(){return Mn}}function Du(n,e,t){return Ii.applyChanges(n,[{fromA:e,toA:t,fromB:e,toB:t}])}class mn{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let t=this.context.changes(e.changes,e.state),i=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),t.viewport.to);return t.work(20,i)||t.takeTree(),new mn(t)}static init(e){let t=Math.min(3e3,e.doc.length),i=Xs.create(e.facet(Si).parser,e,{from:0,to:t});return i.work(20,t)||i.takeTree(),new mn(i)}}mt.state=Ae.define({create:mn.init,update(n,e){for(let t of e.effects)if(t.is(mt.setState))return t.value;return e.startState.facet(Si)!=e.state.facet(Si)?mn.init(e.state):n.apply(e)}});let Op=n=>{let e=setTimeout(()=>n(),500);return()=>clearTimeout(e)};typeof requestIdleCallback!="undefined"&&(Op=n=>{let e=-1,t=setTimeout(()=>{e=requestIdleCallback(n,{timeout:500-100})},100);return()=>e<0?clearTimeout(t):cancelIdleCallback(e)});const aa=typeof navigator!="undefined"&&((oa=navigator.scheduling)===null||oa===void 0?void 0:oa.isInputPending)?()=>navigator.scheduling.isInputPending():null,nv=we.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let t=this.view.state.field(mt.state).context;(t.updateViewport(e.view.viewport)||this.view.viewport.to>t.treeLen)&&this.scheduleWork(),e.docChanged&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(t)}scheduleWork(){if(this.working)return;let{state:e}=this.view,t=e.field(mt.state);(t.tree!=t.context.tree||!t.context.isDone(e.doc.length))&&(this.working=Op(this.work))}work(e){this.working=null;let t=Date.now();if(this.chunkEnd<t&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=t+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:i,viewport:{to:r}}=this.view,s=i.field(mt.state);if(s.tree==s.context.tree&&s.context.isDone(r+1e5))return;let o=Date.now()+Math.min(this.chunkBudget,100,e&&!aa?Math.max(25,e.timeRemaining()-5):1e9),a=s.context.treeLen<r&&i.doc.length>r+1e3,l=s.context.work(()=>aa&&aa()||Date.now()>o,r+(a?0:1e5));this.chunkBudget-=Date.now()-t,(l||this.chunkBudget<=0)&&(s.context.takeTree(),this.view.dispatch({effects:mt.setState.of(new mn(s.context))})),this.chunkBudget>0&&!(l&&!a)&&this.scheduleWork(),this.checkAsyncSchedule(s.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(t=>lt(this.view.state,t)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),Si=N.define({combine(n){return n.length?n[0]:null},enables:[mt.state,nv]});class rv{constructor(e,t=[]){this.language=e,this.support=t,this.extension=[e,t]}}const sv=N.define(),Er=N.define({combine:n=>{if(!n.length)return"  ";if(!/^(?: +|\t+)$/.test(n[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return n[0]}});function Us(n){let e=n.facet(Er);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function xr(n,e){let t="",i=n.tabSize;if(n.facet(Er).charCodeAt(0)==9)for(;e>=i;)t+="	",e-=i;for(let r=0;r<e;r++)t+=" ";return t}function Oh(n,e){n instanceof te&&(n=new go(n));for(let i of n.state.facet(sv)){let r=i(n,e);if(r!=null)return r}let t=ve(n.state);return t?ov(n,t,e):null}class go{constructor(e,t={}){this.state=e,this.options=t,this.unit=Us(e)}lineAt(e,t=1){let i=this.state.doc.lineAt(e),{simulateBreak:r,simulateDoubleBreak:s}=this.options;return r!=null&&r>=i.from&&r<=i.to?s&&r==e?{text:"",from:e}:(t<0?r<e:r<=e)?{text:i.text.slice(r-i.from),from:r}:{text:i.text.slice(0,r-i.from),from:i.from}:i}textAfterPos(e,t=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:i,from:r}=this.lineAt(e,t);return i.slice(e-r,Math.min(i.length,e+100-r))}column(e,t=1){let{text:i,from:r}=this.lineAt(e,t),s=this.countColumn(i,e-r),o=this.options.overrideIndentation?this.options.overrideIndentation(r):-1;return o>-1&&(s+=o-this.countColumn(i,i.search(/\S|$/))),s}countColumn(e,t=e.length){return kr(e,this.state.tabSize,t)}lineIndent(e,t=1){let{text:i,from:r}=this.lineAt(e,t),s=this.options.overrideIndentation;if(s){let o=s(r);if(o>-1)return o}return this.countColumn(i,i.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const yp=new K;function ov(n,e,t){return bp(e.resolveInner(t).enterUnfinishedNodesBefore(t),t,n)}function av(n){return n.pos==n.options.simulateBreak&&n.options.simulateDoubleBreak}function lv(n){let e=n.type.prop(yp);if(e)return e;let t=n.firstChild,i;if(t&&(i=t.type.prop(K.closedBy))){let r=n.lastChild,s=r&&i.indexOf(r.name)>-1;return o=>Sp(o,!0,1,void 0,s&&!av(o)?r.from:void 0)}return n.parent==null?hv:null}function bp(n,e,t){for(;n;n=n.parent){let i=lv(n);if(i)return i(yh.create(t,e,n))}return null}function hv(){return 0}class yh extends go{constructor(e,t,i){super(e.state,e.options),this.base=e,this.pos=t,this.node=i}static create(e,t,i){return new yh(e,t,i)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){let e=this.state.doc.lineAt(this.node.from);for(;;){let t=this.node.resolve(e.from);for(;t.parent&&t.parent.from==t.from;)t=t.parent;if(cv(t,this.node))break;e=this.state.doc.lineAt(t.from)}return this.lineIndent(e.from)}continue(){let e=this.node.parent;return e?bp(e,this.pos,this.base):0}}function cv(n,e){for(let t=e;t;t=t.parent)if(n==t)return!0;return!1}function uv(n){let e=n.node,t=e.childAfter(e.from),i=e.lastChild;if(!t)return null;let r=n.options.simulateBreak,s=n.state.doc.lineAt(t.from),o=r==null||r<=s.from?s.to:Math.min(s.to,r);for(let a=t.to;;){let l=e.childAfter(a);if(!l||l==i)return null;if(!l.type.isSkipped)return l.from<o?t:null;a=l.to}}function fv({closing:n,align:e=!0,units:t=1}){return i=>Sp(i,e,t,n)}function Sp(n,e,t,i,r){let s=n.textAfter,o=s.match(/^\s*/)[0].length,a=i&&s.slice(o,o+i.length)==i||r==n.pos+o,l=e?uv(n):null;return l?a?n.column(l.from):n.column(l.to):n.baseIndent+(a?0:n.unit*t)}const dv=n=>n.baseIndent;function la({except:n,units:e=1}={}){return t=>{let i=n&&n.test(t.textAfter);return t.baseIndent+(i?0:e*t.unit)}}const pv=200;function xv(){return te.transactionFilter.of(n=>{if(!n.docChanged||!n.isUserEvent("input.type")&&!n.isUserEvent("input.complete"))return n;let e=n.startState.languageDataAt("indentOnInput",n.startState.selection.main.head);if(!e.length)return n;let t=n.newDoc,{head:i}=n.newSelection.main,r=t.lineAt(i);if(i>r.from+pv)return n;let s=t.sliceString(r.from,i);if(!e.some(h=>h.test(s)))return n;let{state:o}=n,a=-1,l=[];for(let{head:h}of o.selection.ranges){let c=o.doc.lineAt(h);if(c.from==a)continue;a=c.from;let u=Oh(o,c.from);if(u==null)continue;let d=/^\s*/.exec(c.text)[0],x=xr(o,u);d!=x&&l.push({from:c.from,to:c.from+d.length,insert:x})}return l.length?[n,{changes:l,sequential:!0}]:n})}const wp=N.define(),vp=new K;function mv(n){let e=n.firstChild,t=n.lastChild;return e&&e.to<t.from?{from:e.to,to:t.type.isError?n.to:t.from}:null}function gv(n,e,t){let i=ve(n);if(i.length<t)return null;let r=i.resolveInner(t),s=null;for(let o=r;o;o=o.parent){if(o.to<=t||o.from>t)continue;if(s&&o.from<e)break;let a=o.type.prop(vp);if(a&&(o.to<i.length-50||i.length==n.doc.length||!Ov(o))){let l=a(o,n);l&&l.from<=t&&l.from>=e&&l.to>t&&(s=l)}}return s}function Ov(n){let e=n.lastChild;return e&&e.to==n.to&&e.type.isError}function mr(n,e,t){for(let i of n.facet(wp)){let r=i(n,e,t);if(r)return r}return gv(n,e,t)}function kp(n,e){let t=e.mapPos(n.from,1),i=e.mapPos(n.to,-1);return t>=i?void 0:{from:t,to:i}}const Tr=j.define({map:kp}),Fr=j.define({map:kp});function Cp(n){let e=[];for(let{head:t}of n.state.selection.ranges)e.some(i=>i.from<=t&&i.to>=t)||e.push(n.lineBlockAt(t));return e}const Wi=Ae.define({create(){return X.none},update(n,e){n=n.map(e.changes);for(let t of e.effects)t.is(Tr)&&!yv(n,t.value.from,t.value.to)?n=n.update({add:[Dv.range(t.value.from,t.value.to)]}):t.is(Fr)&&(n=n.update({filter:(i,r)=>t.value.from!=i||t.value.to!=r,filterFrom:t.value.from,filterTo:t.value.to}));if(e.selection){let t=!1,{head:i}=e.selection.main;n.between(i,i,(r,s)=>{r<i&&s>i&&(t=!0)}),t&&(n=n.update({filterFrom:i,filterTo:i,filter:(r,s)=>s<=i||r>=i}))}return n},provide:n=>U.decorations.from(n)});function zs(n,e,t){var i;let r=null;return(i=n.field(Wi,!1))===null||i===void 0||i.between(e,t,(s,o)=>{(!r||r.from>s)&&(r={from:s,to:o})}),r}function yv(n,e,t){let i=!1;return n.between(e,e,(r,s)=>{r==e&&s==t&&(i=!0)}),i}function Dp(n,e){return n.field(Wi,!1)?e:e.concat(j.appendConfig.of(Tp()))}const bv=n=>{for(let e of Cp(n)){let t=mr(n.state,e.from,e.to);if(t)return n.dispatch({effects:Dp(n.state,[Tr.of(t),Ap(n,t)])}),!0}return!1},Sv=n=>{if(!n.state.field(Wi,!1))return!1;let e=[];for(let t of Cp(n)){let i=zs(n.state,t.from,t.to);i&&e.push(Fr.of(i),Ap(n,i,!1))}return e.length&&n.dispatch({effects:e}),e.length>0};function Ap(n,e,t=!0){let i=n.state.doc.lineAt(e.from).number,r=n.state.doc.lineAt(e.to).number;return U.announce.of(`${n.state.phrase(t?"Folded lines":"Unfolded lines")} ${i} ${n.state.phrase("to")} ${r}.`)}const wv=n=>{let{state:e}=n,t=[];for(let i=0;i<e.doc.length;){let r=n.lineBlockAt(i),s=mr(e,r.from,r.to);s&&t.push(Tr.of(s)),i=(s?n.lineBlockAt(s.to):r).to+1}return t.length&&n.dispatch({effects:Dp(n.state,t)}),!!t.length},vv=n=>{let e=n.state.field(Wi,!1);if(!e||!e.size)return!1;let t=[];return e.between(0,n.state.doc.length,(i,r)=>{t.push(Fr.of({from:i,to:r}))}),n.dispatch({effects:t}),!0},kv=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:bv},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:Sv},{key:"Ctrl-Alt-[",run:wv},{key:"Ctrl-Alt-]",run:vv}],Cv={placeholderDOM:null,placeholderText:"\u2026"},Ep=N.define({combine(n){return Kt(n,Cv)}});function Tp(n){let e=[Wi,Tv];return n&&e.push(Ep.of(n)),e}const Dv=X.replace({widget:new class extends Xt{toDOM(n){let{state:e}=n,t=e.facet(Ep),i=s=>{let o=n.lineBlockAt(n.posAtDOM(s.target)),a=zs(n.state,o.from,o.to);a&&n.dispatch({effects:Fr.of(a)}),s.preventDefault()};if(t.placeholderDOM)return t.placeholderDOM(n,i);let r=document.createElement("span");return r.textContent=t.placeholderText,r.setAttribute("aria-label",e.phrase("folded code")),r.title=e.phrase("unfold"),r.className="cm-foldPlaceholder",r.onclick=i,r}}}),Av={openText:"\u2304",closedText:"\u203A",markerDOM:null,domEventHandlers:{}};class ha extends Jt{constructor(e,t){super(),this.config=e,this.open=t}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let t=document.createElement("span");return t.textContent=this.open?this.config.openText:this.config.closedText,t.title=e.state.phrase(this.open?"Fold line":"Unfold line"),t}}function Ev(n={}){let e=Object.assign(Object.assign({},Av),n),t=new ha(e,!0),i=new ha(e,!1),r=we.fromClass(class{constructor(o){this.from=o.viewport.from,this.markers=this.buildMarkers(o)}update(o){(o.docChanged||o.viewportChanged||o.startState.facet(Si)!=o.state.facet(Si)||o.startState.field(Wi,!1)!=o.state.field(Wi,!1)||ve(o.startState)!=ve(o.state))&&(this.markers=this.buildMarkers(o.view))}buildMarkers(o){let a=new gi;for(let l of o.viewportLineBlocks){let h=zs(o.state,l.from,l.to)?i:mr(o.state,l.from,l.to)?t:null;h&&a.add(l.from,l.from,h)}return a.finish()}}),{domEventHandlers:s}=e;return[r,Qw({class:"cm-foldGutter",markers(o){var a;return((a=o.plugin(r))===null||a===void 0?void 0:a.markers)||re.empty},initialSpacer(){return new ha(e,!1)},domEventHandlers:Object.assign(Object.assign({},s),{click:(o,a,l)=>{if(s.click&&s.click(o,a,l))return!0;let h=zs(o.state,a.from,a.to);if(h)return o.dispatch({effects:Fr.of(h)}),!0;let c=mr(o.state,a.from,a.to);return c?(o.dispatch({effects:Tr.of(c)}),!0):!1}})}),Tp()]}const Tv=U.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class Oo{constructor(e,t){let i;function r(a){let l=Oi.newName();return(i||(i=Object.create(null)))["."+l]=a,l}const s=typeof t.all=="string"?t.all:t.all?r(t.all):void 0,o=t.scope;this.scope=o instanceof mt?a=>a.prop(pr)==o.data:o?a=>a==o:void 0,this.style=gp(e.map(a=>({tag:a.tag,class:a.class||r(Object.assign({},a,{tag:null}))})),{all:s}).style,this.module=i?new Oi(i):null,this.themeType=t.themeType}static define(e,t){return new Oo(e,t||{})}}const vl=N.define(),Fp=N.define({combine(n){return n.length?[n[0]]:null}});function ca(n){let e=n.facet(vl);return e.length?e:n.facet(Fp)}function Fv(n,e){let t=[Qv],i;return n instanceof Oo&&(n.module&&t.push(U.styleModule.of(n.module)),i=n.themeType),e!=null&&e.fallback?t.push(Fp.of(n)):i?t.push(vl.computeN([U.darkTheme],r=>r.facet(U.darkTheme)==(i=="dark")?[n]:[])):t.push(vl.of(n)),t}class $v{constructor(e){this.markCache=Object.create(null),this.tree=ve(e.state),this.decorations=this.buildDeco(e,ca(e.state))}update(e){let t=ve(e.state),i=ca(e.state),r=i!=ca(e.startState);t.length<e.view.viewport.to&&!r&&t.type==this.tree.type?this.decorations=this.decorations.map(e.changes):(t!=this.tree||e.viewportChanged||r)&&(this.tree=t,this.decorations=this.buildDeco(e.view,i))}buildDeco(e,t){if(!t||!this.tree.length)return X.none;let i=new gi;for(let{from:r,to:s}of e.visibleRanges)Kw(this.tree,t,(o,a,l)=>{i.add(o,a,this.markCache[l]||(this.markCache[l]=X.mark({class:l})))},r,s);return i.finish()}}const Qv=Cn.high(we.fromClass($v,{decorations:n=>n.decorations})),Pv=Oo.define([{tag:T.meta,color:"#7a757a"},{tag:T.link,textDecoration:"underline"},{tag:T.heading,textDecoration:"underline",fontWeight:"bold"},{tag:T.emphasis,fontStyle:"italic"},{tag:T.strong,fontWeight:"bold"},{tag:T.strikethrough,textDecoration:"line-through"},{tag:T.keyword,color:"#708"},{tag:[T.atom,T.bool,T.url,T.contentSeparator,T.labelName],color:"#219"},{tag:[T.literal,T.inserted],color:"#164"},{tag:[T.string,T.deleted],color:"#a11"},{tag:[T.regexp,T.escape,T.special(T.string)],color:"#e40"},{tag:T.definition(T.variableName),color:"#00f"},{tag:T.local(T.variableName),color:"#30a"},{tag:[T.typeName,T.namespace],color:"#085"},{tag:T.className,color:"#167"},{tag:[T.special(T.variableName),T.macroName],color:"#256"},{tag:T.definition(T.propertyName),color:"#00c"},{tag:T.comment,color:"#940"},{tag:T.invalid,color:"#f00"}]),Rv=U.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),$p=1e4,Qp="()[]{}",Pp=N.define({combine(n){return Kt(n,{afterCursor:!0,brackets:Qp,maxScanDistance:$p,renderMatch:Mv})}}),Iv=X.mark({class:"cm-matchingBracket"}),Bv=X.mark({class:"cm-nonmatchingBracket"});function Mv(n){let e=[],t=n.matched?Iv:Bv;return e.push(t.range(n.start.from,n.start.to)),n.end&&e.push(t.range(n.end.from,n.end.to)),e}const Wv=Ae.define({create(){return X.none},update(n,e){if(!e.docChanged&&!e.selection)return n;let t=[],i=e.state.facet(Pp);for(let r of e.state.selection.ranges){if(!r.empty)continue;let s=Bt(e.state,r.head,-1,i)||r.head>0&&Bt(e.state,r.head-1,1,i)||i.afterCursor&&(Bt(e.state,r.head,1,i)||r.head<e.state.doc.length&&Bt(e.state,r.head+1,-1,i));s&&(t=t.concat(i.renderMatch(s,e.state)))}return X.set(t,!0)},provide:n=>U.decorations.from(n)}),Nv=[Wv,Rv];function Lv(n={}){return[Pp.of(n),Nv]}function kl(n,e,t){let i=n.prop(e<0?K.openedBy:K.closedBy);if(i)return i;if(n.name.length==1){let r=t.indexOf(n.name);if(r>-1&&r%2==(e<0?1:0))return[t[r+e]]}return null}function Bt(n,e,t,i={}){let r=i.maxScanDistance||$p,s=i.brackets||Qp,o=ve(n),a=o.resolveInner(e,t);for(let l=a;l;l=l.parent){let h=kl(l.type,t,s);if(h&&l.from<l.to)return Xv(n,e,t,l,h,s)}return Uv(n,e,t,o,a.type,r,s)}function Xv(n,e,t,i,r,s){let o=i.parent,a={from:i.from,to:i.to},l=0,h=o==null?void 0:o.cursor();if(h&&(t<0?h.childBefore(i.from):h.childAfter(i.to)))do if(t<0?h.to<=i.from:h.from>=i.to){if(l==0&&r.indexOf(h.type.name)>-1&&h.from<h.to)return{start:a,end:{from:h.from,to:h.to},matched:!0};if(kl(h.type,t,s))l++;else if(kl(h.type,-t,s)&&(l--,l==0))return{start:a,end:h.from==h.to?void 0:{from:h.from,to:h.to},matched:!1}}while(t<0?h.prevSibling():h.nextSibling());return{start:a,matched:!1}}function Uv(n,e,t,i,r,s,o){let a=t<0?n.sliceDoc(e-1,e):n.sliceDoc(e,e+1),l=o.indexOf(a);if(l<0||l%2==0!=t>0)return null;let h={from:t<0?e-1:e,to:t>0?e+1:e},c=n.doc.iterRange(e,t>0?n.doc.length:0),u=0;for(let d=0;!c.next().done&&d<=s;){let x=c.value;t<0&&(d+=x.length);let g=e+d*t;for(let f=t>0?0:x.length-1,p=t>0?x.length:-1;f!=p;f+=t){let m=o.indexOf(x[f]);if(!(m<0||i.resolve(g+f,1).type!=r))if(m%2==0==t>0)u++;else{if(u==1)return{start:h,end:{from:g+f,to:g+f+1},matched:m>>1==l>>1};u--}}t>0&&(d+=x.length)}return c.done?{start:h,matched:!1}:null}const zv=Object.create(null),Au=[Ke.none],Eu=[],_v=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","typeName"],["attribute","propertyName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])_v[n]=jv(zv,e);function ua(n,e){Eu.indexOf(n)>-1||(Eu.push(n),console.warn(e))}function jv(n,e){let t=null;for(let s of e.split(".")){let o=n[s]||T[s];o?typeof o=="function"?t?t=o(t):ua(s,`Modifier ${s} used at start of tag`):t?ua(s,`Tag ${s} used as modifier`):t=o:ua(s,`Unknown highlighting tag ${s}`)}if(!t)return 0;let i=e.replace(/ /g,"_"),r=Ke.define({id:Au.length,name:i,props:[xp({[i]:t})]});return Au.push(r),r.id}const Zv=n=>{let e=Sh(n.state);return e.line?Gv(n):e.block?Vv(n):!1};function bh(n,e){return({state:t,dispatch:i})=>{if(t.readOnly)return!1;let r=n(e,t);return r?(i(t.update(r)),!0):!1}}const Gv=bh(Hv,0),qv=bh(Rp,0),Vv=bh((n,e)=>Rp(n,e,Jv(e)),0);function Sh(n,e=n.selection.main.head){let t=n.languageDataAt("commentTokens",e);return t.length?t[0]:{}}const Wn=50;function Yv(n,{open:e,close:t},i,r){let s=n.sliceDoc(i-Wn,i),o=n.sliceDoc(r,r+Wn),a=/\s*$/.exec(s)[0].length,l=/^\s*/.exec(o)[0].length,h=s.length-a;if(s.slice(h-e.length,h)==e&&o.slice(l,l+t.length)==t)return{open:{pos:i-a,margin:a&&1},close:{pos:r+l,margin:l&&1}};let c,u;r-i<=2*Wn?c=u=n.sliceDoc(i,r):(c=n.sliceDoc(i,i+Wn),u=n.sliceDoc(r-Wn,r));let d=/^\s*/.exec(c)[0].length,x=/\s*$/.exec(u)[0].length,g=u.length-x-t.length;return c.slice(d,d+e.length)==e&&u.slice(g,g+t.length)==t?{open:{pos:i+d+e.length,margin:/\s/.test(c.charAt(d+e.length))?1:0},close:{pos:r-x-t.length,margin:/\s/.test(u.charAt(g-1))?1:0}}:null}function Jv(n){let e=[];for(let t of n.selection.ranges){let i=n.doc.lineAt(t.from),r=t.to<=i.to?i:n.doc.lineAt(t.to),s=e.length-1;s>=0&&e[s].to>i.from?e[s].to=r.to:e.push({from:i.from,to:r.to})}return e}function Rp(n,e,t=e.selection.ranges){let i=t.map(s=>Sh(e,s.from).block);if(!i.every(s=>s))return null;let r=t.map((s,o)=>Yv(e,i[o],s.from,s.to));if(n!=2&&!r.every(s=>s))return{changes:e.changes(t.map((s,o)=>r[o]?[]:[{from:s.from,insert:i[o].open+" "},{from:s.to,insert:" "+i[o].close}]))};if(n!=1&&r.some(s=>s)){let s=[];for(let o=0,a;o<r.length;o++)if(a=r[o]){let l=i[o],{open:h,close:c}=a;s.push({from:h.pos-l.open.length,to:h.pos+h.margin},{from:c.pos-c.margin,to:c.pos+l.close.length})}return{changes:s}}return null}function Hv(n,e,t=e.selection.ranges){let i=[],r=-1;for(let{from:s,to:o}of t){let a=i.length,l=1e9;for(let h=s;h<=o;){let c=e.doc.lineAt(h);if(c.from>r&&(s==o||o>c.from)){r=c.from;let u=Sh(e,h).line;if(!u)continue;let d=/^\s*/.exec(c.text)[0].length,x=d==c.length,g=c.text.slice(d,d+u.length)==u?d:-1;d<c.text.length&&d<l&&(l=d),i.push({line:c,comment:g,token:u,indent:d,empty:x,single:!1})}h=c.to+1}if(l<1e9)for(let h=a;h<i.length;h++)i[h].indent<i[h].line.text.length&&(i[h].indent=l);i.length==a+1&&(i[a].single=!0)}if(n!=2&&i.some(s=>s.comment<0&&(!s.empty||s.single))){let s=[];for(let{line:a,token:l,indent:h,empty:c,single:u}of i)(u||!c)&&s.push({from:a.from+h,insert:l+" "});let o=e.changes(s);return{changes:o,selection:e.selection.map(o,1)}}else if(n!=1&&i.some(s=>s.comment>=0)){let s=[];for(let{line:o,comment:a,token:l}of i)if(a>=0){let h=o.from+a,c=h+l.length;o.text[c-o.from]==" "&&c++,s.push({from:h,to:c})}return{changes:s}}return null}const Cl=zi.define(),Kv=zi.define(),e2=N.define(),Ip=N.define({combine(n){return Kt(n,{minDepth:100,newGroupDelay:500},{minDepth:Math.max,newGroupDelay:Math.min})}});function t2(n){let e=0;return n.iterChangedRanges((t,i)=>e=i),e}const Bp=Ae.define({create(){return Mt.empty},update(n,e){let t=e.state.facet(Ip),i=e.annotation(Cl);if(i){let l=e.docChanged?$.single(t2(e.changes)):void 0,h=Je.fromTransaction(e,l),c=i.side,u=c==0?n.undone:n.done;return h?u=_s(u,u.length,t.minDepth,h):u=Lp(u,e.startState.selection),new Mt(c==0?i.rest:u,c==0?u:i.rest)}let r=e.annotation(Kv);if((r=="full"||r=="before")&&(n=n.isolate()),e.annotation(De.addToHistory)===!1)return e.changes.empty?n:n.addMapping(e.changes.desc);let s=Je.fromTransaction(e),o=e.annotation(De.time),a=e.annotation(De.userEvent);return s?n=n.addChanges(s,o,a,t.newGroupDelay,t.minDepth):e.selection&&(n=n.addSelection(e.startState.selection,o,a,t.newGroupDelay)),(r=="full"||r=="after")&&(n=n.isolate()),n},toJSON(n){return{done:n.done.map(e=>e.toJSON()),undone:n.undone.map(e=>e.toJSON())}},fromJSON(n){return new Mt(n.done.map(Je.fromJSON),n.undone.map(Je.fromJSON))}});function i2(n={}){return[Bp,Ip.of(n),U.domEventHandlers({beforeinput(e,t){let i=e.inputType=="historyUndo"?Mp:e.inputType=="historyRedo"?Wp:null;return i?(e.preventDefault(),i(t)):!1}})]}function yo(n,e){return function({state:t,dispatch:i}){if(!e&&t.readOnly)return!1;let r=t.field(Bp,!1);if(!r)return!1;let s=r.pop(n,t,e);return s?(i(s),!0):!1}}const Mp=yo(0,!1),Wp=yo(1,!1),n2=yo(0,!0),r2=yo(1,!0);class Je{constructor(e,t,i,r,s){this.changes=e,this.effects=t,this.mapped=i,this.startSelection=r,this.selectionsAfter=s}setSelAfter(e){return new Je(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,t,i;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(t=this.mapped)===null||t===void 0?void 0:t.toJSON(),startSelection:(i=this.startSelection)===null||i===void 0?void 0:i.toJSON(),selectionsAfter:this.selectionsAfter.map(r=>r.toJSON())}}static fromJSON(e){return new Je(e.changes&&Ce.fromJSON(e.changes),[],e.mapped&&Wt.fromJSON(e.mapped),e.startSelection&&$.fromJSON(e.startSelection),e.selectionsAfter.map($.fromJSON))}static fromTransaction(e,t){let i=dt;for(let r of e.startState.facet(e2)){let s=r(e);s.length&&(i=i.concat(s))}return!i.length&&e.changes.empty?null:new Je(e.changes.invert(e.startState.doc),i,void 0,t||e.startState.selection,dt)}static selection(e){return new Je(void 0,dt,void 0,void 0,e)}}function _s(n,e,t,i){let r=e+1>t+20?e-t-1:0,s=n.slice(r,e);return s.push(i),s}function s2(n,e){let t=[],i=!1;return n.iterChangedRanges((r,s)=>t.push(r,s)),e.iterChangedRanges((r,s,o,a)=>{for(let l=0;l<t.length;){let h=t[l++],c=t[l++];a>=h&&o<=c&&(i=!0)}}),i}function o2(n,e){return n.ranges.length==e.ranges.length&&n.ranges.filter((t,i)=>t.empty!=e.ranges[i].empty).length===0}function Np(n,e){return n.length?e.length?n.concat(e):n:e}const dt=[],a2=200;function Lp(n,e){if(n.length){let t=n[n.length-1],i=t.selectionsAfter.slice(Math.max(0,t.selectionsAfter.length-a2));return i.length&&i[i.length-1].eq(e)?n:(i.push(e),_s(n,n.length-1,1e9,t.setSelAfter(i)))}else return[Je.selection([e])]}function l2(n){let e=n[n.length-1],t=n.slice();return t[n.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),t}function fa(n,e){if(!n.length)return n;let t=n.length,i=dt;for(;t;){let r=h2(n[t-1],e,i);if(r.changes&&!r.changes.empty||r.effects.length){let s=n.slice(0,t);return s[t-1]=r,s}else e=r.mapped,t--,i=r.selectionsAfter}return i.length?[Je.selection(i)]:dt}function h2(n,e,t){let i=Np(n.selectionsAfter.length?n.selectionsAfter.map(a=>a.map(e)):dt,t);if(!n.changes)return Je.selection(i);let r=n.changes.map(e),s=e.mapDesc(n.changes,!0),o=n.mapped?n.mapped.composeDesc(s):s;return new Je(r,j.mapEffects(n.effects,e),o,n.startSelection.map(s),i)}const c2=/^(input\.type|delete)($|\.)/;class Mt{constructor(e,t,i=0,r=void 0){this.done=e,this.undone=t,this.prevTime=i,this.prevUserEvent=r}isolate(){return this.prevTime?new Mt(this.done,this.undone):this}addChanges(e,t,i,r,s){let o=this.done,a=o[o.length-1];return a&&a.changes&&!a.changes.empty&&e.changes&&(!i||c2.test(i))&&(!a.selectionsAfter.length&&t-this.prevTime<r&&s2(a.changes,e.changes)||i=="input.type.compose")?o=_s(o,o.length-1,s,new Je(e.changes.compose(a.changes),Np(e.effects,a.effects),a.mapped,a.startSelection,dt)):o=_s(o,o.length,s,e),new Mt(o,dt,t,i)}addSelection(e,t,i,r){let s=this.done.length?this.done[this.done.length-1].selectionsAfter:dt;return s.length>0&&t-this.prevTime<r&&i==this.prevUserEvent&&i&&/^select($|\.)/.test(i)&&o2(s[s.length-1],e)?this:new Mt(Lp(this.done,e),this.undone,t,i)}addMapping(e){return new Mt(fa(this.done,e),fa(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,t,i){let r=e==0?this.done:this.undone;if(r.length==0)return null;let s=r[r.length-1];if(i&&s.selectionsAfter.length)return t.update({selection:s.selectionsAfter[s.selectionsAfter.length-1],annotations:Cl.of({side:e,rest:l2(r)}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(s.changes){let o=r.length==1?dt:r.slice(0,r.length-1);return s.mapped&&(o=fa(o,s.mapped)),t.update({changes:s.changes,selection:s.startSelection,effects:s.effects,annotations:Cl.of({side:e,rest:o}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}Mt.empty=new Mt(dt,dt);const u2=[{key:"Mod-z",run:Mp,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:Wp,preventDefault:!0},{key:"Mod-u",run:n2,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:r2,preventDefault:!0}];function Dn(n,e){return $.create(n.ranges.map(e),n.mainIndex)}function Ut(n,e){return n.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function ei({state:n,dispatch:e},t){let i=Dn(n.selection,t);return i.eq(n.selection)?!1:(e(Ut(n,i)),!0)}function bo(n,e){return $.cursor(e?n.to:n.from)}function Xp(n,e){return ei(n,t=>t.empty?n.moveByChar(t,e):bo(t,e))}function pt(n){return n.textDirectionAt(n.state.selection.main.head)==de.LTR}const Up=n=>Xp(n,!pt(n)),zp=n=>Xp(n,pt(n));function _p(n,e){return ei(n,t=>t.empty?n.moveByGroup(t,e):bo(t,e))}const f2=n=>_p(n,!pt(n)),d2=n=>_p(n,pt(n));function p2(n,e,t){if(e.type.prop(t))return!0;let i=e.to-e.from;return i&&(i>2||/[^\s,.;:]/.test(n.sliceDoc(e.from,e.to)))||e.firstChild}function So(n,e,t){let i=ve(n).resolveInner(e.head),r=t?K.closedBy:K.openedBy;for(let l=e.head;;){let h=t?i.childAfter(l):i.childBefore(l);if(!h)break;p2(n,h,r)?i=h:l=t?h.to:h.from}let s=i.type.prop(r),o,a;return s&&(o=t?Bt(n,i.from,1):Bt(n,i.to,-1))&&o.matched?a=t?o.end.to:o.end.from:a=t?i.to:i.from,$.cursor(a,t?-1:1)}const x2=n=>ei(n,e=>So(n.state,e,!pt(n))),m2=n=>ei(n,e=>So(n.state,e,pt(n)));function jp(n,e){return ei(n,t=>{if(!t.empty)return bo(t,e);let i=n.moveVertically(t,e);return i.head!=t.head?i:n.moveToLineBoundary(t,e)})}const Zp=n=>jp(n,!1),Gp=n=>jp(n,!0);function qp(n,e){let{state:t}=n,i=Dn(t.selection,a=>a.empty?n.moveVertically(a,e,Math.min(n.dom.clientHeight,innerHeight)):bo(a,e));if(i.eq(t.selection))return!1;let r=n.coordsAtPos(t.selection.main.head),s=n.scrollDOM.getBoundingClientRect(),o;return r&&r.top>s.top&&r.bottom<s.bottom&&r.top-s.top<=n.scrollDOM.scrollHeight-n.scrollDOM.scrollTop-n.scrollDOM.clientHeight&&(o=U.scrollIntoView(i.main.head,{y:"start",yMargin:r.top-s.top})),n.dispatch(Ut(t,i),{effects:o}),!0}const Tu=n=>qp(n,!1),Dl=n=>qp(n,!0);function wo(n,e,t){let i=n.lineBlockAt(e.head),r=n.moveToLineBoundary(e,t);if(r.head==e.head&&r.head!=(t?i.to:i.from)&&(r=n.moveToLineBoundary(e,t,!1)),!t&&r.head==i.from&&i.length){let s=/^\s*/.exec(n.state.sliceDoc(i.from,Math.min(i.from+100,i.to)))[0].length;s&&e.head!=i.from+s&&(r=$.cursor(i.from+s))}return r}const Fu=n=>ei(n,e=>wo(n,e,!0)),$u=n=>ei(n,e=>wo(n,e,!1)),g2=n=>ei(n,e=>$.cursor(n.lineBlockAt(e.head).from,1)),O2=n=>ei(n,e=>$.cursor(n.lineBlockAt(e.head).to,-1));function y2(n,e,t){let i=!1,r=Dn(n.selection,s=>{let o=Bt(n,s.head,-1)||Bt(n,s.head,1)||s.head>0&&Bt(n,s.head-1,1)||s.head<n.doc.length&&Bt(n,s.head+1,-1);if(!o||!o.end)return s;i=!0;let a=o.start.from==s.head?o.end.to:o.end.from;return t?$.range(s.anchor,a):$.cursor(a)});return i?(e(Ut(n,r)),!0):!1}const b2=({state:n,dispatch:e})=>y2(n,e,!1);function zt(n,e){let t=Dn(n.state.selection,i=>{let r=e(i);return $.range(i.anchor,r.head,r.goalColumn)});return t.eq(n.state.selection)?!1:(n.dispatch(Ut(n.state,t)),!0)}function Vp(n,e){return zt(n,t=>n.moveByChar(t,e))}const Yp=n=>Vp(n,!pt(n)),Jp=n=>Vp(n,pt(n));function Hp(n,e){return zt(n,t=>n.moveByGroup(t,e))}const S2=n=>Hp(n,!pt(n)),w2=n=>Hp(n,pt(n)),v2=n=>zt(n,e=>So(n.state,e,!pt(n))),k2=n=>zt(n,e=>So(n.state,e,pt(n)));function Kp(n,e){return zt(n,t=>n.moveVertically(t,e))}const ex=n=>Kp(n,!1),tx=n=>Kp(n,!0);function ix(n,e){return zt(n,t=>n.moveVertically(t,e,Math.min(n.dom.clientHeight,innerHeight)))}const Qu=n=>ix(n,!1),Pu=n=>ix(n,!0),Ru=n=>zt(n,e=>wo(n,e,!0)),Iu=n=>zt(n,e=>wo(n,e,!1)),C2=n=>zt(n,e=>$.cursor(n.lineBlockAt(e.head).from)),D2=n=>zt(n,e=>$.cursor(n.lineBlockAt(e.head).to)),Bu=({state:n,dispatch:e})=>(e(Ut(n,{anchor:0})),!0),Mu=({state:n,dispatch:e})=>(e(Ut(n,{anchor:n.doc.length})),!0),Wu=({state:n,dispatch:e})=>(e(Ut(n,{anchor:n.selection.main.anchor,head:0})),!0),Nu=({state:n,dispatch:e})=>(e(Ut(n,{anchor:n.selection.main.anchor,head:n.doc.length})),!0),A2=({state:n,dispatch:e})=>(e(n.update({selection:{anchor:0,head:n.doc.length},userEvent:"select"})),!0),E2=({state:n,dispatch:e})=>{let t=Co(n).map(({from:i,to:r})=>$.range(i,Math.min(r+1,n.doc.length)));return e(n.update({selection:$.create(t),userEvent:"select"})),!0},T2=({state:n,dispatch:e})=>{let t=Dn(n.selection,i=>{var r;let s=ve(n).resolveInner(i.head,1);for(;!(s.from<i.from&&s.to>=i.to||s.to>i.to&&s.from<=i.from||!(!((r=s.parent)===null||r===void 0)&&r.parent));)s=s.parent;return $.range(s.to,s.from)});return e(Ut(n,t)),!0},F2=({state:n,dispatch:e})=>{let t=n.selection,i=null;return t.ranges.length>1?i=$.create([t.main]):t.main.empty||(i=$.create([$.cursor(t.main.head)])),i?(e(Ut(n,i)),!0):!1};function vo({state:n,dispatch:e},t){if(n.readOnly)return!1;let i="delete.selection",r=n.changeByRange(s=>{let{from:o,to:a}=s;if(o==a){let l=t(o);l<o?i="delete.backward":l>o&&(i="delete.forward"),o=Math.min(o,l),a=Math.max(a,l)}return o==a?{range:s}:{changes:{from:o,to:a},range:$.cursor(o)}});return r.changes.empty?!1:(e(n.update(r,{scrollIntoView:!0,userEvent:i})),!0)}function ko(n,e,t){if(n instanceof U)for(let i of n.state.facet(U.atomicRanges).map(r=>r(n)))i.between(e,e,(r,s)=>{r<e&&s>e&&(e=t?s:r)});return e}const nx=(n,e)=>vo(n,t=>{let{state:i}=n,r=i.doc.lineAt(t),s,o;if(!e&&t>r.from&&t<r.from+200&&!/[^ \t]/.test(s=r.text.slice(0,t-r.from))){if(s[s.length-1]=="	")return t-1;let a=kr(s,i.tabSize),l=a%Us(i)||Us(i);for(let h=0;h<l&&s[s.length-1-h]==" ";h++)t--;o=t}else o=ot(r.text,t-r.from,e,e)+r.from,o==t&&r.number!=(e?i.doc.lines:1)&&(o+=e?1:-1);return ko(n,o,e)}),Al=n=>nx(n,!1),rx=n=>nx(n,!0),sx=(n,e)=>vo(n,t=>{let i=t,{state:r}=n,s=r.doc.lineAt(i),o=r.charCategorizer(i);for(let a=null;;){if(i==(e?s.to:s.from)){i==t&&s.number!=(e?r.doc.lines:1)&&(i+=e?1:-1);break}let l=ot(s.text,i-s.from,e)+s.from,h=s.text.slice(Math.min(i,l)-s.from,Math.max(i,l)-s.from),c=o(h);if(a!=null&&c!=a)break;(h!=" "||i!=t)&&(a=c),i=l}return ko(n,i,e)}),ox=n=>sx(n,!1),$2=n=>sx(n,!0),ax=n=>vo(n,e=>{let t=n.lineBlockAt(e).to;return ko(n,e<t?t:Math.min(n.state.doc.length,e+1),!0)}),Q2=n=>vo(n,e=>{let t=n.lineBlockAt(e).from;return ko(n,e>t?t:Math.max(0,e-1),!1)}),P2=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(i=>({changes:{from:i.from,to:i.to,insert:ie.of(["",""])},range:$.cursor(i.from)}));return e(n.update(t,{scrollIntoView:!0,userEvent:"input"})),!0},R2=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=n.changeByRange(i=>{if(!i.empty||i.from==0||i.from==n.doc.length)return{range:i};let r=i.from,s=n.doc.lineAt(r),o=r==s.from?r-1:ot(s.text,r-s.from,!1)+s.from,a=r==s.to?r+1:ot(s.text,r-s.from,!0)+s.from;return{changes:{from:o,to:a,insert:n.doc.slice(r,a).append(n.doc.slice(o,r))},range:$.cursor(a)}});return t.changes.empty?!1:(e(n.update(t,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Co(n){let e=[],t=-1;for(let i of n.selection.ranges){let r=n.doc.lineAt(i.from),s=n.doc.lineAt(i.to);if(!i.empty&&i.to==s.from&&(s=n.doc.lineAt(i.to-1)),t>=r.number){let o=e[e.length-1];o.to=s.to,o.ranges.push(i)}else e.push({from:r.from,to:s.to,ranges:[i]});t=s.number+1}return e}function lx(n,e,t){if(n.readOnly)return!1;let i=[],r=[];for(let s of Co(n)){if(t?s.to==n.doc.length:s.from==0)continue;let o=n.doc.lineAt(t?s.to+1:s.from-1),a=o.length+1;if(t){i.push({from:s.to,to:o.to},{from:s.from,insert:o.text+n.lineBreak});for(let l of s.ranges)r.push($.range(Math.min(n.doc.length,l.anchor+a),Math.min(n.doc.length,l.head+a)))}else{i.push({from:o.from,to:s.from},{from:s.to,insert:n.lineBreak+o.text});for(let l of s.ranges)r.push($.range(l.anchor-a,l.head-a))}}return i.length?(e(n.update({changes:i,scrollIntoView:!0,selection:$.create(r,n.selection.mainIndex),userEvent:"move.line"})),!0):!1}const I2=({state:n,dispatch:e})=>lx(n,e,!1),B2=({state:n,dispatch:e})=>lx(n,e,!0);function hx(n,e,t){if(n.readOnly)return!1;let i=[];for(let r of Co(n))t?i.push({from:r.from,insert:n.doc.slice(r.from,r.to)+n.lineBreak}):i.push({from:r.to,insert:n.lineBreak+n.doc.slice(r.from,r.to)});return e(n.update({changes:i,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const M2=({state:n,dispatch:e})=>hx(n,e,!1),W2=({state:n,dispatch:e})=>hx(n,e,!0),N2=n=>{if(n.state.readOnly)return!1;let{state:e}=n,t=e.changes(Co(e).map(({from:r,to:s})=>(r>0?r--:s<e.doc.length&&s++,{from:r,to:s}))),i=Dn(e.selection,r=>n.moveVertically(r,!0)).map(t);return n.dispatch({changes:t,selection:i,scrollIntoView:!0,userEvent:"delete.line"}),!0};function L2(n,e){if(/\(\)|\[\]|\{\}/.test(n.sliceDoc(e-1,e+1)))return{from:e,to:e};let t=ve(n).resolveInner(e),i=t.childBefore(e),r=t.childAfter(e),s;return i&&r&&i.to<=e&&r.from>=e&&(s=i.type.prop(K.closedBy))&&s.indexOf(r.name)>-1&&n.doc.lineAt(i.to).from==n.doc.lineAt(r.from).from?{from:i.to,to:r.from}:null}const X2=cx(!1),U2=cx(!0);function cx(n){return({state:e,dispatch:t})=>{if(e.readOnly)return!1;let i=e.changeByRange(r=>{let{from:s,to:o}=r,a=e.doc.lineAt(s),l=!n&&s==o&&L2(e,s);n&&(s=o=(o<=a.to?a:e.doc.lineAt(o)).to);let h=new go(e,{simulateBreak:s,simulateDoubleBreak:!!l}),c=Oh(h,s);for(c==null&&(c=/^\s*/.exec(e.doc.lineAt(s).text)[0].length);o<a.to&&/\s/.test(a.text[o-a.from]);)o++;l?{from:s,to:o}=l:s>a.from&&s<a.from+100&&!/\S/.test(a.text.slice(0,s))&&(s=a.from);let u=["",xr(e,c)];return l&&u.push(xr(e,h.lineIndent(a.from,-1))),{changes:{from:s,to:o,insert:ie.of(u)},range:$.cursor(s+1+u[1].length)}});return t(e.update(i,{scrollIntoView:!0,userEvent:"input"})),!0}}function wh(n,e){let t=-1;return n.changeByRange(i=>{let r=[];for(let o=i.from;o<=i.to;){let a=n.doc.lineAt(o);a.number>t&&(i.empty||i.to>a.from)&&(e(a,r,i),t=a.number),o=a.to+1}let s=n.changes(r);return{changes:r,range:$.range(s.mapPos(i.anchor,1),s.mapPos(i.head,1))}})}const z2=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let t=Object.create(null),i=new go(n,{overrideIndentation:s=>{let o=t[s];return o==null?-1:o}}),r=wh(n,(s,o,a)=>{let l=Oh(i,s.from);if(l==null)return;/\S/.test(s.text)||(l=0);let h=/^\s*/.exec(s.text)[0],c=xr(n,l);(h!=c||a.from<s.from+h.length)&&(t[s.from]=l,o.push({from:s.from,to:s.from+h.length,insert:c}))});return r.changes.empty||e(n.update(r,{userEvent:"indent"})),!0},_2=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(wh(n,(t,i)=>{i.push({from:t.from,insert:n.facet(Er)})}),{userEvent:"input.indent"})),!0),j2=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(wh(n,(t,i)=>{let r=/^\s*/.exec(t.text)[0];if(!r)return;let s=kr(r,n.tabSize),o=0,a=xr(n,Math.max(0,s-Us(n)));for(;o<r.length&&o<a.length&&r.charCodeAt(o)==a.charCodeAt(o);)o++;i.push({from:t.from+o,to:t.from+r.length,insert:a.slice(o)})}),{userEvent:"delete.dedent"})),!0),Z2=[{key:"Ctrl-b",run:Up,shift:Yp,preventDefault:!0},{key:"Ctrl-f",run:zp,shift:Jp},{key:"Ctrl-p",run:Zp,shift:ex},{key:"Ctrl-n",run:Gp,shift:tx},{key:"Ctrl-a",run:g2,shift:C2},{key:"Ctrl-e",run:O2,shift:D2},{key:"Ctrl-d",run:rx},{key:"Ctrl-h",run:Al},{key:"Ctrl-k",run:ax},{key:"Ctrl-Alt-h",run:ox},{key:"Ctrl-o",run:P2},{key:"Ctrl-t",run:R2},{key:"Ctrl-v",run:Dl}],G2=[{key:"ArrowLeft",run:Up,shift:Yp,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:f2,shift:S2},{mac:"Cmd-ArrowLeft",run:$u,shift:Iu},{key:"ArrowRight",run:zp,shift:Jp,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:d2,shift:w2},{mac:"Cmd-ArrowRight",run:Fu,shift:Ru},{key:"ArrowUp",run:Zp,shift:ex,preventDefault:!0},{mac:"Cmd-ArrowUp",run:Bu,shift:Wu},{mac:"Ctrl-ArrowUp",run:Tu,shift:Qu},{key:"ArrowDown",run:Gp,shift:tx,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Mu,shift:Nu},{mac:"Ctrl-ArrowDown",run:Dl,shift:Pu},{key:"PageUp",run:Tu,shift:Qu},{key:"PageDown",run:Dl,shift:Pu},{key:"Home",run:$u,shift:Iu,preventDefault:!0},{key:"Mod-Home",run:Bu,shift:Wu},{key:"End",run:Fu,shift:Ru,preventDefault:!0},{key:"Mod-End",run:Mu,shift:Nu},{key:"Enter",run:X2},{key:"Mod-a",run:A2},{key:"Backspace",run:Al,shift:Al},{key:"Delete",run:rx},{key:"Mod-Backspace",mac:"Alt-Backspace",run:ox},{key:"Mod-Delete",mac:"Alt-Delete",run:$2},{mac:"Mod-Backspace",run:Q2},{mac:"Mod-Delete",run:ax}].concat(Z2.map(n=>({mac:n.key,run:n.run,shift:n.shift}))),q2=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:x2,shift:v2},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:m2,shift:k2},{key:"Alt-ArrowUp",run:I2},{key:"Shift-Alt-ArrowUp",run:M2},{key:"Alt-ArrowDown",run:B2},{key:"Shift-Alt-ArrowDown",run:W2},{key:"Escape",run:F2},{key:"Mod-Enter",run:U2},{key:"Alt-l",mac:"Ctrl-l",run:E2},{key:"Mod-i",run:T2,preventDefault:!0},{key:"Mod-[",run:j2},{key:"Mod-]",run:_2},{key:"Mod-Alt-\\",run:z2},{key:"Shift-Mod-k",run:N2},{key:"Shift-Mod-\\",run:b2},{key:"Mod-/",run:Zv},{key:"Alt-A",run:qv}].concat(G2);function ue(){var n=arguments[0];typeof n=="string"&&(n=document.createElement(n));var e=1,t=arguments[1];if(t&&typeof t=="object"&&t.nodeType==null&&!Array.isArray(t)){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var r=t[i];typeof r=="string"?n.setAttribute(i,r):r!=null&&(n[i]=r)}e++}for(;e<arguments.length;e++)ux(n,arguments[e]);return n}function ux(n,e){if(typeof e=="string")n.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)n.appendChild(e);else if(Array.isArray(e))for(var t=0;t<e.length;t++)ux(n,e[t]);else throw new RangeError("Unsupported child node: "+e)}const Lu=typeof String.prototype.normalize=="function"?n=>n.normalize("NFKD"):n=>n;class gn{constructor(e,t,i=0,r=e.length,s){this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(i,r),this.bufferStart=i,this.normalize=s?o=>s(Lu(o)):Lu,this.query=this.normalize(t)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return We(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let t=nh(e),i=this.bufferStart+this.bufferPos;this.bufferPos+=ut(e);let r=this.normalize(t);for(let s=0,o=i;;s++){let a=r.charCodeAt(s),l=this.match(a,o);if(l)return this.value=l,this;if(s==r.length-1)break;o==i&&s<t.length&&t.charCodeAt(s)==a&&o++}}}match(e,t){let i=null;for(let r=0;r<this.matches.length;r+=2){let s=this.matches[r],o=!1;this.query.charCodeAt(s)==e&&(s==this.query.length-1?i={from:this.matches[r+1],to:t+1}:(this.matches[r]++,o=!0)),o||(this.matches.splice(r,2),r-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:t,to:t+1}:this.matches.push(1,t)),i}}typeof Symbol!="undefined"&&(gn.prototype[Symbol.iterator]=function(){return this});const fx={from:-1,to:-1,match:/.*/.exec("")},vh="gm"+(/x/.unicode==null?"":"u");class dx{constructor(e,t,i,r=0,s=e.length){if(this.to=s,this.curLine="",this.done=!1,this.value=fx,/\\[sWDnr]|\n|\r|\[\^/.test(t))return new px(e,t,i,r,s);this.re=new RegExp(t,vh+(i!=null&&i.ignoreCase?"i":"")),this.iter=e.iter();let o=e.lineAt(r);this.curLineStart=o.from,this.matchPos=r,this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let t=this.matchPos<=this.to&&this.re.exec(this.curLine);if(t){let i=this.curLineStart+t.index,r=i+t[0].length;if(this.matchPos=r+(i==r?1:0),i==this.curLine.length&&this.nextLine(),i<r||i>this.value.to)return this.value={from:i,to:r,match:t},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const da=new WeakMap;class ln{constructor(e,t){this.from=e,this.text=t}get to(){return this.from+this.text.length}static get(e,t,i){let r=da.get(e);if(!r||r.from>=i||r.to<=t){let a=new ln(t,e.sliceString(t,i));return da.set(e,a),a}if(r.from==t&&r.to==i)return r;let{text:s,from:o}=r;return o>t&&(s=e.sliceString(t,o)+s,o=t),r.to<i&&(s+=e.sliceString(r.to,i)),da.set(e,new ln(o,s)),new ln(t,s.slice(t-o,i-o))}}class px{constructor(e,t,i,r,s){this.text=e,this.to=s,this.done=!1,this.value=fx,this.matchPos=r,this.re=new RegExp(t,vh+(i!=null&&i.ignoreCase?"i":"")),this.flat=ln.get(e,r,this.chunkEnd(r+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,t=this.re.exec(this.flat.text);if(t&&!t[0]&&t.index==e&&(this.re.lastIndex=e+1,t=this.re.exec(this.flat.text)),t&&this.flat.to<this.to&&t.index+t[0].length>this.flat.text.length-10&&(t=null),t){let i=this.flat.from+t.index,r=i+t[0].length;return this.value={from:i,to:r,match:t},this.matchPos=r+(i==r?1:0),this}else{if(this.flat.to==this.to)return this.done=!0,this;this.flat=ln.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}}typeof Symbol!="undefined"&&(dx.prototype[Symbol.iterator]=px.prototype[Symbol.iterator]=function(){return this});function V2(n){try{return new RegExp(n,vh),!0}catch{return!1}}function El(n){let e=ue("input",{class:"cm-textfield",name:"line"}),t=ue("form",{class:"cm-gotoLine",onkeydown:r=>{r.keyCode==27?(r.preventDefault(),n.dispatch({effects:js.of(!1)}),n.focus()):r.keyCode==13&&(r.preventDefault(),i())},onsubmit:r=>{r.preventDefault(),i()}},ue("label",n.state.phrase("Go to line"),": ",e)," ",ue("button",{class:"cm-button",type:"submit"},n.state.phrase("go")));function i(){let r=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(e.value);if(!r)return;let{state:s}=n,o=s.doc.lineAt(s.selection.main.head),[,a,l,h,c]=r,u=h?+h.slice(1):0,d=l?+l:o.number;if(l&&c){let g=d/100;a&&(g=g*(a=="-"?-1:1)+o.number/s.doc.lines),d=Math.round(s.doc.lines*g)}else l&&a&&(d=d*(a=="-"?-1:1)+o.number);let x=s.doc.line(Math.max(1,Math.min(s.doc.lines,d)));n.dispatch({effects:js.of(!1),selection:$.cursor(x.from+Math.max(0,Math.min(u,x.length))),scrollIntoView:!0}),n.focus()}return{dom:t}}const js=j.define(),Xu=Ae.define({create(){return!0},update(n,e){for(let t of e.effects)t.is(js)&&(n=t.value);return n},provide:n=>dr.from(n,e=>e?El:null)}),Y2=n=>{let e=fr(n,El);if(!e){let t=[js.of(!0)];n.state.field(Xu,!1)==null&&t.push(j.appendConfig.of([Xu,J2])),n.dispatch({effects:t}),e=fr(n,El)}return e&&e.dom.querySelector("input").focus(),!0},J2=U.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px","& label":{fontSize:"80%"}}}),H2={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},xx=N.define({combine(n){return Kt(n,H2,{highlightWordAroundCursor:(e,t)=>e||t,minSelectionLength:Math.min,maxMatches:Math.min})}});function K2(n){let e=[rk,nk];return n&&e.push(xx.of(n)),e}const ek=X.mark({class:"cm-selectionMatch"}),tk=X.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function Uu(n,e,t,i){return(t==0||n(e.sliceDoc(t-1,t))!=ze.Word)&&(i==e.doc.length||n(e.sliceDoc(i,i+1))!=ze.Word)}function ik(n,e,t,i){return n(e.sliceDoc(t,t+1))==ze.Word&&n(e.sliceDoc(i-1,i))==ze.Word}const nk=we.fromClass(class{constructor(n){this.decorations=this.getDeco(n)}update(n){(n.selectionSet||n.docChanged||n.viewportChanged)&&(this.decorations=this.getDeco(n.view))}getDeco(n){let e=n.state.facet(xx),{state:t}=n,i=t.selection;if(i.ranges.length>1)return X.none;let r=i.main,s,o=null;if(r.empty){if(!e.highlightWordAroundCursor)return X.none;let l=t.wordAt(r.head);if(!l)return X.none;o=t.charCategorizer(r.head),s=t.sliceDoc(l.from,l.to)}else{let l=r.to-r.from;if(l<e.minSelectionLength||l>200)return X.none;if(e.wholeWords){if(s=t.sliceDoc(r.from,r.to),o=t.charCategorizer(r.head),!(Uu(o,t,r.from,r.to)&&ik(o,t,r.from,r.to)))return X.none}else if(s=t.sliceDoc(r.from,r.to).trim(),!s)return X.none}let a=[];for(let l of n.visibleRanges){let h=new gn(t.doc,s,l.from,l.to);for(;!h.next().done;){let{from:c,to:u}=h.value;if((!o||Uu(o,t,c,u))&&(r.empty&&c<=r.from&&u>=r.to?a.push(tk.range(c,u)):(c>=r.to||u<=r.from)&&a.push(ek.range(c,u)),a.length>e.maxMatches))return X.none}}return X.set(a)}},{decorations:n=>n.decorations}),rk=U.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),sk=({state:n,dispatch:e})=>{let{selection:t}=n,i=$.create(t.ranges.map(r=>n.wordAt(r.head)||$.cursor(r.head)),t.mainIndex);return i.eq(t)?!1:(e(n.update({selection:i})),!0)};function ok(n,e){let{main:t,ranges:i}=n.selection,r=n.wordAt(t.head),s=r&&r.from==t.from&&r.to==t.to;for(let o=!1,a=new gn(n.doc,e,i[i.length-1].to);;)if(a.next(),a.done){if(o)return null;a=new gn(n.doc,e,0,Math.max(0,i[i.length-1].from-1)),o=!0}else{if(o&&i.some(l=>l.from==a.value.from))continue;if(s){let l=n.wordAt(a.value.from);if(!l||l.from!=a.value.from||l.to!=a.value.to)continue}return a.value}}const ak=({state:n,dispatch:e})=>{let{ranges:t}=n.selection;if(t.some(s=>s.from===s.to))return sk({state:n,dispatch:e});let i=n.sliceDoc(t[0].from,t[0].to);if(n.selection.ranges.some(s=>n.sliceDoc(s.from,s.to)!=i))return!1;let r=ok(n,i);return r?(e(n.update({selection:n.selection.addRange($.range(r.from,r.to),!1),effects:U.scrollIntoView(r.to)})),!0):!1},kh=N.define({combine(n){var e;return{top:n.reduce((t,i)=>t!=null?t:i.top,void 0)||!1,caseSensitive:n.reduce((t,i)=>t!=null?t:i.caseSensitive,void 0)||!1,createPanel:((e=n.find(t=>t.createPanel))===null||e===void 0?void 0:e.createPanel)||(t=>new gk(t))}}});class mx{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||V2(this.search)),this.unquoted=e.literal?this.search:this.search.replace(/\\([nrt\\])/g,(t,i)=>i=="n"?`
`:i=="r"?"\r":i=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp}create(){return this.regexp?new hk(this):new lk(this)}getCursor(e,t=0,i=e.length){return this.regexp?Hi(this,e,t,i):Ji(this,e,t,i)}}class gx{constructor(e){this.spec=e}}function Ji(n,e,t,i){return new gn(e,n.unquoted,t,i,n.caseSensitive?void 0:r=>r.toLowerCase())}class lk extends gx{constructor(e){super(e)}nextMatch(e,t,i){let r=Ji(this.spec,e,i,e.length).nextOverlapping();return r.done&&(r=Ji(this.spec,e,0,t).nextOverlapping()),r.done?null:r.value}prevMatchInRange(e,t,i){for(let r=i;;){let s=Math.max(t,r-1e4-this.spec.unquoted.length),o=Ji(this.spec,e,s,r),a=null;for(;!o.nextOverlapping().done;)a=o.value;if(a)return a;if(s==t)return null;r-=1e4}}prevMatch(e,t,i){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,i,e.length)}getReplacement(e){return this.spec.replace}matchAll(e,t){let i=Ji(this.spec,e,0,e.length),r=[];for(;!i.next().done;){if(r.length>=t)return null;r.push(i.value)}return r}highlight(e,t,i,r){let s=Ji(this.spec,e,Math.max(0,t-this.spec.unquoted.length),Math.min(i+this.spec.unquoted.length,e.length));for(;!s.next().done;)r(s.value.from,s.value.to)}}function Hi(n,e,t,i){return new dx(e,n.search,n.caseSensitive?void 0:{ignoreCase:!0},t,i)}class hk extends gx{nextMatch(e,t,i){let r=Hi(this.spec,e,i,e.length).next();return r.done&&(r=Hi(this.spec,e,0,t).next()),r.done?null:r.value}prevMatchInRange(e,t,i){for(let r=1;;r++){let s=Math.max(t,i-r*1e4),o=Hi(this.spec,e,s,i),a=null;for(;!o.next().done;)a=o.value;if(a&&(s==t||a.from>s+10))return a;if(s==t)return null}}prevMatch(e,t,i){return this.prevMatchInRange(e,0,t)||this.prevMatchInRange(e,i,e.length)}getReplacement(e){return this.spec.replace.replace(/\$([$&\d+])/g,(t,i)=>i=="$"?"$":i=="&"?e.match[0]:i!="0"&&+i<e.match.length?e.match[i]:t)}matchAll(e,t){let i=Hi(this.spec,e,0,e.length),r=[];for(;!i.next().done;){if(r.length>=t)return null;r.push(i.value)}return r}highlight(e,t,i,r){let s=Hi(this.spec,e,Math.max(0,t-250),Math.min(i+250,e.length));for(;!s.next().done;)r(s.value.from,s.value.to)}}const gr=j.define(),Ch=j.define(),pi=Ae.define({create(n){return new pa(Tl(n).create(),null)},update(n,e){for(let t of e.effects)t.is(gr)?n=new pa(t.value.create(),n.panel):t.is(Ch)&&(n=new pa(n.query,t.value?Dh:null));return n},provide:n=>dr.from(n,e=>e.panel)});class pa{constructor(e,t){this.query=e,this.panel=t}}const ck=X.mark({class:"cm-searchMatch"}),uk=X.mark({class:"cm-searchMatch cm-searchMatch-selected"}),fk=we.fromClass(class{constructor(n){this.view=n,this.decorations=this.highlight(n.state.field(pi))}update(n){let e=n.state.field(pi);(e!=n.startState.field(pi)||n.docChanged||n.selectionSet||n.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:n,panel:e}){if(!e||!n.spec.valid)return X.none;let{view:t}=this,i=new gi;for(let r=0,s=t.visibleRanges,o=s.length;r<o;r++){let{from:a,to:l}=s[r];for(;r<o-1&&l>s[r+1].from-2*250;)l=s[++r].to;n.highlight(t.state.doc,a,l,(h,c)=>{let u=t.state.selection.ranges.some(d=>d.from==h&&d.to==c);i.add(h,c,u?uk:ck)})}return i.finish()}},{decorations:n=>n.decorations});function $r(n){return e=>{let t=e.state.field(pi,!1);return t&&t.query.spec.valid?n(e,t):Ox(e)}}const Zs=$r((n,{query:e})=>{let{from:t,to:i}=n.state.selection.main,r=e.nextMatch(n.state.doc,t,i);return!r||r.from==t&&r.to==i?!1:(n.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:Ah(n,r),userEvent:"select.search"}),!0)}),Gs=$r((n,{query:e})=>{let{state:t}=n,{from:i,to:r}=t.selection.main,s=e.prevMatch(t.doc,i,r);return s?(n.dispatch({selection:{anchor:s.from,head:s.to},scrollIntoView:!0,effects:Ah(n,s),userEvent:"select.search"}),!0):!1}),dk=$r((n,{query:e})=>{let t=e.matchAll(n.state.doc,1e3);return!t||!t.length?!1:(n.dispatch({selection:$.create(t.map(i=>$.range(i.from,i.to))),userEvent:"select.search.matches"}),!0)}),pk=({state:n,dispatch:e})=>{let t=n.selection;if(t.ranges.length>1||t.main.empty)return!1;let{from:i,to:r}=t.main,s=[],o=0;for(let a=new gn(n.doc,n.sliceDoc(i,r));!a.next().done;){if(s.length>1e3)return!1;a.value.from==i&&(o=s.length),s.push($.range(a.value.from,a.value.to))}return e(n.update({selection:$.create(s,o),userEvent:"select.search.matches"})),!0},zu=$r((n,{query:e})=>{let{state:t}=n,{from:i,to:r}=t.selection.main;if(t.readOnly)return!1;let s=e.nextMatch(t.doc,i,i);if(!s)return!1;let o=[],a,l;if(s.from==i&&s.to==r&&(l=t.toText(e.getReplacement(s)),o.push({from:s.from,to:s.to,insert:l}),s=e.nextMatch(t.doc,s.from,s.to)),s){let h=o.length==0||o[0].from>=s.to?0:s.to-s.from-l.length;a={anchor:s.from-h,head:s.to-h}}return n.dispatch({changes:o,selection:a,scrollIntoView:!!a,effects:s?Ah(n,s):void 0,userEvent:"input.replace"}),!0}),xk=$r((n,{query:e})=>{if(n.state.readOnly)return!1;let t=e.matchAll(n.state.doc,1e9).map(i=>{let{from:r,to:s}=i;return{from:r,to:s,insert:e.getReplacement(i)}});return t.length?(n.dispatch({changes:t,userEvent:"input.replace.all"}),!0):!1});function Dh(n){return n.state.facet(kh).createPanel(n)}function Tl(n,e){var t;let i=n.selection.main,r=i.empty||i.to>i.from+100?"":n.sliceDoc(i.from,i.to),s=(t=e==null?void 0:e.caseSensitive)!==null&&t!==void 0?t:n.facet(kh).caseSensitive;return e&&!r?e:new mx({search:r.replace(/\n/g,"\\n"),caseSensitive:s})}const Ox=n=>{let e=n.state.field(pi,!1);if(e&&e.panel){let t=fr(n,Dh);if(!t)return!1;let i=t.dom.querySelector("[name=search]");if(i!=n.root.activeElement){let r=Tl(n.state,e.query.spec);r.valid&&n.dispatch({effects:gr.of(r)}),i.focus(),i.select()}}else n.dispatch({effects:[Ch.of(!0),e?gr.of(Tl(n.state,e.query.spec)):j.appendConfig.of(yk)]});return!0},yx=n=>{let e=n.state.field(pi,!1);if(!e||!e.panel)return!1;let t=fr(n,Dh);return t&&t.dom.contains(n.root.activeElement)&&n.focus(),n.dispatch({effects:Ch.of(!1)}),!0},mk=[{key:"Mod-f",run:Ox,scope:"editor search-panel"},{key:"F3",run:Zs,shift:Gs,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Zs,shift:Gs,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:yx,scope:"editor search-panel"},{key:"Mod-Shift-l",run:pk},{key:"Alt-g",run:Y2},{key:"Mod-d",run:ak,preventDefault:!0}];class gk{constructor(e){this.view=e;let t=this.query=e.state.field(pi).query.spec;this.commit=this.commit.bind(this),this.searchField=ue("input",{value:t.search,placeholder:ht(e,"Find"),"aria-label":ht(e,"Find"),class:"cm-textfield",name:"search",onchange:this.commit,onkeyup:this.commit}),this.replaceField=ue("input",{value:t.replace,placeholder:ht(e,"Replace"),"aria-label":ht(e,"Replace"),class:"cm-textfield",name:"replace",onchange:this.commit,onkeyup:this.commit}),this.caseField=ue("input",{type:"checkbox",name:"case",checked:t.caseSensitive,onchange:this.commit}),this.reField=ue("input",{type:"checkbox",name:"re",checked:t.regexp,onchange:this.commit});function i(r,s,o){return ue("button",{class:"cm-button",name:r,onclick:s,type:"button"},o)}this.dom=ue("div",{onkeydown:r=>this.keydown(r),class:"cm-search"},[this.searchField,i("next",()=>Zs(e),[ht(e,"next")]),i("prev",()=>Gs(e),[ht(e,"previous")]),i("select",()=>dk(e),[ht(e,"all")]),ue("label",null,[this.caseField,ht(e,"match case")]),ue("label",null,[this.reField,ht(e,"regexp")]),...e.state.readOnly?[]:[ue("br"),this.replaceField,i("replace",()=>zu(e),[ht(e,"replace")]),i("replaceAll",()=>xk(e),[ht(e,"replace all")]),ue("button",{name:"close",onclick:()=>yx(e),"aria-label":ht(e,"close"),type:"button"},["\xD7"])]])}commit(){let e=new mx({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:gr.of(e)}))}keydown(e){_S(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?Gs:Zs)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),zu(this.view))}update(e){for(let t of e.transactions)for(let i of t.effects)i.is(gr)&&!i.value.eq(this.query)&&this.setQuery(i.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(kh).top}}function ht(n,e){return n.state.phrase(e)}const Hr=30,Kr=/[\s\.,:;?!]/;function Ah(n,{from:e,to:t}){let i=n.state.doc.lineAt(e).from,r=n.state.doc.lineAt(t).to,s=Math.max(i,e-Hr),o=Math.min(r,t+Hr),a=n.state.sliceDoc(s,o);if(s!=i){for(let l=0;l<Hr;l++)if(!Kr.test(a[l+1])&&Kr.test(a[l])){a=a.slice(l);break}}if(o!=r){for(let l=a.length-1;l>a.length-Hr;l--)if(!Kr.test(a[l-1])&&Kr.test(a[l])){a=a.slice(0,l);break}}return U.announce.of(`${n.state.phrase("current match")}. ${a} ${n.state.phrase("on line")} ${n.state.doc.lineAt(e).number}`)}const Ok=U.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),yk=[pi,Cn.lowest(fk),Ok];class bx{constructor(e,t,i){this.state=e,this.pos=t,this.explicit=i,this.abortListeners=[]}tokenBefore(e){let t=ve(this.state).resolveInner(this.pos,-1);for(;t&&e.indexOf(t.name)<0;)t=t.parent;return t?{from:t.from,to:this.pos,text:this.state.sliceDoc(t.from,this.pos),type:t.type}:null}matchBefore(e){let t=this.state.doc.lineAt(this.pos),i=Math.max(t.from,this.pos-250),r=t.text.slice(i-t.from,this.pos-t.from),s=r.search(Sx(e,!1));return s<0?null:{from:i+s,to:this.pos,text:r.slice(s)}}get aborted(){return this.abortListeners==null}addEventListener(e,t){e=="abort"&&this.abortListeners&&this.abortListeners.push(t)}}function _u(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function bk(n){let e=Object.create(null),t=Object.create(null);for(let{label:r}of n){e[r[0]]=!0;for(let s=1;s<r.length;s++)t[r[s]]=!0}let i=_u(e)+_u(t)+"*$";return[new RegExp("^"+i),new RegExp(i)]}function Sk(n){let e=n.map(r=>typeof r=="string"?{label:r}:r),[t,i]=e.every(r=>/^\w+$/.test(r.label))?[/\w*$/,/\w+$/]:bk(e);return r=>{let s=r.matchBefore(i);return s||r.explicit?{from:s?s.from:r.pos,options:e,validFor:t}:null}}class ju{constructor(e,t,i){this.completion=e,this.source=t,this.match=i}}function xi(n){return n.selection.main.head}function Sx(n,e){var t;let{source:i}=n,r=e&&i[0]!="^",s=i[i.length-1]!="$";return!r&&!s?n:new RegExp(`${r?"^":""}(?:${i})${s?"$":""}`,(t=n.flags)!==null&&t!==void 0?t:n.ignoreCase?"i":"")}function wk(n,e,t,i){return Object.assign(Object.assign({},n.changeByRange(r=>{if(r==n.selection.main)return{changes:{from:t,to:i,insert:e},range:$.cursor(t+e.length)};let s=i-t;return!r.empty||s&&n.sliceDoc(r.from-s,r.from)!=n.sliceDoc(t,i)?{range:r}:{changes:{from:r.from-s,to:r.from,insert:e},range:$.cursor(r.from-s+e.length)}})),{userEvent:"input.complete"})}function wx(n,e){const t=e.completion.apply||e.completion.label;let i=e.source;typeof t=="string"?n.dispatch(wk(n.state,t,i.from,i.to)):t(n,e.completion,i.from,i.to)}const Zu=new WeakMap;function vk(n){if(!Array.isArray(n))return n;let e=Zu.get(n);return e||Zu.set(n,e=Sk(n)),e}class kk{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[];for(let t=0;t<e.length;){let i=We(e,t),r=ut(i);this.chars.push(i);let s=e.slice(t,t+r),o=s.toUpperCase();this.folded.push(We(o==s?s.toLowerCase():o,0)),t+=r}this.astral=e.length!=this.chars.length}match(e){if(this.pattern.length==0)return[0];if(e.length<this.pattern.length)return null;let{chars:t,folded:i,any:r,precise:s,byWord:o}=this;if(t.length==1){let O=We(e,0);return O==t[0]?[0,0,ut(O)]:O==i[0]?[-200,0,ut(O)]:null}let a=e.indexOf(this.pattern);if(a==0)return[0,0,this.pattern.length];let l=t.length,h=0;if(a<0){for(let O=0,y=Math.min(e.length,200);O<y&&h<l;){let b=We(e,O);(b==t[h]||b==i[h])&&(r[h++]=O),O+=ut(b)}if(h<l)return null}let c=0,u=0,d=!1,x=0,g=-1,f=-1,p=/[a-z]/.test(e),m=!0;for(let O=0,y=Math.min(e.length,200),b=0;O<y&&u<l;){let w=We(e,O);a<0&&(c<l&&w==t[c]&&(s[c++]=O),x<l&&(w==t[x]||w==i[x]?(x==0&&(g=O),f=O+1,x++):x=0));let S,v=w<255?w>=48&&w<=57||w>=97&&w<=122?2:w>=65&&w<=90?1:0:(S=nh(w))!=S.toLowerCase()?1:S!=S.toUpperCase()?2:0;(!O||v==1&&p||b==0&&v!=0)&&(t[u]==w||i[u]==w&&(d=!0)?o[u++]=O:o.length&&(m=!1)),b=v,O+=ut(w)}return u==l&&o[0]==0&&m?this.result(-100+(d?-200:0),o,e):x==l&&g==0?[-200-e.length,0,f]:a>-1?[-700-e.length,a,a+this.pattern.length]:x==l?[-200+-700-e.length,g,f]:u==l?this.result(-100+(d?-200:0)+-700+(m?0:-1100),o,e):t.length==2?null:this.result((r[0]?-700:0)+-200+-1100,r,e)}result(e,t,i){let r=[e-i.length],s=1;for(let o of t){let a=o+(this.astral?ut(We(i,o)):1);s>1&&r[s-1]==o?r[s-1]=a:(r[s++]=o,r[s++]=a)}return r}}const wi=N.define({combine(n){return Kt(n,{activateOnTyping:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[]},{defaultKeymap:(e,t)=>e&&t,closeOnBlur:(e,t)=>e&&t,icons:(e,t)=>e&&t,optionClass:(e,t)=>i=>Ck(e(i),t(i)),addToOptions:(e,t)=>e.concat(t)})}});function Ck(n,e){return n?e?n+" "+e:n:e}function Dk(n){let e=n.addToOptions.slice();return n.icons&&e.push({render(t){let i=document.createElement("div");return i.classList.add("cm-completionIcon"),t.type&&i.classList.add(...t.type.split(/\s+/g).map(r=>"cm-completionIcon-"+r)),i.setAttribute("aria-hidden","true"),i},position:20}),e.push({render(t,i,r){let s=document.createElement("span");s.className="cm-completionLabel";let{label:o}=t,a=0;for(let l=1;l<r.length;){let h=r[l++],c=r[l++];h>a&&s.appendChild(document.createTextNode(o.slice(a,h)));let u=s.appendChild(document.createElement("span"));u.appendChild(document.createTextNode(o.slice(h,c))),u.className="cm-completionMatchedText",a=c}return a<o.length&&s.appendChild(document.createTextNode(o.slice(a))),s},position:50},{render(t){if(!t.detail)return null;let i=document.createElement("span");return i.className="cm-completionDetail",i.textContent=t.detail,i},position:80}),e.sort((t,i)=>t.position-i.position).map(t=>t.render)}function Gu(n,e,t){if(n<=t)return{from:0,to:n};if(e<=n>>1){let r=Math.floor(e/t);return{from:r*t,to:(r+1)*t}}let i=Math.floor((n-e)/t);return{from:n-(i+1)*t,to:n-i*t}}class Ak{constructor(e,t){this.view=e,this.stateField=t,this.info=null,this.placeInfo={read:()=>this.measureInfo(),write:a=>this.positionInfo(a),key:this};let i=e.state.field(t),{options:r,selected:s}=i.open,o=e.state.facet(wi);this.optionContent=Dk(o),this.optionClass=o.optionClass,this.range=Gu(r.length,s,o.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.dom.addEventListener("mousedown",a=>{for(let l=a.target,h;l&&l!=this.dom;l=l.parentNode)if(l.nodeName=="LI"&&(h=/-(\d+)$/.exec(l.id))&&+h[1]<r.length){wx(e,r[+h[1]]),a.preventDefault();return}}),this.list=this.dom.appendChild(this.createListBox(r,i.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfo)})}mount(){this.updateSel()}update(e){e.state.field(this.stateField)!=e.startState.field(this.stateField)&&this.updateSel()}positioned(){this.info&&this.view.requestMeasure(this.placeInfo)}updateSel(){let e=this.view.state.field(this.stateField),t=e.open;if((t.selected<this.range.from||t.selected>=this.range.to)&&(this.range=Gu(t.options.length,t.selected,this.view.state.facet(wi).maxRenderedOptions),this.list.remove(),this.list=this.dom.appendChild(this.createListBox(t.options,e.id,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfo)})),this.updateSelectedOption(t.selected)){this.info&&(this.info.remove(),this.info=null);let{completion:i}=t.options[t.selected],{info:r}=i;if(!r)return;let s=typeof r=="string"?document.createTextNode(r):r(i);if(!s)return;"then"in s?s.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o)}).catch(o=>lt(this.view.state,o,"completion info")):this.addInfoPane(s)}}addInfoPane(e){let t=this.info=document.createElement("div");t.className="cm-tooltip cm-completionInfo",t.appendChild(e),this.dom.appendChild(t),this.view.requestMeasure(this.placeInfo)}updateSelectedOption(e){let t=null;for(let i=this.list.firstChild,r=this.range.from;i;i=i.nextSibling,r++)r==e?i.hasAttribute("aria-selected")||(i.setAttribute("aria-selected","true"),t=i):i.hasAttribute("aria-selected")&&i.removeAttribute("aria-selected");return t&&Tk(this.list,t),t}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let t=this.dom.getBoundingClientRect(),i=this.info.getBoundingClientRect(),r=e.getBoundingClientRect();if(r.top>Math.min(innerHeight,t.bottom)-10||r.bottom<Math.max(0,t.top)+10)return null;let s=Math.max(0,Math.min(r.top,innerHeight-i.height))-t.top,o=this.view.textDirection==de.RTL,a=t.left,l=innerWidth-t.right;return o&&a<Math.min(i.width,l)?o=!1:!o&&l<Math.min(i.width,a)&&(o=!0),{top:s,left:o}}positionInfo(e){this.info&&(this.info.style.top=(e?e.top:-1e6)+"px",e&&(this.info.classList.toggle("cm-completionInfo-left",e.left),this.info.classList.toggle("cm-completionInfo-right",!e.left)))}createListBox(e,t,i){const r=document.createElement("ul");r.id=t,r.setAttribute("role","listbox"),r.setAttribute("aria-expanded","true"),r.setAttribute("aria-label",this.view.state.phrase("Completions"));for(let s=i.from;s<i.to;s++){let{completion:o,match:a}=e[s];const l=r.appendChild(document.createElement("li"));l.id=t+"-"+s,l.setAttribute("role","option");let h=this.optionClass(o);h&&(l.className=h);for(let c of this.optionContent){let u=c(o,this.view.state,a);u&&l.appendChild(u)}}return i.from&&r.classList.add("cm-completionListIncompleteTop"),i.to<e.length&&r.classList.add("cm-completionListIncompleteBottom"),r}}function Ek(n){return e=>new Ak(e,n)}function Tk(n,e){let t=n.getBoundingClientRect(),i=e.getBoundingClientRect();i.top<t.top?n.scrollTop-=t.top-i.top:i.bottom>t.bottom&&(n.scrollTop+=i.bottom-t.bottom)}function qu(n){return(n.boost||0)*100+(n.apply?10:0)+(n.info?5:0)+(n.type?1:0)}function Fk(n,e){let t=[],i=0;for(let o of n)if(o.hasResult())if(o.result.filter===!1){let a=o.result.getMatch;for(let l of o.result.options){let h=[1e9-i++];if(a)for(let c of a(l))h.push(c);t.push(new ju(l,o,h))}}else{let a=new kk(e.sliceDoc(o.from,o.to)),l;for(let h of o.result.options)(l=a.match(h.label))&&(h.boost!=null&&(l[0]+=h.boost),t.push(new ju(h,o,l)))}let r=[],s=null;for(let o of t.sort(Rk))!s||s.label!=o.completion.label||s.detail!=o.completion.detail||s.type!=null&&o.completion.type!=null&&s.type!=o.completion.type||s.apply!=o.completion.apply?r.push(o):qu(o.completion)>qu(s)&&(r[r.length-1]=o),s=o.completion;return r}class Hn{constructor(e,t,i,r,s){this.options=e,this.attrs=t,this.tooltip=i,this.timestamp=r,this.selected=s}setSelected(e,t){return e==this.selected||e>=this.options.length?this:new Hn(this.options,Vu(t,e),this.tooltip,this.timestamp,e)}static build(e,t,i,r,s){let o=Fk(e,t);if(!o.length)return null;let a=0;if(r&&r.selected){let l=r.options[r.selected].completion;for(let h=0;h<o.length;h++)if(o[h].completion==l){a=h;break}}return new Hn(o,Vu(i,a),{pos:e.reduce((l,h)=>h.hasResult()?Math.min(l,h.from):l,1e8),create:Ek(ft),above:s.aboveCursor},r?r.timestamp:Date.now(),a)}map(e){return new Hn(this.options,this.attrs,Object.assign(Object.assign({},this.tooltip),{pos:e.mapPos(this.tooltip.pos)}),this.timestamp,this.selected)}}class qs{constructor(e,t,i){this.active=e,this.id=t,this.open=i}static start(){return new qs(Pk,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:t}=e,i=t.facet(wi),s=(i.override||t.languageDataAt("autocomplete",xi(t)).map(vk)).map(a=>(this.active.find(h=>h.source==a)||new Ve(a,this.active.some(h=>h.state!=0)?1:0)).update(e,i));s.length==this.active.length&&s.every((a,l)=>a==this.active[l])&&(s=this.active);let o=e.selection||s.some(a=>a.hasResult()&&e.changes.touchesRange(a.from,a.to))||!$k(s,this.active)?Hn.build(s,t,this.id,this.open,i):this.open&&e.docChanged?this.open.map(e.changes):this.open;!o&&s.every(a=>a.state!=1)&&s.some(a=>a.hasResult())&&(s=s.map(a=>a.hasResult()?new Ve(a.source,0):a));for(let a of e.effects)a.is(kx)&&(o=o&&o.setSelected(a.value,this.id));return s==this.active&&o==this.open?this:new qs(s,this.id,o)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:Qk}}function $k(n,e){if(n==e)return!0;for(let t=0,i=0;;){for(;t<n.length&&!n[t].hasResult;)t++;for(;i<e.length&&!e[i].hasResult;)i++;let r=t==n.length,s=i==e.length;if(r||s)return r==s;if(n[t++].result!=e[i++].result)return!1}}const Qk={"aria-autocomplete":"list"};function Vu(n,e){return{"aria-autocomplete":"list","aria-haspopup":"listbox","aria-activedescendant":n+"-"+e,"aria-controls":n}}const Pk=[];function Rk(n,e){let t=e.match[0]-n.match[0];return t||n.completion.label.localeCompare(e.completion.label)}function Fl(n){return n.isUserEvent("input.type")?"input":n.isUserEvent("delete.backward")?"delete":null}class Ve{constructor(e,t,i=-1){this.source=e,this.state=t,this.explicitPos=i}hasResult(){return!1}update(e,t){let i=Fl(e),r=this;i?r=r.handleUserEvent(e,i,t):e.docChanged?r=r.handleChange(e):e.selection&&r.state!=0&&(r=new Ve(r.source,0));for(let s of e.effects)if(s.is(Eh))r=new Ve(r.source,1,s.value?xi(e.state):-1);else if(s.is(Vs))r=new Ve(r.source,0);else if(s.is(vx))for(let o of s.value)o.source==r.source&&(r=o);return r}handleUserEvent(e,t,i){return t=="delete"||!i.activateOnTyping?this.map(e.changes):new Ve(this.source,1)}handleChange(e){return e.changes.touchesRange(xi(e.startState))?new Ve(this.source,0):this.map(e.changes)}map(e){return e.empty||this.explicitPos<0?this:new Ve(this.source,this.state,e.mapPos(this.explicitPos))}}class Kn extends Ve{constructor(e,t,i,r,s){super(e,2,t),this.result=i,this.from=r,this.to=s}hasResult(){return!0}handleUserEvent(e,t,i){var r;let s=e.changes.mapPos(this.from),o=e.changes.mapPos(this.to,1),a=xi(e.state);if((this.explicitPos<0?a<=s:a<this.from)||a>o||t=="delete"&&xi(e.startState)==this.from)return new Ve(this.source,t=="input"&&i.activateOnTyping?1:0);let l=this.explicitPos<0?-1:e.changes.mapPos(this.explicitPos),h;return Ik(this.result.validFor,e.state,s,o)?new Kn(this.source,l,this.result,s,o):this.result.update&&(h=this.result.update(this.result,s,o,new bx(e.state,a,l>=0)))?new Kn(this.source,l,h,h.from,(r=h.to)!==null&&r!==void 0?r:xi(e.state)):new Ve(this.source,1,l)}handleChange(e){return e.changes.touchesRange(this.from,this.to)?new Ve(this.source,0):this.map(e.changes)}map(e){return e.empty?this:new Kn(this.source,this.explicitPos<0?-1:e.mapPos(this.explicitPos),this.result,e.mapPos(this.from),e.mapPos(this.to,1))}}function Ik(n,e,t,i){if(!n)return!1;let r=e.sliceDoc(t,i);return typeof n=="function"?n(r,t,i,e):Sx(n,!0).test(r)}const Eh=j.define(),Vs=j.define(),vx=j.define({map(n,e){return n.map(t=>t.map(e))}}),kx=j.define(),ft=Ae.define({create(){return qs.start()},update(n,e){return n.update(e)},provide:n=>[fh.from(n,e=>e.tooltip),U.contentAttributes.from(n,e=>e.attrs)]}),Cx=75;function es(n,e="option"){return t=>{let i=t.state.field(ft,!1);if(!i||!i.open||Date.now()-i.open.timestamp<Cx)return!1;let r=1,s;e=="page"&&(s=Tw(t,i.open.tooltip))&&(r=Math.max(2,Math.floor(s.dom.offsetHeight/s.dom.querySelector("li").offsetHeight)-1));let o=i.open.selected+r*(n?1:-1),{length:a}=i.open.options;return o<0?o=e=="page"?0:a-1:o>=a&&(o=e=="page"?a-1:0),t.dispatch({effects:kx.of(o)}),!0}}const Bk=n=>{let e=n.state.field(ft,!1);return n.state.readOnly||!e||!e.open||Date.now()-e.open.timestamp<Cx?!1:(wx(n,e.open.options[e.open.selected]),!0)},Mk=n=>n.state.field(ft,!1)?(n.dispatch({effects:Eh.of(!0)}),!0):!1,Wk=n=>{let e=n.state.field(ft,!1);return!e||!e.active.some(t=>t.state!=0)?!1:(n.dispatch({effects:Vs.of(null)}),!0)};class Nk{constructor(e,t){this.active=e,this.context=t,this.time=Date.now(),this.updates=[],this.done=void 0}}const Yu=50,Lk=50,Xk=1e3,Uk=we.fromClass(class{constructor(n){this.view=n,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.composing=0;for(let e of n.state.field(ft).active)e.state==1&&this.startQuery(e)}update(n){let e=n.state.field(ft);if(!n.selectionSet&&!n.docChanged&&n.startState.field(ft)==e)return;let t=n.transactions.some(i=>(i.selection||i.docChanged)&&!Fl(i));for(let i=0;i<this.running.length;i++){let r=this.running[i];if(t||r.updates.length+n.transactions.length>Lk&&Date.now()-r.time>Xk){for(let s of r.context.abortListeners)try{s()}catch(o){lt(this.view.state,o)}r.context.abortListeners=null,this.running.splice(i--,1)}else r.updates.push(...n.transactions)}if(this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),this.debounceUpdate=e.active.some(i=>i.state==1&&!this.running.some(r=>r.active.source==i.source))?setTimeout(()=>this.startUpdate(),Yu):-1,this.composing!=0)for(let i of n.transactions)Fl(i)=="input"?this.composing=2:this.composing==2&&i.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1;let{state:n}=this.view,e=n.field(ft);for(let t of e.active)t.state==1&&!this.running.some(i=>i.active.source==t.source)&&this.startQuery(t)}startQuery(n){let{state:e}=this.view,t=xi(e),i=new bx(e,t,n.explicitPos==t),r=new Nk(n,i);this.running.push(r),Promise.resolve(n.source(i)).then(s=>{r.context.aborted||(r.done=s||null,this.scheduleAccept())},s=>{this.view.dispatch({effects:Vs.of(null)}),lt(this.view.state,s)})}scheduleAccept(){this.running.every(n=>n.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),Yu))}accept(){var n;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],t=this.view.state.facet(wi);for(let i=0;i<this.running.length;i++){let r=this.running[i];if(r.done===void 0)continue;if(this.running.splice(i--,1),r.done){let o=new Kn(r.active.source,r.active.explicitPos,r.done,r.done.from,(n=r.done.to)!==null&&n!==void 0?n:xi(r.updates.length?r.updates[0].startState:this.view.state));for(let a of r.updates)o=o.update(a,t);if(o.hasResult()){e.push(o);continue}}let s=this.view.state.field(ft).active.find(o=>o.source==r.active.source);if(s&&s.state==1)if(r.done==null){let o=new Ve(r.active.source,0);for(let a of r.updates)o=o.update(a,t);o.state!=1&&e.push(o)}else this.startQuery(s)}e.length&&this.view.dispatch({effects:vx.of(e)})}},{eventHandlers:{blur(){let n=this.view.state.field(ft,!1);n&&n.tooltip&&this.view.state.facet(wi).closeOnBlur&&this.view.dispatch({effects:Vs.of(null)})},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:Eh.of(!1)}),20),this.composing=0}}}),zk=U.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",listStyle:"none",margin:0,padding:0,"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer",padding:"1px 3px",lineHeight:1.2}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xB7\xB7\xB7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"300px"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25CB'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25CC'"}},".cm-completionIcon-variable":{"&:after":{content:"'\u{1D465}'"}},".cm-completionIcon-constant":{"&:after":{content:"'\u{1D436}'"}},".cm-completionIcon-type":{"&:after":{content:"'\u{1D461}'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222A'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25A1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\u{1F511}\uFE0E'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25A2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),Ys={brackets:["(","[","{","'",'"'],before:")]}:;>"},$i=j.define({map(n,e){let t=e.mapPos(n,-1,Pe.TrackAfter);return t==null?void 0:t}}),Th=j.define({map(n,e){return e.mapPos(n)}}),Fh=new class extends mi{};Fh.startSide=1;Fh.endSide=-1;const Dx=Ae.define({create(){return re.empty},update(n,e){if(e.selection){let t=e.state.doc.lineAt(e.selection.main.head).from,i=e.startState.doc.lineAt(e.startState.selection.main.head).from;t!=e.changes.mapPos(i,-1)&&(n=re.empty)}n=n.map(e.changes);for(let t of e.effects)t.is($i)?n=n.update({add:[Fh.range(t.value,t.value+1)]}):t.is(Th)&&(n=n.update({filter:i=>i!=t.value}));return n}});function _k(){return[Zk,Dx]}const xa="()[]{}<>";function Ax(n){for(let e=0;e<xa.length;e+=2)if(xa.charCodeAt(e)==n)return xa.charAt(e+1);return nh(n<128?n:n+1)}function Ex(n,e){return n.languageDataAt("closeBrackets",e)[0]||Ys}const jk=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),Zk=U.inputHandler.of((n,e,t,i)=>{if((jk?n.composing:n.compositionStarted)||n.state.readOnly)return!1;let r=n.state.selection.main;if(i.length>2||i.length==2&&ut(We(i,0))==1||e!=r.from||t!=r.to)return!1;let s=Vk(n.state,i);return s?(n.dispatch(s),!0):!1}),Gk=({state:n,dispatch:e})=>{if(n.readOnly)return!1;let i=Ex(n,n.selection.main.head).brackets||Ys.brackets,r=null,s=n.changeByRange(o=>{if(o.empty){let a=Yk(n.doc,o.head);for(let l of i)if(l==a&&Do(n.doc,o.head)==Ax(We(l,0)))return{changes:{from:o.head-l.length,to:o.head+l.length},range:$.cursor(o.head-l.length),userEvent:"delete.backward"}}return{range:r=o}});return r||e(n.update(s,{scrollIntoView:!0})),!r},qk=[{key:"Backspace",run:Gk}];function Vk(n,e){let t=Ex(n,n.selection.main.head),i=t.brackets||Ys.brackets;for(let r of i){let s=Ax(We(r,0));if(e==r)return s==r?Kk(n,r,i.indexOf(r+r+r)>-1):Jk(n,r,s,t.before||Ys.before);if(e==s&&Tx(n,n.selection.main.from))return Hk(n,r,s)}return null}function Tx(n,e){let t=!1;return n.field(Dx).between(0,n.doc.length,i=>{i==e&&(t=!0)}),t}function Do(n,e){let t=n.sliceString(e,e+2);return t.slice(0,ut(We(t,0)))}function Yk(n,e){let t=n.sliceString(e-2,e);return ut(We(t,0))==t.length?t:t.slice(1)}function Jk(n,e,t,i){let r=null,s=n.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:t,from:o.to}],effects:$i.of(o.to+e.length),range:$.range(o.anchor+e.length,o.head+e.length)};let a=Do(n.doc,o.head);return!a||/\s/.test(a)||i.indexOf(a)>-1?{changes:{insert:e+t,from:o.head},effects:$i.of(o.head+e.length),range:$.cursor(o.head+e.length)}:{range:r=o}});return r?null:n.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function Hk(n,e,t){let i=null,r=n.selection.ranges.map(s=>s.empty&&Do(n.doc,s.head)==t?$.cursor(s.head+t.length):i=s);return i?null:n.update({selection:$.create(r,n.selection.mainIndex),scrollIntoView:!0,effects:n.selection.ranges.map(({from:s})=>Th.of(s))})}function Kk(n,e,t){let i=null,r=n.changeByRange(s=>{if(!s.empty)return{changes:[{insert:e,from:s.from},{insert:e,from:s.to}],effects:$i.of(s.to+e.length),range:$.range(s.anchor+e.length,s.head+e.length)};let o=s.head,a=Do(n.doc,o);if(a==e){if(Ju(n,o))return{changes:{insert:e+e,from:o},effects:$i.of(o+e.length),range:$.cursor(o+e.length)};if(Tx(n,o)){let l=t&&n.sliceDoc(o,o+e.length*3)==e+e+e;return{range:$.cursor(o+e.length*(l?3:1)),effects:Th.of(o)}}}else{if(t&&n.sliceDoc(o-2*e.length,o)==e+e&&Ju(n,o-2*e.length))return{changes:{insert:e+e+e+e,from:o},effects:$i.of(o+e.length),range:$.cursor(o+e.length)};if(n.charCategorizer(o)(a)!=ze.Word){let l=n.sliceDoc(o-1,o);if(l!=e&&n.charCategorizer(o)(l)!=ze.Word&&!eC(n,o,e))return{changes:{insert:e+e,from:o},effects:$i.of(o+e.length),range:$.cursor(o+e.length)}}}return{range:i=s}});return i?null:n.update(r,{scrollIntoView:!0,userEvent:"input.type"})}function Ju(n,e){let t=ve(n).resolveInner(e+1);return t.parent&&t.from==e}function eC(n,e,t){let i=ve(n).resolveInner(e,-1);for(let r=0;r<5;r++){if(n.sliceDoc(i.from,i.from+t.length)==t)return!0;let s=i.to==e&&i.parent;if(!s)break;i=s}return!1}function tC(n={}){return[ft,wi.of(n),Uk,iC,zk]}const Fx=[{key:"Ctrl-Space",run:Mk},{key:"Escape",run:Wk},{key:"ArrowDown",run:es(!0)},{key:"ArrowUp",run:es(!1)},{key:"PageDown",run:es(!0,"page")},{key:"PageUp",run:es(!1,"page")},{key:"Enter",run:Bk}],iC=Cn.highest(Ar.computeN([wi],n=>n.facet(wi).defaultKeymap?[Fx]:[]));class nC{constructor(e,t,i){this.from=e,this.to=t,this.diagnostic=i}}class Ai{constructor(e,t,i){this.diagnostics=e,this.panel=t,this.selected=i}static init(e,t,i){let r=e,s=i.facet(en).markerFilter;s&&(r=s(r));let o=X.set(r.map(a=>a.from==a.to||a.from==a.to-1&&i.doc.lineAt(a.from).to==a.from?X.widget({widget:new dC(a),diagnostic:a}).range(a.from):X.mark({attributes:{class:"cm-lintRange cm-lintRange-"+a.severity},diagnostic:a}).range(a.from,a.to)),!0);return new Ai(o,t,On(o))}}function On(n,e=null,t=0){let i=null;return n.between(t,1e9,(r,s,{spec:o})=>{if(!(e&&o.diagnostic!=e))return i=new nC(r,s,o.diagnostic),!1}),i}function rC(n,e){return!!(n.effects.some(t=>t.is($h))||n.changes.touchesRange(e.pos))}function $x(n,e){return n.field(at,!1)?e:e.concat(j.appendConfig.of([at,U.decorations.compute([at],t=>{let{selected:i,panel:r}=t.field(at);return!i||!r||i.from==i.to?X.none:X.set([oC.range(i.from,i.to)])}),Ew(aC,{hideOn:rC}),xC]))}function sC(n,e){return{effects:$x(n,[$h.of(e)])}}const $h=j.define(),Qh=j.define(),Qx=j.define(),at=Ae.define({create(){return new Ai(X.none,null,null)},update(n,e){if(e.docChanged){let t=n.diagnostics.map(e.changes),i=null;if(n.selected){let r=e.changes.mapPos(n.selected.from,1);i=On(t,n.selected.diagnostic,r)||On(t,null,r)}n=new Ai(t,n.panel,i)}for(let t of e.effects)t.is($h)?n=Ai.init(t.value,n.panel,e.state):t.is(Qh)?n=new Ai(n.diagnostics,t.value?Ao.open:null,n.selected):t.is(Qx)&&(n=new Ai(n.diagnostics,n.panel,t.value));return n},provide:n=>[dr.from(n,e=>e.panel),U.decorations.from(n,e=>e.diagnostics)]}),oC=X.mark({class:"cm-lintRange cm-lintRange-active"});function aC(n,e,t){let{diagnostics:i}=n.state.field(at),r=[],s=2e8,o=0;i.between(e-(t<0?1:0),e+(t>0?1:0),(l,h,{spec:c})=>{e>=l&&e<=h&&(l==h||(e>l||t>0)&&(e<h||t<0))&&(r.push(c.diagnostic),s=Math.min(l,s),o=Math.max(h,o))});let a=n.state.facet(en).tooltipFilter;return a&&(r=a(r)),r.length?{pos:s,end:o,above:n.state.doc.lineAt(s).to<o,create(){return{dom:lC(n,r)}}}:null}function lC(n,e){return ue("ul",{class:"cm-tooltip-lint"},e.map(t=>Rx(n,t,!1)))}const hC=n=>{let e=n.state.field(at,!1);(!e||!e.panel)&&n.dispatch({effects:$x(n.state,[Qh.of(!0)])});let t=fr(n,Ao.open);return t&&t.dom.querySelector(".cm-panel-lint ul").focus(),!0},Hu=n=>{let e=n.state.field(at,!1);return!e||!e.panel?!1:(n.dispatch({effects:Qh.of(!1)}),!0)},cC=n=>{let e=n.state.field(at,!1);if(!e)return!1;let t=n.state.selection.main,i=e.diagnostics.iter(t.to+1);return!i.value&&(i=e.diagnostics.iter(0),!i.value||i.from==t.from&&i.to==t.to)?!1:(n.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0}),!0)},uC=[{key:"Mod-Shift-m",run:hC},{key:"F8",run:cC}],fC=we.fromClass(class{constructor(n){this.view=n,this.timeout=-1,this.set=!0;let{delay:e}=n.state.facet(en);this.lintTime=Date.now()+e,this.run=this.run.bind(this),this.timeout=setTimeout(this.run,e)}run(){let n=Date.now();if(n<this.lintTime-10)setTimeout(this.run,this.lintTime-n);else{this.set=!1;let{state:e}=this.view,{sources:t}=e.facet(en);Promise.all(t.map(i=>Promise.resolve(i(this.view)))).then(i=>{let r=i.reduce((s,o)=>s.concat(o));this.view.state.doc==e.doc&&this.view.dispatch(sC(this.view.state,r))},i=>{lt(this.view.state,i)})}}update(n){let e=n.state.facet(en);(n.docChanged||e!=n.startState.facet(en))&&(this.lintTime=Date.now()+e.delay,this.set||(this.set=!0,this.timeout=setTimeout(this.run,e.delay)))}force(){this.set&&(this.lintTime=Date.now(),this.run())}destroy(){clearTimeout(this.timeout)}}),en=N.define({combine(n){return Object.assign({sources:n.map(e=>e.source)},Kt(n.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null}))},enables:fC});function Px(n){let e=[];if(n)e:for(let{name:t}of n){for(let i=0;i<t.length;i++){let r=t[i];if(/[a-zA-Z]/.test(r)&&!e.some(s=>s.toLowerCase()==r.toLowerCase())){e.push(r);continue e}}e.push("")}return e}function Rx(n,e,t){var i;let r=t?Px(e.actions):[];return ue("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},ue("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage():e.message),(i=e.actions)===null||i===void 0?void 0:i.map((s,o)=>{let a=u=>{u.preventDefault();let d=On(n.state.field(at).diagnostics,e);d&&s.apply(n,d.from,d.to)},{name:l}=s,h=r[o]?l.indexOf(r[o]):-1,c=h<0?l:[l.slice(0,h),ue("u",l.slice(h,h+1)),l.slice(h+1)];return ue("button",{type:"button",class:"cm-diagnosticAction",onclick:a,onmousedown:a,"aria-label":` Action: ${l}${h<0?"":` (access key "${r[o]})"`}.`},c)}),e.source&&ue("div",{class:"cm-diagnosticSource"},e.source))}class dC extends Xt{constructor(e){super(),this.diagnostic=e}eq(e){return e.diagnostic==this.diagnostic}toDOM(){return ue("span",{class:"cm-lintPoint cm-lintPoint-"+this.diagnostic.severity})}}class Ku{constructor(e,t){this.diagnostic=t,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=Rx(e,t,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class Ao{constructor(e){this.view=e,this.items=[];let t=r=>{if(r.keyCode==27)Hu(this.view),this.view.focus();else if(r.keyCode==38||r.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(r.keyCode==40||r.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(r.keyCode==36)this.moveSelection(0);else if(r.keyCode==35)this.moveSelection(this.items.length-1);else if(r.keyCode==13)this.view.focus();else if(r.keyCode>=65&&r.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:s}=this.items[this.selectedIndex],o=Px(s.actions);for(let a=0;a<o.length;a++)if(o[a].toUpperCase().charCodeAt(0)==r.keyCode){let l=On(this.view.state.field(at).diagnostics,s);l&&s.actions[a].apply(e,l.from,l.to)}}else return;r.preventDefault()},i=r=>{for(let s=0;s<this.items.length;s++)this.items[s].dom.contains(r.target)&&this.moveSelection(s)};this.list=ue("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:t,onclick:i}),this.dom=ue("div",{class:"cm-panel-lint"},this.list,ue("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>Hu(this.view)},"\xD7")),this.update()}get selectedIndex(){let e=this.view.state.field(at).selected;if(!e)return-1;for(let t=0;t<this.items.length;t++)if(this.items[t].diagnostic==e.diagnostic)return t;return-1}update(){let{diagnostics:e,selected:t}=this.view.state.field(at),i=0,r=!1,s=null;for(e.between(0,this.view.state.doc.length,(o,a,{spec:l})=>{let h=-1,c;for(let u=i;u<this.items.length;u++)if(this.items[u].diagnostic==l.diagnostic){h=u;break}h<0?(c=new Ku(this.view,l.diagnostic),this.items.splice(i,0,c),r=!0):(c=this.items[h],h>i&&(this.items.splice(i,h-i),r=!0)),t&&c.diagnostic==t.diagnostic?c.dom.hasAttribute("aria-selected")||(c.dom.setAttribute("aria-selected","true"),s=c):c.dom.hasAttribute("aria-selected")&&c.dom.removeAttribute("aria-selected"),i++});i<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)r=!0,this.items.pop();this.items.length==0&&(this.items.push(new Ku(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),r=!0),s?(this.list.setAttribute("aria-activedescendant",s.id),this.view.requestMeasure({key:this,read:()=>({sel:s.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:o,panel:a})=>{o.top<a.top?this.list.scrollTop-=a.top-o.top:o.bottom>a.bottom&&(this.list.scrollTop+=o.bottom-a.bottom)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),r&&this.sync()}sync(){let e=this.list.firstChild;function t(){let i=e;e=i.nextSibling,i.remove()}for(let i of this.items)if(i.dom.parentNode==this.list){for(;e!=i.dom;)t();e=i.dom.nextSibling}else this.list.insertBefore(i.dom,e);for(;e;)t()}moveSelection(e){if(this.selectedIndex<0)return;let t=this.view.state.field(at),i=On(t.diagnostics,this.items[e].diagnostic);!i||this.view.dispatch({selection:{anchor:i.from,head:i.to},scrollIntoView:!0,effects:Qx.of(i)})}static open(e){return new Ao(e)}}function pC(n,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(n)}</svg>')`}function ma(n){return pC(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${n}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const xC=U.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:ma("#d11")},".cm-lintRange-warning":{backgroundImage:ma("orange")},".cm-lintRange-info":{backgroundImage:ma("#999")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}}),mC=[Ww(),Xw(),sw(),i2(),Ev(),GS(),KS(),te.allowMultipleSelections.of(!0),xv(),Fv(Pv,{fallback:!0}),Lv(),_k(),tC(),gw(),bw(),uw(),K2(),Ar.of([...qk,...q2,...mk,...u2,...kv,...Fx,...uC])];class pe{constructor(){}lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,t,i){let r=[];return this.decompose(0,e,r,2),i.length&&i.decompose(0,i.length,r,3),this.decompose(t,this.length,r,1),Pt.from(r,this.length-(t-e)+i.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,t=this.length){let i=[];return this.decompose(e,t,i,0),Pt.from(i,t-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let t=this.scanIdentical(e,1),i=this.length-this.scanIdentical(e,-1),r=new er(this),s=new er(e);for(let o=t,a=t;;){if(r.next(o),s.next(o),o=0,r.lineBreak!=s.lineBreak||r.done!=s.done||r.value!=s.value)return!1;if(a+=r.value.length,r.done||a>=i)return!0}}iter(e=1){return new er(this,e)}iterRange(e,t=this.length){return new Ix(this,e,t)}iterLines(e,t){let i;if(e==null)i=this.iter();else{t==null&&(t=this.lines+1);let r=this.line(e).from;i=this.iterRange(r,Math.max(r,t==this.lines+1?this.length:t<=1?0:this.line(t-1).to))}return new Bx(i)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?pe.empty:e.length<=32?new ye(e):Pt.from(ye.split(e,[]))}}class ye extends pe{constructor(e,t=gC(e)){super(),this.text=e,this.length=t}get lines(){return this.text.length}get children(){return null}lineInner(e,t,i,r){for(let s=0;;s++){let o=this.text[s],a=r+o.length;if((t?i:a)>=e)return new OC(r,a,i,o);r=a+1,i++}}decompose(e,t,i,r){let s=e<=0&&t>=this.length?this:new ye(ef(this.text,e,t),Math.min(t,this.length)-Math.max(0,e));if(r&1){let o=i.pop(),a=ms(s.text,o.text.slice(),0,s.length);if(a.length<=32)i.push(new ye(a,o.length+s.length));else{let l=a.length>>1;i.push(new ye(a.slice(0,l)),new ye(a.slice(l)))}}else i.push(s)}replace(e,t,i){if(!(i instanceof ye))return super.replace(e,t,i);let r=ms(this.text,ms(i.text,ef(this.text,0,e)),t),s=this.length+i.length-(t-e);return r.length<=32?new ye(r,s):Pt.from(ye.split(r,[]),s)}sliceString(e,t=this.length,i=`
`){let r="";for(let s=0,o=0;s<=t&&o<this.text.length;o++){let a=this.text[o],l=s+a.length;s>e&&o&&(r+=i),e<l&&t>s&&(r+=a.slice(Math.max(0,e-s),t-s)),s=l+1}return r}flatten(e){for(let t of this.text)e.push(t)}scanIdentical(){return 0}static split(e,t){let i=[],r=-1;for(let s of e)i.push(s),r+=s.length+1,i.length==32&&(t.push(new ye(i,r)),i=[],r=-1);return r>-1&&t.push(new ye(i,r)),t}}class Pt extends pe{constructor(e,t){super(),this.children=e,this.length=t,this.lines=0;for(let i of e)this.lines+=i.lines}lineInner(e,t,i,r){for(let s=0;;s++){let o=this.children[s],a=r+o.length,l=i+o.lines-1;if((t?l:a)>=e)return o.lineInner(e,t,i,r);r=a+1,i=l+1}}decompose(e,t,i,r){for(let s=0,o=0;o<=t&&s<this.children.length;s++){let a=this.children[s],l=o+a.length;if(e<=l&&t>=o){let h=r&((o<=e?1:0)|(l>=t?2:0));o>=e&&l<=t&&!h?i.push(a):a.decompose(e-o,t-o,i,h)}o=l+1}}replace(e,t,i){if(i.lines<this.lines)for(let r=0,s=0;r<this.children.length;r++){let o=this.children[r],a=s+o.length;if(e>=s&&t<=a){let l=o.replace(e-s,t-s,i),h=this.lines-o.lines+l.lines;if(l.lines<h>>5-1&&l.lines>h>>5+1){let c=this.children.slice();return c[r]=l,new Pt(c,this.length-(t-e)+i.length)}return super.replace(s,a,l)}s=a+1}return super.replace(e,t,i)}sliceString(e,t=this.length,i=`
`){let r="";for(let s=0,o=0;s<this.children.length&&o<=t;s++){let a=this.children[s],l=o+a.length;o>e&&s&&(r+=i),e<l&&t>o&&(r+=a.sliceString(e-o,t-o,i)),o=l+1}return r}flatten(e){for(let t of this.children)t.flatten(e)}scanIdentical(e,t){if(!(e instanceof Pt))return 0;let i=0,[r,s,o,a]=t>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;r+=t,s+=t){if(r==o||s==a)return i;let l=this.children[r],h=e.children[s];if(l!=h)return i+l.scanIdentical(h,t);i+=l.length+1}}static from(e,t=e.reduce((i,r)=>i+r.length+1,-1)){let i=0;for(let x of e)i+=x.lines;if(i<32){let x=[];for(let g of e)g.flatten(x);return new ye(x,t)}let r=Math.max(32,i>>5),s=r<<1,o=r>>1,a=[],l=0,h=-1,c=[];function u(x){let g;if(x.lines>s&&x instanceof Pt)for(let f of x.children)u(f);else x.lines>o&&(l>o||!l)?(d(),a.push(x)):x instanceof ye&&l&&(g=c[c.length-1])instanceof ye&&x.lines+g.lines<=32?(l+=x.lines,h+=x.length+1,c[c.length-1]=new ye(g.text.concat(x.text),g.length+1+x.length)):(l+x.lines>r&&d(),l+=x.lines,h+=x.length+1,c.push(x))}function d(){l!=0&&(a.push(c.length==1?c[0]:Pt.from(c,h)),h=-1,l=c.length=0)}for(let x of e)u(x);return d(),a.length==1?a[0]:new Pt(a,t)}}pe.empty=new ye([""],0);function gC(n){let e=-1;for(let t of n)e+=t.length+1;return e}function ms(n,e,t=0,i=1e9){for(let r=0,s=0,o=!0;s<n.length&&r<=i;s++){let a=n[s],l=r+a.length;l>=t&&(l>i&&(a=a.slice(0,i-r)),r<t&&(a=a.slice(t-r)),o?(e[e.length-1]+=a,o=!1):e.push(a)),r=l+1}return e}function ef(n,e,t){return ms(n,[""],e,t)}class er{constructor(e,t=1){this.dir=t,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[t>0?1:(e instanceof ye?e.text.length:e.children.length)<<1]}nextInner(e,t){for(this.done=this.lineBreak=!1;;){let i=this.nodes.length-1,r=this.nodes[i],s=this.offsets[i],o=s>>1,a=r instanceof ye?r.text.length:r.children.length;if(o==(t>0?a:0)){if(i==0)return this.done=!0,this.value="",this;t>0&&this.offsets[i-1]++,this.nodes.pop(),this.offsets.pop()}else if((s&1)==(t>0?0:1)){if(this.offsets[i]+=t,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(r instanceof ye){let l=r.text[o+(t<0?-1:0)];if(this.offsets[i]+=t,l.length>Math.max(0,e))return this.value=e==0?l:t>0?l.slice(e):l.slice(0,l.length-e),this;e-=l.length}else{let l=r.children[o+(t<0?-1:0)];e>l.length?(e-=l.length,this.offsets[i]+=t):(t<0&&this.offsets[i]--,this.nodes.push(l),this.offsets.push(t>0?1:(l instanceof ye?l.text.length:l.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class Ix{constructor(e,t,i){this.value="",this.done=!1,this.cursor=new er(e,t>i?-1:1),this.pos=t>i?e.length:0,this.from=Math.min(t,i),this.to=Math.max(t,i)}nextInner(e,t){if(t<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,t<0?this.pos-this.to:this.from-this.pos);let i=t<0?this.pos-this.from:this.to-this.pos;e>i&&(e=i),i-=e;let{value:r}=this.cursor.next(e);return this.pos+=(r.length+e)*t,this.value=r.length<=i?r:t<0?r.slice(r.length-i):r.slice(0,i),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class Bx{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:t,lineBreak:i,value:r}=this.inner.next(e);return t?(this.done=!0,this.value=""):i?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=r,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol!="undefined"&&(pe.prototype[Symbol.iterator]=function(){return this.iter()},er.prototype[Symbol.iterator]=Ix.prototype[Symbol.iterator]=Bx.prototype[Symbol.iterator]=function(){return this});class OC{constructor(e,t,i,r){this.from=e,this.to=t,this.number=i,this.text=r}get length(){return this.to-this.from}}let hn="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(n=>n?parseInt(n,36):1);for(let n=1;n<hn.length;n++)hn[n]+=hn[n-1];function yC(n){for(let e=1;e<hn.length;e+=2)if(hn[e]>n)return hn[e-1]<=n;return!1}function tf(n){return n>=127462&&n<=127487}const nf=8205;function Qi(n,e,t=!0,i=!0){return(t?Mx:bC)(n,e,i)}function Mx(n,e,t){if(e==n.length)return e;e&&Wx(n.charCodeAt(e))&&Nx(n.charCodeAt(e-1))&&e--;let i=ga(n,e);for(e+=rf(i);e<n.length;){let r=ga(n,e);if(i==nf||r==nf||t&&yC(r))e+=rf(r),i=r;else if(tf(r)){let s=0,o=e-2;for(;o>=0&&tf(ga(n,o));)s++,o-=2;if(s%2==0)break;e+=2}else break}return e}function bC(n,e,t){for(;e>0;){let i=Mx(n,e-2,t);if(i<e)return i;e--}return 0}function Wx(n){return n>=56320&&n<57344}function Nx(n){return n>=55296&&n<56320}function ga(n,e){let t=n.charCodeAt(e);if(!Nx(t)||e+1==n.length)return t;let i=n.charCodeAt(e+1);return Wx(i)?(t-55296<<10)+(i-56320)+65536:t}function rf(n){return n<65536?1:2}const $l=/\r\n?|\n/;var rt=function(n){return n[n.Simple=0]="Simple",n[n.TrackDel=1]="TrackDel",n[n.TrackBefore=2]="TrackBefore",n[n.TrackAfter=3]="TrackAfter",n}(rt||(rt={}));class Vt{constructor(e){this.sections=e}get length(){let e=0;for(let t=0;t<this.sections.length;t+=2)e+=this.sections[t];return e}get newLength(){let e=0;for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t+1];e+=i<0?this.sections[t]:i}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let t=0,i=0,r=0;t<this.sections.length;){let s=this.sections[t++],o=this.sections[t++];o<0?(e(i,r,s),r+=s):r+=o,i+=s}}iterChangedRanges(e,t=!1){Ql(this,e,t)}get invertedDesc(){let e=[];for(let t=0;t<this.sections.length;){let i=this.sections[t++],r=this.sections[t++];r<0?e.push(i,r):e.push(r,i)}return new Vt(e)}composeDesc(e){return this.empty?e:e.empty?this:Lx(this,e)}mapDesc(e,t=!1){return e.empty?this:Pl(this,e,t)}mapPos(e,t=-1,i=rt.Simple){let r=0,s=0;for(let o=0;o<this.sections.length;){let a=this.sections[o++],l=this.sections[o++],h=r+a;if(l<0){if(h>e)return s+(e-r);s+=a}else{if(i!=rt.Simple&&h>=e&&(i==rt.TrackDel&&r<e&&h>e||i==rt.TrackBefore&&r<e||i==rt.TrackAfter&&h>e))return null;if(h>e||h==e&&t<0&&!a)return e==r||t<0?s:s+l;s+=l}r=h}if(e>r)throw new RangeError(`Position ${e} is out of range for changeset of length ${r}`);return s}touchesRange(e,t=e){for(let i=0,r=0;i<this.sections.length&&r<=t;){let s=this.sections[i++],o=this.sections[i++],a=r+s;if(o>=0&&r<=t&&a>=e)return r<e&&a>t?"cover":!0;r=a}return!1}toString(){let e="";for(let t=0;t<this.sections.length;){let i=this.sections[t++],r=this.sections[t++];e+=(e?" ":"")+i+(r>=0?":"+r:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(t=>typeof t!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Vt(e)}static create(e){return new Vt(e)}}class Be extends Vt{constructor(e,t){super(e),this.inserted=t}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return Ql(this,(t,i,r,s,o)=>e=e.replace(r,r+(i-t),o),!1),e}mapDesc(e,t=!1){return Pl(this,e,t,!0)}invert(e){let t=this.sections.slice(),i=[];for(let r=0,s=0;r<t.length;r+=2){let o=t[r],a=t[r+1];if(a>=0){t[r]=a,t[r+1]=o;let l=r>>1;for(;i.length<l;)i.push(pe.empty);i.push(o?e.slice(s,s+o):pe.empty)}s+=o}return new Be(t,i)}compose(e){return this.empty?e:e.empty?this:Lx(this,e,!0)}map(e,t=!1){return e.empty?this:Pl(this,e,t,!0)}iterChanges(e,t=!1){Ql(this,e,t)}get desc(){return Vt.create(this.sections)}filter(e){let t=[],i=[],r=[],s=new Or(this);e:for(let o=0,a=0;;){let l=o==e.length?1e9:e[o++];for(;a<l||a==l&&s.len==0;){if(s.done)break e;let c=Math.min(s.len,l-a);Me(r,c,-1);let u=s.ins==-1?-1:s.off==0?s.ins:0;Me(t,c,u),u>0&&ui(i,t,s.text),s.forward(c),a+=c}let h=e[o++];for(;a<h;){if(s.done)break e;let c=Math.min(s.len,h-a);Me(t,c,-1),Me(r,c,s.ins==-1?-1:s.off==0?s.ins:0),s.forward(c),a+=c}}return{changes:new Be(t,i),filtered:Vt.create(r)}}toJSON(){let e=[];for(let t=0;t<this.sections.length;t+=2){let i=this.sections[t],r=this.sections[t+1];r<0?e.push(i):r==0?e.push([i]):e.push([i].concat(this.inserted[t>>1].toJSON()))}return e}static of(e,t,i){let r=[],s=[],o=0,a=null;function l(c=!1){if(!c&&!r.length)return;o<t&&Me(r,t-o,-1);let u=new Be(r,s);a=a?a.compose(u.map(a)):u,r=[],s=[],o=0}function h(c){if(Array.isArray(c))for(let u of c)h(u);else if(c instanceof Be){if(c.length!=t)throw new RangeError(`Mismatched change set length (got ${c.length}, expected ${t})`);l(),a=a?a.compose(c.map(a)):c}else{let{from:u,to:d=u,insert:x}=c;if(u>d||u<0||d>t)throw new RangeError(`Invalid change range ${u} to ${d} (in doc of length ${t})`);let g=x?typeof x=="string"?pe.of(x.split(i||$l)):x:pe.empty,f=g.length;if(u==d&&f==0)return;u<o&&l(),u>o&&Me(r,u-o,-1),Me(r,d-u,f),ui(s,r,g),o=d}}return h(e),l(!a),a}static empty(e){return new Be(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let t=[],i=[];for(let r=0;r<e.length;r++){let s=e[r];if(typeof s=="number")t.push(s,-1);else{if(!Array.isArray(s)||typeof s[0]!="number"||s.some((o,a)=>a&&typeof o!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(s.length==1)t.push(s[0],0);else{for(;i.length<r;)i.push(pe.empty);i[r]=pe.of(s.slice(1)),t.push(s[0],i[r].length)}}}return new Be(t,i)}static createSet(e,t){return new Be(e,t)}}function Me(n,e,t,i=!1){if(e==0&&t<=0)return;let r=n.length-2;r>=0&&t<=0&&t==n[r+1]?n[r]+=e:e==0&&n[r]==0?n[r+1]+=t:i?(n[r]+=e,n[r+1]+=t):n.push(e,t)}function ui(n,e,t){if(t.length==0)return;let i=e.length-2>>1;if(i<n.length)n[n.length-1]=n[n.length-1].append(t);else{for(;n.length<i;)n.push(pe.empty);n.push(t)}}function Ql(n,e,t){let i=n.inserted;for(let r=0,s=0,o=0;o<n.sections.length;){let a=n.sections[o++],l=n.sections[o++];if(l<0)r+=a,s+=a;else{let h=r,c=s,u=pe.empty;for(;h+=a,c+=l,l&&i&&(u=u.append(i[o-2>>1])),!(t||o==n.sections.length||n.sections[o+1]<0);)a=n.sections[o++],l=n.sections[o++];e(r,h,s,c,u),r=h,s=c}}}function Pl(n,e,t,i=!1){let r=[],s=i?[]:null,o=new Or(n),a=new Or(e);for(let l=-1;;)if(o.ins==-1&&a.ins==-1){let h=Math.min(o.len,a.len);Me(r,h,-1),o.forward(h),a.forward(h)}else if(a.ins>=0&&(o.ins<0||l==o.i||o.off==0&&(a.len<o.len||a.len==o.len&&!t))){let h=a.len;for(Me(r,a.ins,-1);h;){let c=Math.min(o.len,h);o.ins>=0&&l<o.i&&o.len<=c&&(Me(r,0,o.ins),s&&ui(s,r,o.text),l=o.i),o.forward(c),h-=c}a.next()}else if(o.ins>=0){let h=0,c=o.len;for(;c;)if(a.ins==-1){let u=Math.min(c,a.len);h+=u,c-=u,a.forward(u)}else if(a.ins==0&&a.len<c)c-=a.len,a.next();else break;Me(r,h,l<o.i?o.ins:0),s&&l<o.i&&ui(s,r,o.text),l=o.i,o.forward(o.len-c)}else{if(o.done&&a.done)return s?Be.createSet(r,s):Vt.create(r);throw new Error("Mismatched change set lengths")}}function Lx(n,e,t=!1){let i=[],r=t?[]:null,s=new Or(n),o=new Or(e);for(let a=!1;;){if(s.done&&o.done)return r?Be.createSet(i,r):Vt.create(i);if(s.ins==0)Me(i,s.len,0,a),s.next();else if(o.len==0&&!o.done)Me(i,0,o.ins,a),r&&ui(r,i,o.text),o.next();else{if(s.done||o.done)throw new Error("Mismatched change set lengths");{let l=Math.min(s.len2,o.len),h=i.length;if(s.ins==-1){let c=o.ins==-1?-1:o.off?0:o.ins;Me(i,l,c,a),r&&c&&ui(r,i,o.text)}else o.ins==-1?(Me(i,s.off?0:s.len,l,a),r&&ui(r,i,s.textBit(l))):(Me(i,s.off?0:s.len,o.off?0:o.ins,a),r&&!o.off&&ui(r,i,o.text));a=(s.ins>l||o.ins>=0&&o.len>l)&&(a||i.length>h),s.forward2(l),o.forward(l)}}}}class Or{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,t=this.i-2>>1;return t>=e.length?pe.empty:e[t]}textBit(e){let{inserted:t}=this.set,i=this.i-2>>1;return i>=t.length&&!e?pe.empty:t[i].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class Pi{constructor(e,t,i){this.from=e,this.to=t,this.flags=i}get anchor(){return this.flags&16?this.to:this.from}get head(){return this.flags&16?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&4?-1:this.flags&8?1:0}get bidiLevel(){let e=this.flags&3;return e==3?null:e}get goalColumn(){let e=this.flags>>5;return e==33554431?void 0:e}map(e,t=-1){let i,r;return this.empty?i=r=e.mapPos(this.from,t):(i=e.mapPos(this.from,1),r=e.mapPos(this.to,-1)),i==this.from&&r==this.to?this:new Pi(i,r,this.flags)}extend(e,t=e){if(e<=this.anchor&&t>=this.anchor)return H.range(e,t);let i=Math.abs(e-this.anchor)>Math.abs(t-this.anchor)?e:t;return H.range(this.anchor,i)}eq(e){return this.anchor==e.anchor&&this.head==e.head}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return H.range(e.anchor,e.head)}static create(e,t,i){return new Pi(e,t,i)}}class H{constructor(e,t){this.ranges=e,this.mainIndex=t}map(e,t=-1){return e.empty?this:H.create(this.ranges.map(i=>i.map(e,t)),this.mainIndex)}eq(e){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let t=0;t<this.ranges.length;t++)if(!this.ranges[t].eq(e.ranges[t]))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new H([this.main],0)}addRange(e,t=!0){return H.create([e].concat(this.ranges),t?0:this.mainIndex+1)}replaceRange(e,t=this.mainIndex){let i=this.ranges.slice();return i[t]=e,H.create(i,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new H(e.ranges.map(t=>Pi.fromJSON(t)),e.main)}static single(e,t=e){return new H([H.range(e,t)],0)}static create(e,t=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let i=0,r=0;r<e.length;r++){let s=e[r];if(s.empty?s.from<=i:s.from<i)return H.normalized(e.slice(),t);i=s.to}return new H(e,t)}static cursor(e,t=0,i,r){return Pi.create(e,e,(t==0?0:t<0?4:8)|(i==null?3:Math.min(2,i))|(r!=null?r:33554431)<<5)}static range(e,t,i){let r=(i!=null?i:33554431)<<5;return t<e?Pi.create(t,e,16|r|8):Pi.create(e,t,r|(t>e?4:0))}static normalized(e,t=0){let i=e[t];e.sort((r,s)=>r.from-s.from),t=e.indexOf(i);for(let r=1;r<e.length;r++){let s=e[r],o=e[r-1];if(s.empty?s.from<=o.to:s.from<o.to){let a=o.from,l=Math.max(s.to,o.to);r<=t&&t--,e.splice(--r,2,s.anchor>s.head?H.range(l,a):H.range(a,l))}}return new H(e,t)}}function Xx(n,e){for(let t of n.ranges)if(t.to>e)throw new RangeError("Selection points outside of document")}let Ph=0;class Ie{constructor(e,t,i,r,s){this.combine=e,this.compareInput=t,this.compare=i,this.isStatic=r,this.id=Ph++,this.default=e([]),this.extensions=typeof s=="function"?s(this):s}static define(e={}){return new Ie(e.combine||(t=>t),e.compareInput||((t,i)=>t===i),e.compare||(e.combine?(t,i)=>t===i:Rh),!!e.static,e.enables)}of(e){return new gs([],this,0,e)}compute(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new gs(e,this,1,t)}computeN(e,t){if(this.isStatic)throw new Error("Can't compute a static facet");return new gs(e,this,2,t)}from(e,t){return t||(t=i=>i),this.compute([e],i=>t(i.field(e)))}}function Rh(n,e){return n==e||n.length==e.length&&n.every((t,i)=>t===e[i])}class gs{constructor(e,t,i,r){this.dependencies=e,this.facet=t,this.type=i,this.value=r,this.id=Ph++}dynamicSlot(e){var t;let i=this.value,r=this.facet.compareInput,s=this.id,o=e[s]>>1,a=this.type==2,l=!1,h=!1,c=[];for(let u of this.dependencies)u=="doc"?l=!0:u=="selection"?h=!0:(((t=e[u.id])!==null&&t!==void 0?t:1)&1)==0&&c.push(e[u.id]);return{create(u){return u.values[o]=i(u),1},update(u,d){if(l&&d.docChanged||h&&(d.docChanged||d.selection)||Rl(u,c)){let x=i(u);if(a?!sf(x,u.values[o],r):!r(x,u.values[o]))return u.values[o]=x,1}return 0},reconfigure:(u,d)=>{let x=i(u),g=d.config.address[s];if(g!=null){let f=Hs(d,g);if(this.dependencies.every(p=>p instanceof Ie?d.facet(p)===u.facet(p):p instanceof An?d.field(p,!1)==u.field(p,!1):!0)||(a?sf(x,f,r):r(x,f)))return u.values[o]=f,0}return u.values[o]=x,1}}}}function sf(n,e,t){if(n.length!=e.length)return!1;for(let i=0;i<n.length;i++)if(!t(n[i],e[i]))return!1;return!0}function Rl(n,e){let t=!1;for(let i of e)tr(n,i)&1&&(t=!0);return t}function SC(n,e,t){let i=t.map(l=>n[l.id]),r=t.map(l=>l.type),s=i.filter(l=>!(l&1)),o=n[e.id]>>1;function a(l){let h=[];for(let c=0;c<i.length;c++){let u=Hs(l,i[c]);if(r[c]==2)for(let d of u)h.push(d);else h.push(u)}return e.combine(h)}return{create(l){for(let h of i)tr(l,h);return l.values[o]=a(l),1},update(l,h){if(!Rl(l,s))return 0;let c=a(l);return e.compare(c,l.values[o])?0:(l.values[o]=c,1)},reconfigure(l,h){let c=Rl(l,i),u=h.config.facets[e.id],d=h.facet(e);if(u&&!c&&Rh(t,u))return l.values[o]=d,0;let x=a(l);return e.compare(x,d)?(l.values[o]=d,0):(l.values[o]=x,1)}}}const of=Ie.define({static:!0});class An{constructor(e,t,i,r,s){this.id=e,this.createF=t,this.updateF=i,this.compareF=r,this.spec=s,this.provides=void 0}static define(e){let t=new An(Ph++,e.create,e.update,e.compare||((i,r)=>i===r),e);return e.provide&&(t.provides=e.provide(t)),t}create(e){let t=e.facet(of).find(i=>i.field==this);return((t==null?void 0:t.create)||this.createF)(e)}slot(e){let t=e[this.id]>>1;return{create:i=>(i.values[t]=this.create(i),1),update:(i,r)=>{let s=i.values[t],o=this.updateF(s,r);return this.compareF(s,o)?0:(i.values[t]=o,1)},reconfigure:(i,r)=>r.config.address[this.id]!=null?(i.values[t]=r.field(this),0):(i.values[t]=this.create(i),1)}}init(e){return[this,of.of({field:this,create:e})]}get extension(){return this}}const wC={lowest:4,low:3,default:2,high:1,highest:0};class vC{constructor(e,t){this.inner=e,this.prec=t}}class Eo{of(e){return new Il(this,e)}reconfigure(e){return Eo.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class Il{constructor(e,t){this.compartment=e,this.inner=t}}class Js{constructor(e,t,i,r,s,o){for(this.base=e,this.compartments=t,this.dynamicSlots=i,this.address=r,this.staticValues=s,this.facets=o,this.statusTemplate=[];this.statusTemplate.length<i.length;)this.statusTemplate.push(0)}staticFacet(e){let t=this.address[e.id];return t==null?e.default:this.staticValues[t>>1]}static resolve(e,t,i){let r=[],s=Object.create(null),o=new Map;for(let d of kC(e,t,o))d instanceof An?r.push(d):(s[d.facet.id]||(s[d.facet.id]=[])).push(d);let a=Object.create(null),l=[],h=[];for(let d of r)a[d.id]=h.length<<1,h.push(x=>d.slot(x));let c=i==null?void 0:i.config.facets;for(let d in s){let x=s[d],g=x[0].facet,f=c&&c[d]||[];if(x.every(p=>p.type==0))if(a[g.id]=l.length<<1|1,Rh(f,x))l.push(i.facet(g));else{let p=g.combine(x.map(m=>m.value));l.push(i&&g.compare(p,i.facet(g))?i.facet(g):p)}else{for(let p of x)p.type==0?(a[p.id]=l.length<<1|1,l.push(p.value)):(a[p.id]=h.length<<1,h.push(m=>p.dynamicSlot(m)));a[g.id]=h.length<<1,h.push(p=>SC(p,g,x))}}let u=h.map(d=>d(a));return new Js(e,o,u,a,l,s)}}function kC(n,e,t){let i=[[],[],[],[],[]],r=new Map;function s(o,a){let l=r.get(o);if(l!=null){if(l<=a)return;let h=i[l].indexOf(o);h>-1&&i[l].splice(h,1),o instanceof Il&&t.delete(o.compartment)}if(r.set(o,a),Array.isArray(o))for(let h of o)s(h,a);else if(o instanceof Il){if(t.has(o.compartment))throw new RangeError("Duplicate use of compartment in extensions");let h=e.get(o.compartment)||o.inner;t.set(o.compartment,h),s(h,a)}else if(o instanceof vC)s(o.inner,o.prec);else if(o instanceof An)i[a].push(o),o.provides&&s(o.provides,a);else if(o instanceof gs)i[a].push(o),o.facet.extensions&&s(o.facet.extensions,a);else{let h=o.extension;if(!h)throw new Error(`Unrecognized extension value in extension set (${o}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);s(h,a)}}return s(n,wC.default),i.reduce((o,a)=>o.concat(a))}function tr(n,e){if(e&1)return 2;let t=e>>1,i=n.status[t];if(i==4)throw new Error("Cyclic dependency between fields and/or facets");if(i&2)return i;n.status[t]=4;let r=n.computeSlot(n,n.config.dynamicSlots[t]);return n.status[t]=2|r}function Hs(n,e){return e&1?n.config.staticValues[e>>1]:n.values[e>>1]}const Ux=Ie.define(),zx=Ie.define({combine:n=>n.some(e=>e),static:!0}),_x=Ie.define({combine:n=>n.length?n[0]:void 0,static:!0}),jx=Ie.define(),Zx=Ie.define(),Gx=Ie.define(),qx=Ie.define({combine:n=>n.length?n[0]:!1});class Qr{constructor(e,t){this.type=e,this.value=t}static define(){return new CC}}class CC{of(e){return new Qr(this,e)}}class DC{constructor(e){this.map=e}of(e){return new je(this,e)}}class je{constructor(e,t){this.type=e,this.value=t}map(e){let t=this.type.map(this.value,e);return t===void 0?void 0:t==this.value?this:new je(this.type,t)}is(e){return this.type==e}static define(e={}){return new DC(e.map||(t=>t))}static mapEffects(e,t){if(!e.length)return e;let i=[];for(let r of e){let s=r.map(t);s&&i.push(s)}return i}}je.reconfigure=je.define();je.appendConfig=je.define();class Ze{constructor(e,t,i,r,s,o){this.startState=e,this.changes=t,this.selection=i,this.effects=r,this.annotations=s,this.scrollIntoView=o,this._doc=null,this._state=null,i&&Xx(i,t.newLength),s.some(a=>a.type==Ze.time)||(this.annotations=s.concat(Ze.time.of(Date.now())))}static create(e,t,i,r,s,o){return new Ze(e,t,i,r,s,o)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let t of this.annotations)if(t.type==e)return t.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let t=this.annotation(Ze.userEvent);return!!(t&&(t==e||t.length>e.length&&t.slice(0,e.length)==e&&t[e.length]=="."))}}Ze.time=Qr.define();Ze.userEvent=Qr.define();Ze.addToHistory=Qr.define();Ze.remote=Qr.define();function AC(n,e){let t=[];for(let i=0,r=0;;){let s,o;if(i<n.length&&(r==e.length||e[r]>=n[i]))s=n[i++],o=n[i++];else if(r<e.length)s=e[r++],o=e[r++];else return t;!t.length||t[t.length-1]<s?t.push(s,o):t[t.length-1]<o&&(t[t.length-1]=o)}}function Vx(n,e,t){var i;let r,s,o;return t?(r=e.changes,s=Be.empty(e.changes.length),o=n.changes.compose(e.changes)):(r=e.changes.map(n.changes),s=n.changes.mapDesc(e.changes,!0),o=n.changes.compose(r)),{changes:o,selection:e.selection?e.selection.map(s):(i=n.selection)===null||i===void 0?void 0:i.map(r),effects:je.mapEffects(n.effects,r).concat(je.mapEffects(e.effects,s)),annotations:n.annotations.length?n.annotations.concat(e.annotations):e.annotations,scrollIntoView:n.scrollIntoView||e.scrollIntoView}}function Bl(n,e,t){let i=e.selection,r=cn(e.annotations);return e.userEvent&&(r=r.concat(Ze.userEvent.of(e.userEvent))),{changes:e.changes instanceof Be?e.changes:Be.of(e.changes||[],t,n.facet(_x)),selection:i&&(i instanceof H?i:H.single(i.anchor,i.head)),effects:cn(e.effects),annotations:r,scrollIntoView:!!e.scrollIntoView}}function Yx(n,e,t){let i=Bl(n,e.length?e[0]:{},n.doc.length);e.length&&e[0].filter===!1&&(t=!1);for(let s=1;s<e.length;s++){e[s].filter===!1&&(t=!1);let o=!!e[s].sequential;i=Vx(i,Bl(n,e[s],o?i.changes.newLength:n.doc.length),o)}let r=Ze.create(n,i.changes,i.selection,i.effects,i.annotations,i.scrollIntoView);return TC(t?EC(r):r)}function EC(n){let e=n.startState,t=!0;for(let r of e.facet(jx)){let s=r(n);if(s===!1){t=!1;break}Array.isArray(s)&&(t=t===!0?s:AC(t,s))}if(t!==!0){let r,s;if(t===!1)s=n.changes.invertedDesc,r=Be.empty(e.doc.length);else{let o=n.changes.filter(t);r=o.changes,s=o.filtered.mapDesc(o.changes).invertedDesc}n=Ze.create(e,r,n.selection&&n.selection.map(s),je.mapEffects(n.effects,s),n.annotations,n.scrollIntoView)}let i=e.facet(Zx);for(let r=i.length-1;r>=0;r--){let s=i[r](n);s instanceof Ze?n=s:Array.isArray(s)&&s.length==1&&s[0]instanceof Ze?n=s[0]:n=Yx(e,cn(s),!1)}return n}function TC(n){let e=n.startState,t=e.facet(Gx),i=n;for(let r=t.length-1;r>=0;r--){let s=t[r](n);s&&Object.keys(s).length&&(i=Vx(n,Bl(e,s,n.changes.newLength),!0))}return i==n?n:Ze.create(e,n.changes,n.selection,i.effects,i.annotations,i.scrollIntoView)}const FC=[];function cn(n){return n==null?FC:Array.isArray(n)?n:[n]}var fi=function(n){return n[n.Word=0]="Word",n[n.Space=1]="Space",n[n.Other=2]="Other",n}(fi||(fi={}));const $C=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Ml;try{Ml=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function QC(n){if(Ml)return Ml.test(n);for(let e=0;e<n.length;e++){let t=n[e];if(/\w/.test(t)||t>"\x80"&&(t.toUpperCase()!=t.toLowerCase()||$C.test(t)))return!0}return!1}function PC(n){return e=>{if(!/\S/.test(e))return fi.Space;if(QC(e))return fi.Word;for(let t=0;t<n.length;t++)if(e.indexOf(n[t])>-1)return fi.Word;return fi.Other}}class ge{constructor(e,t,i,r,s,o){this.config=e,this.doc=t,this.selection=i,this.values=r,this.status=e.statusTemplate.slice(),this.computeSlot=s,o&&(o._state=this);for(let a=0;a<this.config.dynamicSlots.length;a++)tr(this,a<<1);this.computeSlot=null}field(e,t=!0){let i=this.config.address[e.id];if(i==null){if(t)throw new RangeError("Field is not present in this state");return}return tr(this,i),Hs(this,i)}update(...e){return Yx(this,e,!0)}applyTransaction(e){let t=this.config,{base:i,compartments:r}=t;for(let o of e.effects)o.is(Eo.reconfigure)?(t&&(r=new Map,t.compartments.forEach((a,l)=>r.set(l,a)),t=null),r.set(o.value.compartment,o.value.extension)):o.is(je.reconfigure)?(t=null,i=o.value):o.is(je.appendConfig)&&(t=null,i=cn(i).concat(o.value));let s;t?s=e.startState.values.slice():(t=Js.resolve(i,r,this),s=new ge(t,this.doc,this.selection,t.dynamicSlots.map(()=>null),(a,l)=>l.reconfigure(a,this),null).values),new ge(t,e.newDoc,e.newSelection,s,(o,a)=>a.update(o,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(t=>({changes:{from:t.from,to:t.to,insert:e},range:H.cursor(t.from+e.length)}))}changeByRange(e){let t=this.selection,i=e(t.ranges[0]),r=this.changes(i.changes),s=[i.range],o=cn(i.effects);for(let a=1;a<t.ranges.length;a++){let l=e(t.ranges[a]),h=this.changes(l.changes),c=h.map(r);for(let d=0;d<a;d++)s[d]=s[d].map(c);let u=r.mapDesc(h,!0);s.push(l.range.map(u)),r=r.compose(c),o=je.mapEffects(o,c).concat(je.mapEffects(cn(l.effects),u))}return{changes:r,selection:H.create(s,t.mainIndex),effects:o}}changes(e=[]){return e instanceof Be?e:Be.of(e,this.doc.length,this.facet(ge.lineSeparator))}toText(e){return pe.of(e.split(this.facet(ge.lineSeparator)||$l))}sliceDoc(e=0,t=this.doc.length){return this.doc.sliceString(e,t,this.lineBreak)}facet(e){let t=this.config.address[e.id];return t==null?e.default:(tr(this,t),Hs(this,t))}toJSON(e){let t={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let i in e){let r=e[i];r instanceof An&&this.config.address[r.id]!=null&&(t[i]=r.spec.toJSON(this.field(e[i]),this))}return t}static fromJSON(e,t={},i){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let r=[];if(i){for(let s in i)if(Object.prototype.hasOwnProperty.call(e,s)){let o=i[s],a=e[s];r.push(o.init(l=>o.spec.fromJSON(a,l)))}}return ge.create({doc:e.doc,selection:H.fromJSON(e.selection),extensions:t.extensions?r.concat([t.extensions]):r})}static create(e={}){let t=Js.resolve(e.extensions||[],new Map),i=e.doc instanceof pe?e.doc:pe.of((e.doc||"").split(t.staticFacet(ge.lineSeparator)||$l)),r=e.selection?e.selection instanceof H?e.selection:H.single(e.selection.anchor,e.selection.head):H.single(0);return Xx(r,i.length),t.staticFacet(zx)||(r=r.asSingle()),new ge(t,i,r,t.dynamicSlots.map(()=>null),(s,o)=>o.create(s),null)}get tabSize(){return this.facet(ge.tabSize)}get lineBreak(){return this.facet(ge.lineSeparator)||`
`}get readOnly(){return this.facet(qx)}phrase(e,...t){for(let i of this.facet(ge.phrases))if(Object.prototype.hasOwnProperty.call(i,e)){e=i[e];break}return t.length&&(e=e.replace(/\$(\$|\d*)/g,(i,r)=>{if(r=="$")return"$";let s=+(r||1);return!s||s>t.length?i:t[s-1]})),e}languageDataAt(e,t,i=-1){let r=[];for(let s of this.facet(Ux))for(let o of s(this,t,i))Object.prototype.hasOwnProperty.call(o,e)&&r.push(o[e]);return r}charCategorizer(e){return PC(this.languageDataAt("wordChars",e).join(""))}wordAt(e){let{text:t,from:i,length:r}=this.doc.lineAt(e),s=this.charCategorizer(e),o=e-i,a=e-i;for(;o>0;){let l=Qi(t,o,!1);if(s(t.slice(l,o))!=fi.Word)break;o=l}for(;a<r;){let l=Qi(t,a);if(s(t.slice(a,l))!=fi.Word)break;a=l}return o==a?null:H.range(o+i,a+i)}}ge.allowMultipleSelections=zx;ge.tabSize=Ie.define({combine:n=>n.length?n[0]:4});ge.lineSeparator=_x;ge.readOnly=qx;ge.phrases=Ie.define({compare(n,e){let t=Object.keys(n),i=Object.keys(e);return t.length==i.length&&t.every(r=>n[r]==e[r])}});ge.languageData=Ux;ge.changeFilter=jx;ge.transactionFilter=Zx;ge.transactionExtender=Gx;Eo.reconfigure=je.define();class yn{eq(e){return this==e}range(e,t=e){return yr.create(e,t,this)}}yn.prototype.startSide=yn.prototype.endSide=0;yn.prototype.point=!1;yn.prototype.mapMode=rt.TrackDel;class yr{constructor(e,t,i){this.from=e,this.to=t,this.value=i}static create(e,t,i){return new yr(e,t,i)}}function Wl(n,e){return n.from-e.from||n.value.startSide-e.value.startSide}class Ih{constructor(e,t,i,r){this.from=e,this.to=t,this.value=i,this.maxPoint=r}get length(){return this.to[this.to.length-1]}findIndex(e,t,i,r=0){let s=i?this.to:this.from;for(let o=r,a=s.length;;){if(o==a)return o;let l=o+a>>1,h=s[l]-e||(i?this.value[l].endSide:this.value[l].startSide)-t;if(l==o)return h>=0?o:a;h>=0?a=l:o=l+1}}between(e,t,i,r){for(let s=this.findIndex(t,-1e9,!0),o=this.findIndex(i,1e9,!1,s);s<o;s++)if(r(this.from[s]+e,this.to[s]+e,this.value[s])===!1)return!1}map(e,t){let i=[],r=[],s=[],o=-1,a=-1;for(let l=0;l<this.value.length;l++){let h=this.value[l],c=this.from[l]+e,u=this.to[l]+e,d,x;if(c==u){let g=t.mapPos(c,h.startSide,h.mapMode);if(g==null||(d=x=g,h.startSide!=h.endSide&&(x=t.mapPos(c,h.endSide),x<d)))continue}else if(d=t.mapPos(c,h.startSide),x=t.mapPos(u,h.endSide),d>x||d==x&&h.startSide>0&&h.endSide<=0)continue;(x-d||h.endSide-h.startSide)<0||(o<0&&(o=d),h.point&&(a=Math.max(a,x-d)),i.push(h),r.push(d-o),s.push(x-o))}return{mapped:i.length?new Ih(r,s,i,a):null,pos:o}}}class Ye{constructor(e,t,i,r){this.chunkPos=e,this.chunk=t,this.nextLayer=i,this.maxPoint=r}static create(e,t,i,r){return new Ye(e,t,i,r)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let t of this.chunk)e+=t.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:t=[],sort:i=!1,filterFrom:r=0,filterTo:s=this.length}=e,o=e.filter;if(t.length==0&&!o)return this;if(i&&(t=t.slice().sort(Wl)),this.isEmpty)return t.length?Ye.of(t):this;let a=new Jx(this,null,-1).goto(0),l=0,h=[],c=new Ks;for(;a.value||l<t.length;)if(l<t.length&&(a.from-t[l].from||a.startSide-t[l].value.startSide)>=0){let u=t[l++];c.addInner(u.from,u.to,u.value)||h.push(u)}else a.rangeIndex==1&&a.chunkIndex<this.chunk.length&&(l==t.length||this.chunkEnd(a.chunkIndex)<t[l].from)&&(!o||r>this.chunkEnd(a.chunkIndex)||s<this.chunkPos[a.chunkIndex])&&c.addChunk(this.chunkPos[a.chunkIndex],this.chunk[a.chunkIndex])?a.nextChunk():((!o||r>a.to||s<a.from||o(a.from,a.to,a.value))&&(c.addInner(a.from,a.to,a.value)||h.push(yr.create(a.from,a.to,a.value))),a.next());return c.finishInner(this.nextLayer.isEmpty&&!h.length?Ye.empty:this.nextLayer.update({add:h,filter:o,filterFrom:r,filterTo:s}))}map(e){if(e.empty||this.isEmpty)return this;let t=[],i=[],r=-1;for(let o=0;o<this.chunk.length;o++){let a=this.chunkPos[o],l=this.chunk[o],h=e.touchesRange(a,a+l.length);if(h===!1)r=Math.max(r,l.maxPoint),t.push(l),i.push(e.mapPos(a));else if(h===!0){let{mapped:c,pos:u}=l.map(a,e);c&&(r=Math.max(r,c.maxPoint),t.push(c),i.push(u))}}let s=this.nextLayer.map(e);return t.length==0?s:new Ye(i,t,s||Ye.empty,r)}between(e,t,i){if(!this.isEmpty){for(let r=0;r<this.chunk.length;r++){let s=this.chunkPos[r],o=this.chunk[r];if(t>=s&&e<=s+o.length&&o.between(s,e-s,t-s,i)===!1)return}this.nextLayer.between(e,t,i)}}iter(e=0){return br.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,t=0){return br.from(e).goto(t)}static compare(e,t,i,r,s=-1){let o=e.filter(u=>u.maxPoint>0||!u.isEmpty&&u.maxPoint>=s),a=t.filter(u=>u.maxPoint>0||!u.isEmpty&&u.maxPoint>=s),l=af(o,a,i),h=new Nn(o,l,s),c=new Nn(a,l,s);i.iterGaps((u,d,x)=>lf(h,u,c,d,x,r)),i.empty&&i.length==0&&lf(h,0,c,0,0,r)}static eq(e,t,i=0,r){r==null&&(r=1e9);let s=e.filter(c=>!c.isEmpty&&t.indexOf(c)<0),o=t.filter(c=>!c.isEmpty&&e.indexOf(c)<0);if(s.length!=o.length)return!1;if(!s.length)return!0;let a=af(s,o),l=new Nn(s,a,0).goto(i),h=new Nn(o,a,0).goto(i);for(;;){if(l.to!=h.to||!Nl(l.active,h.active)||l.point&&(!h.point||!l.point.eq(h.point)))return!1;if(l.to>r)return!0;l.next(),h.next()}}static spans(e,t,i,r,s=-1){let o=new Nn(e,null,s).goto(t),a=t,l=o.openStart;for(;;){let h=Math.min(o.to,i);if(o.point?(r.point(a,h,o.point,o.activeForPoint(o.to),l,o.pointRank),l=o.openEnd(h)+(o.to>h?1:0)):h>a&&(r.span(a,h,o.active,l),l=o.openEnd(h)),o.to>i)break;a=o.to,o.next()}return l}static of(e,t=!1){let i=new Ks;for(let r of e instanceof yr?[e]:t?RC(e):e)i.add(r.from,r.to,r.value);return i.finish()}}Ye.empty=new Ye([],[],null,-1);function RC(n){if(n.length>1)for(let e=n[0],t=1;t<n.length;t++){let i=n[t];if(Wl(e,i)>0)return n.slice().sort(Wl);e=i}return n}Ye.empty.nextLayer=Ye.empty;class Ks{constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}finishChunk(e){this.chunks.push(new Ih(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}add(e,t,i){this.addInner(e,t,i)||(this.nextLayer||(this.nextLayer=new Ks)).add(e,t,i)}addInner(e,t,i){let r=e-this.lastTo||i.startSide-this.last.endSide;if(r<=0&&(e-this.lastFrom||i.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return r<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(t-this.chunkStart),this.last=i,this.lastFrom=e,this.lastTo=t,this.value.push(i),i.point&&(this.maxPoint=Math.max(this.maxPoint,t-e)),!0)}addChunk(e,t){if((e-this.lastTo||t.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,t.maxPoint),this.chunks.push(t),this.chunkPos.push(e);let i=t.value.length-1;return this.last=t.value[i],this.lastFrom=t.from[i]+e,this.lastTo=t.to[i]+e,!0}finish(){return this.finishInner(Ye.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let t=Ye.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,t}}function af(n,e,t){let i=new Map;for(let s of n)for(let o=0;o<s.chunk.length;o++)s.chunk[o].maxPoint<=0&&i.set(s.chunk[o],s.chunkPos[o]);let r=new Set;for(let s of e)for(let o=0;o<s.chunk.length;o++){let a=i.get(s.chunk[o]);a!=null&&(t?t.mapPos(a):a)==s.chunkPos[o]&&!(t!=null&&t.touchesRange(a,a+s.chunk[o].length))&&r.add(s.chunk[o])}return r}class Jx{constructor(e,t,i,r=0){this.layer=e,this.skip=t,this.minPoint=i,this.rank=r}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,t=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,t,!1),this}gotoInner(e,t,i){for(;this.chunkIndex<this.layer.chunk.length;){let r=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(r)||this.layer.chunkEnd(this.chunkIndex)<e||r.maxPoint<this.minPoint))break;this.chunkIndex++,i=!1}if(this.chunkIndex<this.layer.chunk.length){let r=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],t,!0);(!i||this.rangeIndex<r)&&this.setRangeIndex(r)}this.next()}forward(e,t){(this.to-e||this.endSide-t)<0&&this.gotoInner(e,t,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],t=this.layer.chunk[this.chunkIndex],i=e+t.from[this.rangeIndex];if(this.from=i,this.to=e+t.to[this.rangeIndex],this.value=t.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class br{constructor(e){this.heap=e}static from(e,t=null,i=-1){let r=[];for(let s=0;s<e.length;s++)for(let o=e[s];!o.isEmpty;o=o.nextLayer)o.maxPoint>=i&&r.push(new Jx(o,t,i,s));return r.length==1?r[0]:new br(r)}get startSide(){return this.value?this.value.startSide:0}goto(e,t=-1e9){for(let i of this.heap)i.goto(e,t);for(let i=this.heap.length>>1;i>=0;i--)Oa(this.heap,i);return this.next(),this}forward(e,t){for(let i of this.heap)i.forward(e,t);for(let i=this.heap.length>>1;i>=0;i--)Oa(this.heap,i);(this.to-e||this.value.endSide-t)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),Oa(this.heap,0)}}}function Oa(n,e){for(let t=n[e];;){let i=(e<<1)+1;if(i>=n.length)break;let r=n[i];if(i+1<n.length&&r.compare(n[i+1])>=0&&(r=n[i+1],i++),t.compare(r)<0)break;n[i]=t,n[e]=r,e=i}}class Nn{constructor(e,t,i){this.minPoint=i,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=br.from(e,t,i)}goto(e,t=-1e9){return this.cursor.goto(e,t),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=t,this.openStart=-1,this.next(),this}forward(e,t){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-t)<0;)this.removeActive(this.minActive);this.cursor.forward(e,t)}removeActive(e){ts(this.active,e),ts(this.activeTo,e),ts(this.activeRank,e),this.minActive=hf(this.active,this.activeTo)}addActive(e){let t=0,{value:i,to:r,rank:s}=this.cursor;for(;t<this.activeRank.length&&this.activeRank[t]<=s;)t++;is(this.active,t,i),is(this.activeTo,t,r),is(this.activeRank,t,s),e&&is(e,t,this.cursor.from),this.minActive=hf(this.active,this.activeTo)}next(){let e=this.to,t=this.point;this.point=null;let i=this.openStart<0?[]:null,r=0;for(;;){let s=this.minActive;if(s>-1&&(this.activeTo[s]-this.cursor.from||this.active[s].endSide-this.cursor.startSide)<0){if(this.activeTo[s]>e){this.to=this.activeTo[s],this.endSide=this.active[s].endSide;break}this.removeActive(s),i&&ts(i,s)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let o=this.cursor.value;if(!o.point)this.addActive(i),this.cursor.next();else if(t&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=o,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=o.endSide,this.cursor.from<e&&(r=1),this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(i){let s=0;for(;s<i.length&&i[s]<e;)s++;this.openStart=s+r}}activeForPoint(e){if(!this.active.length)return this.active;let t=[];for(let i=this.active.length-1;i>=0&&!(this.activeRank[i]<this.pointRank);i--)(this.activeTo[i]>e||this.activeTo[i]==e&&this.active[i].endSide>=this.point.endSide)&&t.push(this.active[i]);return t.reverse()}openEnd(e){let t=0;for(let i=this.activeTo.length-1;i>=0&&this.activeTo[i]>e;i--)t++;return t}}function lf(n,e,t,i,r,s){n.goto(e),t.goto(i);let o=i+r,a=i,l=i-e;for(;;){let h=n.to+l-t.to||n.endSide-t.endSide,c=h<0?n.to+l:t.to,u=Math.min(c,o);if(n.point||t.point?n.point&&t.point&&(n.point==t.point||n.point.eq(t.point))&&Nl(n.activeForPoint(n.to+l),t.activeForPoint(t.to))||s.comparePoint(a,u,n.point,t.point):u>a&&!Nl(n.active,t.active)&&s.compareRange(a,u,n.active,t.active),c>o)break;a=c,h<=0&&n.next(),h>=0&&t.next()}}function Nl(n,e){if(n.length!=e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t]&&!n[t].eq(e[t]))return!1;return!0}function ts(n,e){for(let t=e,i=n.length-1;t<i;t++)n[t]=n[t+1];n.pop()}function is(n,e,t){for(let i=n.length-1;i>=e;i--)n[i+1]=n[i];n[e]=t}function hf(n,e){let t=-1,i=1e9;for(let r=0;r<e.length;r++)(e[r]-i||n[r].endSide-n[t].endSide)<0&&(t=r,i=e[r]);return t}function IC(n,e,t=n.length){let i=0;for(let r=0;r<t;)n.charCodeAt(r)==9?(i+=e-i%e,r++):(i++,r=Qi(n,r));return i}function BC(n){let e;return n.nodeType==11?e=n.getSelection?n:n.ownerDocument:e=n,e.getSelection()}function Hx(n){return n.nodeType==3?em(n,0,n.nodeValue.length).getClientRects():n.nodeType==1?n.getClientRects():[]}function cf(n){for(var e=0;;e++)if(n=n.previousSibling,!n)return e}function MC(n){return n.nodeType==3?n.nodeValue.length:n.childNodes.length}const Kx={left:0,right:0,top:0,bottom:0};function Bh(n,e){let t=e?n.left:n.right;return{left:t,right:t,top:n.top,bottom:n.bottom}}let Gi=null;function WC(n){if(n.setActive)return n.setActive();if(Gi)return n.focus(Gi);let e=[];for(let t=n;t&&(e.push(t,t.scrollTop,t.scrollLeft),t!=t.ownerDocument);t=t.parentNode);if(n.focus(Gi==null?{get preventScroll(){return Gi={preventScroll:!0},!0}}:void 0),!Gi){Gi=!1;for(let t=0;t<e.length;){let i=e[t++],r=e[t++],s=e[t++];i.scrollTop!=r&&(i.scrollTop=r),i.scrollLeft!=s&&(i.scrollLeft=s)}}}let uf;function em(n,e,t=e){let i=uf||(uf=document.createRange());return i.setEnd(n,t),i.setStart(n,e),i}function tm(n){for(;n.attributes.length;)n.removeAttributeNode(n.attributes[0])}class Ht{constructor(e,t,i=!0){this.node=e,this.offset=t,this.precise=i}static before(e,t){return new Ht(e.parentNode,cf(e),t)}static after(e,t){return new Ht(e.parentNode,cf(e)+1,t)}}const im=[];class Ot{constructor(){this.parent=null,this.dom=null,this.dirty=2}get editorView(){if(!this.parent)throw new Error("Accessing view in orphan content view");return this.parent.editorView}get overrideDOMText(){return null}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e){let t=this.posAtStart;for(let i of this.children){if(i==e)return t;t+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}coordsAt(e,t){return null}sync(e){if(this.dirty&2){let t=this.dom,i=null,r;for(let s of this.children){if(s.dirty){if(!s.dom&&(r=i?i.nextSibling:t.firstChild)){let o=Ot.get(r);(!o||!o.parent&&o.constructor==s.constructor)&&s.reuseDOM(r)}s.sync(e),s.dirty=0}if(r=i?i.nextSibling:t.firstChild,e&&!e.written&&e.node==t&&r!=s.dom&&(e.written=!0),s.dom.parentNode==t)for(;r&&r!=s.dom;)r=ff(r);else t.insertBefore(s.dom,r);i=s.dom}for(r=i?i.nextSibling:t.firstChild,r&&e&&e.node==t&&(e.written=!0);r;)r=ff(r)}else if(this.dirty&1)for(let t of this.children)t.dirty&&(t.sync(e),t.dirty=0)}reuseDOM(e){}localPosFromDOM(e,t){let i;if(e==this.dom)i=this.dom.childNodes[t];else{let r=MC(e)==0?0:t==0?-1:1;for(;;){let s=e.parentNode;if(s==this.dom)break;r==0&&s.firstChild!=s.lastChild&&(e==s.firstChild?r=-1:r=1),e=s}r<0?i=e:i=e.nextSibling}if(i==this.dom.firstChild)return 0;for(;i&&!Ot.get(i);)i=i.nextSibling;if(!i)return this.length;for(let r=0,s=0;;r++){let o=this.children[r];if(o.dom==i)return s;s+=o.length+o.breakAfter}}domBoundsAround(e,t,i=0){let r=-1,s=-1,o=-1,a=-1;for(let l=0,h=i,c=i;l<this.children.length;l++){let u=this.children[l],d=h+u.length;if(h<e&&d>t)return u.domBoundsAround(e,t,h);if(d>=e&&r==-1&&(r=l,s=h),h>t&&u.dom.parentNode==this.dom){o=l,a=c;break}c=d,h=d+u.breakAfter}return{from:s,to:a<0?i+this.length:a,startDOM:(r?this.children[r-1].dom.nextSibling:null)||this.dom.firstChild,endDOM:o<this.children.length&&o>=0?this.children[o].dom:null}}markDirty(e=!1){this.dirty|=2,this.markParentsDirty(e)}markParentsDirty(e){for(let t=this.parent;t;t=t.parent){if(e&&(t.dirty|=2),t.dirty&1)return;t.dirty|=1,e=!1}}setParent(e){this.parent!=e&&(this.parent=e,this.dirty&&this.markParentsDirty(!0))}setDOM(e){this.dom&&(this.dom.cmView=null),this.dom=e,e.cmView=this}get rootView(){for(let e=this;;){let t=e.parent;if(!t)return e;e=t}}replaceChildren(e,t,i=im){this.markDirty();for(let r=e;r<t;r++){let s=this.children[r];s.parent==this&&s.destroy()}this.children.splice(e,t-e,...i);for(let r=0;r<i.length;r++)i[r].setParent(this)}ignoreMutation(e){return!1}ignoreEvent(e){return!1}childCursor(e=this.length){return new NC(this.children,e,this.children.length)}childPos(e,t=1){return this.childCursor().findPos(e,t)}toString(){let e=this.constructor.name.replace("View","");return e+(this.children.length?"("+this.children.join()+")":this.length?"["+(e=="Text"?this.text:this.length)+"]":"")+(this.breakAfter?"#":"")}static get(e){return e.cmView}get isEditable(){return!0}merge(e,t,i,r,s,o){return!1}become(e){return!1}getSide(){return 0}destroy(){this.parent=null}}Ot.prototype.breakAfter=0;function ff(n){let e=n.nextSibling;return n.parentNode.removeChild(n),e}class NC{constructor(e,t,i){this.children=e,this.pos=t,this.i=i,this.off=0}findPos(e,t=1){for(;;){if(e>this.pos||e==this.pos&&(t>0||this.i==0||this.children[this.i-1].breakAfter))return this.off=e-this.pos,this;let i=this.children[--this.i];this.pos-=i.length+i.breakAfter}}}function LC(n,e,t,i,r,s,o,a,l){let{children:h}=n,c=h.length?h[e]:null,u=s.length?s[s.length-1]:null,d=u?u.breakAfter:o;if(!(e==i&&c&&!o&&!d&&s.length<2&&c.merge(t,r,s.length?u:null,t==0,a,l))){if(i<h.length){let x=h[i];x&&r<x.length?(e==i&&(x=x.split(r),r=0),!d&&u&&x.merge(0,r,u,!0,0,l)?s[s.length-1]=x:(r&&x.merge(0,r,null,!1,0,l),s.push(x))):x!=null&&x.breakAfter&&(u?u.breakAfter=1:o=1),i++}for(c&&(c.breakAfter=o,t>0&&(!o&&s.length&&c.merge(t,c.length,s[0],!1,a,0)?c.breakAfter=s.shift().breakAfter:(t<c.length||c.children.length&&c.children[c.children.length-1].length==0)&&c.merge(t,c.length,null,!1,a,0),e++));e<i&&s.length;)if(h[i-1].become(s[s.length-1]))i--,s.pop(),l=s.length?0:a;else if(h[e].become(s[0]))e++,s.shift(),a=s.length?0:l;else break;!s.length&&e&&i<h.length&&!h[e-1].breakAfter&&h[i].merge(0,0,h[e-1],!1,a,l)&&e--,(e<i||s.length)&&n.replaceChildren(e,i,s)}}function nm(n,e,t,i,r,s){let o=n.childCursor(),{i:a,off:l}=o.findPos(t,1),{i:h,off:c}=o.findPos(e,-1),u=e-t;for(let d of i)u+=d.length;n.length+=u,LC(n,h,c,a,l,i,0,r,s)}let st=typeof navigator!="undefined"?navigator:{userAgent:"",vendor:"",platform:""},Ll=typeof document!="undefined"?document:{documentElement:{style:{}}};const Xl=/Edge\/(\d+)/.exec(st.userAgent),rm=/MSIE \d/.test(st.userAgent),Ul=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(st.userAgent),To=!!(rm||Ul||Xl),df=!To&&/gecko\/(\d+)/i.test(st.userAgent),ya=!To&&/Chrome\/(\d+)/.exec(st.userAgent),pf="webkitFontSmoothing"in Ll.documentElement.style,sm=!To&&/Apple Computer/.test(st.vendor),xf=sm&&(/Mobile\/\w+/.test(st.userAgent)||st.maxTouchPoints>2);var Ge={mac:xf||/Mac/.test(st.platform),windows:/Win/.test(st.platform),linux:/Linux|X11/.test(st.platform),ie:To,ie_version:rm?Ll.documentMode||6:Ul?+Ul[1]:Xl?+Xl[1]:0,gecko:df,gecko_version:df?+(/Firefox\/(\d+)/.exec(st.userAgent)||[0,0])[1]:0,chrome:!!ya,chrome_version:ya?+ya[1]:0,ios:xf,android:/Android\b/.test(st.userAgent),webkit:pf,safari:sm,webkit_version:pf?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0,tabSize:Ll.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};const XC=256;class Ni extends Ot{constructor(e){super(),this.text=e}get length(){return this.text.length}createDOM(e){this.setDOM(e||document.createTextNode(this.text))}sync(e){this.dom||this.createDOM(),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text)}reuseDOM(e){e.nodeType==3&&this.createDOM(e)}merge(e,t,i){return i&&(!(i instanceof Ni)||this.length-(t-e)+i.length>XC)?!1:(this.text=this.text.slice(0,e)+(i?i.text:"")+this.text.slice(t),this.markDirty(),!0)}split(e){let t=new Ni(this.text.slice(e));return this.text=this.text.slice(0,e),this.markDirty(),t}localPosFromDOM(e,t){return e==this.dom?t:t?this.text.length:0}domAtPos(e){return new Ht(this.dom,e)}domBoundsAround(e,t,i){return{from:i,to:i+this.length,startDOM:this.dom,endDOM:this.dom.nextSibling}}coordsAt(e,t){return UC(this.dom,e,t)}}class Li extends Ot{constructor(e,t=[],i=0){super(),this.mark=e,this.children=t,this.length=i;for(let r of t)r.setParent(this)}setAttrs(e){if(tm(e),this.mark.class&&(e.className=this.mark.class),this.mark.attrs)for(let t in this.mark.attrs)e.setAttribute(t,this.mark.attrs[t]);return e}reuseDOM(e){e.nodeName==this.mark.tagName.toUpperCase()&&(this.setDOM(e),this.dirty|=6)}sync(e){this.dom?this.dirty&4&&this.setAttrs(this.dom):this.setDOM(this.setAttrs(document.createElement(this.mark.tagName))),super.sync(e)}merge(e,t,i,r,s,o){return i&&(!(i instanceof Li&&i.mark.eq(this.mark))||e&&s<=0||t<this.length&&o<=0)?!1:(nm(this,e,t,i?i.children:[],s-1,o-1),this.markDirty(),!0)}split(e){let t=[],i=0,r=-1,s=0;for(let a of this.children){let l=i+a.length;l>e&&t.push(i<e?a.split(e-i):a),r<0&&i>=e&&(r=s),i=l,s++}let o=this.length-e;return this.length=e,r>-1&&(this.children.length=r,this.markDirty()),new Li(this.mark,t,o)}domAtPos(e){return om(this.dom,this.children,e)}coordsAt(e,t){return lm(this,e,t)}}function UC(n,e,t){let i=n.nodeValue.length;e>i&&(e=i);let r=e,s=e,o=0;e==0&&t<0||e==i&&t>=0?Ge.chrome||Ge.gecko||(e?(r--,o=1):s<i&&(s++,o=-1)):t<0?r--:s<i&&s++;let a=em(n,r,s).getClientRects();if(!a.length)return Kx;let l=a[(o?o<0:t>=0)?0:a.length-1];return Ge.safari&&!o&&l.width==0&&(l=Array.prototype.find.call(a,h=>h.width)||l),o?Bh(l,o<0):l||null}class tn extends Ot{constructor(e,t,i){super(),this.widget=e,this.length=t,this.side=i,this.prevWidget=null}static create(e,t,i){return new(e.customView||tn)(e,t,i)}split(e){let t=tn.create(this.widget,this.length-e,this.side);return this.length-=e,t}sync(){(!this.dom||!this.widget.updateDOM(this.dom))&&(this.dom&&this.prevWidget&&this.prevWidget.destroy(this.dom),this.prevWidget=null,this.setDOM(this.widget.toDOM(this.editorView)),this.dom.contentEditable="false")}getSide(){return this.side}merge(e,t,i,r,s,o){return i&&(!(i instanceof tn)||!this.widget.compare(i.widget)||e>0&&s<=0||t<this.length&&o<=0)?!1:(this.length=e+(i?i.length:0)+(this.length-t),!0)}become(e){return e.length==this.length&&e instanceof tn&&e.side==this.side&&this.widget.constructor==e.widget.constructor?(this.widget.eq(e.widget)||this.markDirty(!0),this.dom&&!this.prevWidget&&(this.prevWidget=this.widget),this.widget=e.widget,!0):!1}ignoreMutation(){return!0}ignoreEvent(e){return this.widget.ignoreEvent(e)}get overrideDOMText(){if(this.length==0)return pe.empty;let e=this;for(;e.parent;)e=e.parent;let t=e.editorView,i=t&&t.state.doc,r=this.posAtStart;return i?i.slice(r,r+this.length):pe.empty}domAtPos(e){return e==0?Ht.before(this.dom):Ht.after(this.dom,e==this.length)}domBoundsAround(){return null}coordsAt(e,t){let i=this.dom.getClientRects(),r=null;if(!i.length)return Kx;for(let s=e>0?i.length-1:0;r=i[s],!(e>0?s==0:s==i.length-1||r.top<r.bottom);s+=e>0?-1:1);return e==0&&t>0||e==this.length&&t<=0?r:Bh(r,e==0)}get isEditable(){return!1}destroy(){super.destroy(),this.dom&&this.widget.destroy(this.dom)}}class eo extends Ot{constructor(e){super(),this.side=e}get length(){return 0}merge(){return!1}become(e){return e instanceof eo&&e.side==this.side}split(){return new eo(this.side)}sync(){if(!this.dom){let e=document.createElement("img");e.className="cm-widgetBuffer",e.setAttribute("aria-hidden","true"),this.setDOM(e)}}getSide(){return this.side}domAtPos(e){return Ht.before(this.dom)}localPosFromDOM(){return 0}domBoundsAround(){return null}coordsAt(e){let t=this.dom.getBoundingClientRect(),i=zC(this,this.side>0?-1:1);return i&&i.top<t.bottom&&i.bottom>t.top?{left:t.left,right:t.right,top:i.top,bottom:i.bottom}:t}get overrideDOMText(){return pe.empty}}Ni.prototype.children=tn.prototype.children=eo.prototype.children=im;function zC(n,e){let t=n.parent,i=t?t.children.indexOf(n):-1;for(;t&&i>=0;)if(e<0?i>0:i<t.children.length){let r=t.children[i+e];if(r instanceof Ni){let s=r.coordsAt(e<0?r.length:0,e);if(s)return s}i+=e}else if(t instanceof Li&&t.parent)i=t.parent.children.indexOf(t)+(e<0?0:1),t=t.parent;else{let r=t.dom.lastChild;if(r&&r.nodeName=="BR")return r.getClientRects()[0];break}}function om(n,e,t){let i=0;for(let r=0;i<e.length;i++){let s=e[i],o=r+s.length;if(!(o==r&&s.getSide()<=0)){if(t>r&&t<o&&s.dom.parentNode==n)return s.domAtPos(t-r);if(t<=r)break;r=o}}for(;i>0;i--){let r=e[i-1].dom;if(r.parentNode==n)return Ht.after(r)}return new Ht(n,0)}function am(n,e,t){let i,{children:r}=n;t>0&&e instanceof Li&&r.length&&(i=r[r.length-1])instanceof Li&&i.mark.eq(e.mark)?am(i,e.children[0],t-1):(r.push(e),e.setParent(n)),n.length+=e.length}function lm(n,e,t){for(let s=0,o=0;o<n.children.length;o++){let a=n.children[o],l=s+a.length,h;if((t<=0||l==n.length||a.getSide()>0?l>=e:l>e)&&(e<l||o+1==n.children.length||(h=n.children[o+1]).length||h.getSide()>0)){let c=0;if(l==s){if(a.getSide()<=0)continue;c=t=-a.getSide()}let u=a.coordsAt(Math.max(0,e-s),t);return c&&u?Bh(u,t<0):u}s=l}let i=n.dom.lastChild;if(!i)return n.dom.getBoundingClientRect();let r=Hx(i);return r[r.length-1]||null}function mf(n,e){for(let t in n)t=="class"&&e.class?e.class+=" "+n.class:t=="style"&&e.style?e.style+=";"+n.style:e[t]=n[t];return e}function Mh(n,e){if(n==e)return!0;if(!n||!e)return!1;let t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r of t)if(i.indexOf(r)==-1||n[r]!==e[r])return!1;return!0}function _C(n,e,t){let i=null;if(e)for(let r in e)t&&r in t||n.removeAttribute(i=r);if(t)for(let r in t)e&&e[r]==t[r]||n.setAttribute(i=r,t[r]);return!!i}var un=function(n){return n[n.Text=0]="Text",n[n.WidgetBefore=1]="WidgetBefore",n[n.WidgetAfter=2]="WidgetAfter",n[n.WidgetRange=3]="WidgetRange",n}(un||(un={}));class Fo extends yn{constructor(e,t,i,r){super(),this.startSide=e,this.endSide=t,this.widget=i,this.spec=r}get heightRelevant(){return!1}static mark(e){return new $o(e)}static widget(e){let t=e.side||0,i=!!e.block;return t+=i?t>0?3e8:-4e8:t>0?1e8:-1e8,new Sr(e,t,t,i,e.widget||null,!1)}static replace(e){let t=!!e.block,i,r;if(e.isBlockGap)i=-5e8,r=4e8;else{let{start:s,end:o}=hm(e,t);i=(s?t?-3e8:-1:5e8)-1,r=(o?t?2e8:1:-6e8)+1}return new Sr(e,i,r,t,e.widget||null,!0)}static line(e){return new Pr(e)}static set(e,t=!1){return Ye.of(e,t)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Fo.none=Ye.empty;class $o extends Fo{constructor(e){let{start:t,end:i}=hm(e);super(t?-1:5e8,i?1:-6e8,null,e),this.tagName=e.tagName||"span",this.class=e.class||"",this.attrs=e.attributes||null}eq(e){return this==e||e instanceof $o&&this.tagName==e.tagName&&this.class==e.class&&Mh(this.attrs,e.attrs)}range(e,t=e){if(e>=t)throw new RangeError("Mark decorations may not be empty");return super.range(e,t)}}$o.prototype.point=!1;class Pr extends Fo{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Pr&&Mh(this.spec.attributes,e.spec.attributes)}range(e,t=e){if(t!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,t)}}Pr.prototype.mapMode=rt.TrackBefore;Pr.prototype.point=!0;class Sr extends Fo{constructor(e,t,i,r,s,o){super(t,i,s,e),this.block=r,this.isReplace=o,this.mapMode=r?t<=0?rt.TrackBefore:rt.TrackAfter:rt.TrackDel}get type(){return this.startSide<this.endSide?un.WidgetRange:this.startSide<=0?un.WidgetBefore:un.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&this.widget.estimatedHeight>=5}eq(e){return e instanceof Sr&&jC(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,t=e){if(this.isReplace&&(e>t||e==t&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&t!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,t)}}Sr.prototype.point=!0;function hm(n,e=!1){let{inclusiveStart:t,inclusiveEnd:i}=n;return t==null&&(t=n.inclusive),i==null&&(i=n.inclusive),{start:t!=null?t:e,end:i!=null?i:e}}function jC(n,e){return n==e||!!(n&&e&&n.compare(e))}class fn extends Ot{constructor(){super(...arguments),this.children=[],this.length=0,this.prevAttrs=void 0,this.attrs=null,this.breakAfter=0}merge(e,t,i,r,s,o){if(i){if(!(i instanceof fn))return!1;this.dom||i.transferDOM(this)}return r&&this.setDeco(i?i.attrs:null),nm(this,e,t,i?i.children:[],s,o),!0}split(e){let t=new fn;if(t.breakAfter=this.breakAfter,this.length==0)return t;let{i,off:r}=this.childPos(e);r&&(t.append(this.children[i].split(r),0),this.children[i].merge(r,this.children[i].length,null,!1,0,0),i++);for(let s=i;s<this.children.length;s++)t.append(this.children[s],0);for(;i>0&&this.children[i-1].length==0;)this.children[--i].destroy();return this.children.length=i,this.markDirty(),this.length=e,t}transferDOM(e){!this.dom||(this.markDirty(),e.setDOM(this.dom),e.prevAttrs=this.prevAttrs===void 0?this.attrs:this.prevAttrs,this.prevAttrs=void 0,this.dom=null)}setDeco(e){Mh(this.attrs,e)||(this.dom&&(this.prevAttrs=this.attrs,this.markDirty()),this.attrs=e)}append(e,t){am(this,e,t)}addLineDeco(e){let t=e.spec.attributes,i=e.spec.class;t&&(this.attrs=mf(t,this.attrs||{})),i&&(this.attrs=mf({class:i},this.attrs||{}))}domAtPos(e){return om(this.dom,this.children,e)}reuseDOM(e){e.nodeName=="DIV"&&(this.setDOM(e),this.dirty|=6)}sync(e){var t;this.dom?this.dirty&4&&(tm(this.dom),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0):(this.setDOM(document.createElement("div")),this.dom.className="cm-line",this.prevAttrs=this.attrs?null:void 0),this.prevAttrs!==void 0&&(_C(this.dom,this.prevAttrs,this.attrs),this.dom.classList.add("cm-line"),this.prevAttrs=void 0),super.sync(e);let i=this.dom.lastChild;for(;i&&Ot.get(i)instanceof Li;)i=i.lastChild;if(!i||!this.length||i.nodeName!="BR"&&((t=Ot.get(i))===null||t===void 0?void 0:t.isEditable)==!1&&(!Ge.ios||!this.children.some(r=>r instanceof Ni))){let r=document.createElement("BR");r.cmIgnore=!0,this.dom.appendChild(r)}}measureTextSize(){if(this.children.length==0||this.length>20)return null;let e=0;for(let t of this.children){if(!(t instanceof Ni))return null;let i=Hx(t.dom);if(i.length!=1)return null;e+=i[0].width}return{lineHeight:this.dom.getBoundingClientRect().height,charWidth:e/this.length}}coordsAt(e,t){return lm(this,e,t)}become(e){return!1}get type(){return un.Text}static find(e,t){for(let i=0,r=0;i<e.children.length;i++){let s=e.children[i],o=r+s.length;if(o>=t){if(s instanceof fn)return s;if(o>t)break}r=o+s.breakAfter}return null}}const ZC=Ie.define(),GC=Ie.define(),qC=Ie.define();var to=function(n){return n[n.LTR=0]="LTR",n[n.RTL=1]="RTL",n}(to||(to={}));to.LTR;to.RTL;const gf=Object.create(null);for(let n of["()","[]","{}"]){let e=n.charCodeAt(0),t=n.charCodeAt(1);gf[e]=t,gf[t]=-e}function VC(n,e,t=1){let i=n.charCategorizer(e),r=n.doc.lineAt(e),s=e-r.from;if(r.length==0)return H.cursor(e);s==0?t=1:s==r.length&&(t=-1);let o=s,a=s;t<0?o=Qi(r.text,s,!1):a=Qi(r.text,s);let l=i(r.text.slice(o,a));for(;o>0;){let h=Qi(r.text,o,!1);if(i(r.text.slice(h,o))!=l)break;o=h}for(;a<r.length;){let h=Qi(r.text,a);if(i(r.text.slice(a,h))!=l)break;a=h}return H.range(o+r.from,a+r.from)}const YC=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],JC=[16,17,18,20,91,92,224,225];class HC{constructor(e,t,i,r){this.view=e,this.style=i,this.mustSelect=r,this.lastEvent=t;let s=e.contentDOM.ownerDocument;s.addEventListener("mousemove",this.move=this.move.bind(this)),s.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=t.shiftKey,this.multiple=e.state.facet(ge.allowMultipleSelections)&&KC(e,t),this.dragMove=eD(e,t),this.dragging=tD(e,t)&&Wh(t)==1?null:!1,this.dragging===!1&&(t.preventDefault(),this.select(t))}move(e){if(e.buttons==0)return this.destroy();this.dragging===!1&&this.select(this.lastEvent=e)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=null}select(e){let t=this.style.get(e,this.extend,this.multiple);(this.mustSelect||!t.eq(this.view.state.selection)||t.main.assoc!=this.view.state.selection.main.assoc)&&this.view.dispatch({selection:t,userEvent:"select.pointer",scrollIntoView:!0}),this.mustSelect=!1}update(e){e.docChanged&&this.dragging&&(this.dragging=this.dragging.map(e.changes)),this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function KC(n,e){let t=n.state.facet(ZC);return t.length?t[0](e):Ge.mac?e.metaKey:e.ctrlKey}function eD(n,e){let t=n.state.facet(GC);return t.length?t[0](e):Ge.mac?!e.altKey:!e.ctrlKey}function tD(n,e){let{main:t}=n.state.selection;if(t.empty)return!1;let i=BC(n.root);if(!i||i.rangeCount==0)return!0;let r=i.getRangeAt(0).getClientRects();for(let s=0;s<r.length;s++){let o=r[s];if(o.left<=e.clientX&&o.right>=e.clientX&&o.top<=e.clientY&&o.bottom>=e.clientY)return!0}return!1}const Le=Object.create(null),Of=Object.create(null),cm=Ge.ie&&Ge.ie_version<15||Ge.ios&&Ge.webkit_version<604;function iD(n){let e=n.dom.parentNode;if(!e)return;let t=e.appendChild(document.createElement("textarea"));t.style.cssText="position: fixed; left: -10000px; top: 10px",t.focus(),setTimeout(()=>{n.focus(),t.remove(),um(n,t.value)},50)}function um(n,e){let{state:t}=n,i,r=1,s=t.toText(e),o=s.lines==t.selection.ranges.length;if(zl!=null&&t.selection.ranges.every(l=>l.empty)&&zl==s.toString()){let l=-1;i=t.changeByRange(h=>{let c=t.doc.lineAt(h.from);if(c.from==l)return{range:h};l=c.from;let u=t.toText((o?s.line(r++).text:e)+t.lineBreak);return{changes:{from:c.from,insert:u},range:H.cursor(h.from+u.length)}})}else o?i=t.changeByRange(l=>{let h=s.line(r++);return{changes:{from:l.from,to:l.to,insert:h.text},range:H.cursor(l.from+h.length)}}):i=t.replaceSelection(s);n.dispatch(i,{userEvent:"input.paste",scrollIntoView:!0})}Le.keydown=(n,e)=>{n.inputState.setSelectionOrigin("select"),e.keyCode==27?n.inputState.lastEscPress=Date.now():JC.indexOf(e.keyCode)<0&&(n.inputState.lastEscPress=0)};Le.touchstart=(n,e)=>{n.inputState.lastTouchTime=Date.now(),n.inputState.setSelectionOrigin("select.pointer")};Le.touchmove=n=>{n.inputState.setSelectionOrigin("select.pointer")};Of.touchstart=Of.touchmove={passive:!0};Le.mousedown=(n,e)=>{if(n.observer.flush(),n.inputState.lastTouchTime>Date.now()-2e3&&Wh(e)==1)return;let t=null;for(let i of n.state.facet(qC))if(t=i(n,e),t)break;if(!t&&e.button==0&&(t=sD(n,e)),t){let i=n.root.activeElement!=n.contentDOM;i&&n.observer.ignore(()=>WC(n.contentDOM)),n.inputState.startMouseSelection(new HC(n,e,t,i))}};function yf(n,e,t,i){if(i==1)return H.cursor(e,t);if(i==2)return VC(n.state,e,t);{let r=fn.find(n.docView,e),s=n.state.doc.lineAt(r?r.posAtEnd:e),o=r?r.posAtStart:s.from,a=r?r.posAtEnd:s.to;return a<n.state.doc.length&&a==s.to&&a++,H.range(o,a)}}let fm=(n,e)=>n>=e.top&&n<=e.bottom,bf=(n,e,t)=>fm(e,t)&&n>=t.left&&n<=t.right;function nD(n,e,t,i){let r=fn.find(n.docView,e);if(!r)return 1;let s=e-r.posAtStart;if(s==0)return 1;if(s==r.length)return-1;let o=r.coordsAt(s,-1);if(o&&bf(t,i,o))return-1;let a=r.coordsAt(s,1);return a&&bf(t,i,a)?1:o&&fm(i,o)?-1:1}function Sf(n,e){let t=n.posAtCoords({x:e.clientX,y:e.clientY},!1);return{pos:t,bias:nD(n,t,e.clientX,e.clientY)}}const rD=Ge.ie&&Ge.ie_version<=11;let wf=null,vf=0,kf=0;function Wh(n){if(!rD)return n.detail;let e=wf,t=kf;return wf=n,kf=Date.now(),vf=!e||t>Date.now()-400&&Math.abs(e.clientX-n.clientX)<2&&Math.abs(e.clientY-n.clientY)<2?(vf+1)%3:1}function sD(n,e){let t=Sf(n,e),i=Wh(e),r=n.state.selection,s=t,o=e;return{update(a){a.docChanged&&(t&&(t.pos=a.changes.mapPos(t.pos)),r=r.map(a.changes),o=null)},get(a,l,h){let c;if(o&&a.clientX==o.clientX&&a.clientY==o.clientY?c=s:(c=s=Sf(n,a),o=a),!c||!t)return r;let u=yf(n,c.pos,c.bias,i);if(t.pos!=c.pos&&!l){let d=yf(n,t.pos,t.bias,i),x=Math.min(d.from,u.from),g=Math.max(d.to,u.to);u=x<u.from?H.range(x,g):H.range(g,x)}return l?r.replaceRange(r.main.extend(u.from,u.to)):h&&r.ranges.length>1&&r.ranges.some(d=>d.eq(u))?oD(r,u):h?r.addRange(u):H.create([u])}}}function oD(n,e){for(let t=0;;t++)if(n.ranges[t].eq(e))return H.create(n.ranges.slice(0,t).concat(n.ranges.slice(t+1)),n.mainIndex==t?0:n.mainIndex-(n.mainIndex>t?1:0))}Le.dragstart=(n,e)=>{let{selection:{main:t}}=n.state,{mouseSelection:i}=n.inputState;i&&(i.dragging=t),e.dataTransfer&&(e.dataTransfer.setData("Text",n.state.sliceDoc(t.from,t.to)),e.dataTransfer.effectAllowed="copyMove")};function Cf(n,e,t,i){if(!t)return;let r=n.posAtCoords({x:e.clientX,y:e.clientY},!1);e.preventDefault();let{mouseSelection:s}=n.inputState,o=i&&s&&s.dragging&&s.dragMove?{from:s.dragging.from,to:s.dragging.to}:null,a={from:r,insert:t},l=n.state.changes(o?[o,a]:a);n.focus(),n.dispatch({changes:l,selection:{anchor:l.mapPos(r,-1),head:l.mapPos(r,1)},userEvent:o?"move.drop":"input.drop"})}Le.drop=(n,e)=>{if(!e.dataTransfer)return;if(n.state.readOnly)return e.preventDefault();let t=e.dataTransfer.files;if(t&&t.length){e.preventDefault();let i=Array(t.length),r=0,s=()=>{++r==t.length&&Cf(n,e,i.filter(o=>o!=null).join(n.state.lineBreak),!1)};for(let o=0;o<t.length;o++){let a=new FileReader;a.onerror=s,a.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(a.result)||(i[o]=a.result),s()},a.readAsText(t[o])}}else Cf(n,e,e.dataTransfer.getData("Text"),!0)};Le.paste=(n,e)=>{if(n.state.readOnly)return e.preventDefault();n.observer.flush();let t=cm?null:e.clipboardData;t?(um(n,t.getData("text/plain")),e.preventDefault()):iD(n)};function aD(n,e){let t=n.dom.parentNode;if(!t)return;let i=t.appendChild(document.createElement("textarea"));i.style.cssText="position: fixed; left: -10000px; top: 10px",i.value=e,i.focus(),i.selectionEnd=e.length,i.selectionStart=0,setTimeout(()=>{i.remove(),n.focus()},50)}function lD(n){let e=[],t=[],i=!1;for(let r of n.selection.ranges)r.empty||(e.push(n.sliceDoc(r.from,r.to)),t.push(r));if(!e.length){let r=-1;for(let{from:s}of n.selection.ranges){let o=n.doc.lineAt(s);o.number>r&&(e.push(o.text),t.push({from:o.from,to:Math.min(n.doc.length,o.to+1)})),r=o.number}i=!0}return{text:e.join(n.lineBreak),ranges:t,linewise:i}}let zl=null;Le.copy=Le.cut=(n,e)=>{let{text:t,ranges:i,linewise:r}=lD(n.state);if(!t&&!r)return;zl=r?t:null;let s=cm?null:e.clipboardData;s?(e.preventDefault(),s.clearData(),s.setData("text/plain",t)):aD(n,t),e.type=="cut"&&!n.state.readOnly&&n.dispatch({changes:i,scrollIntoView:!0,userEvent:"delete.cut"})};function dm(n){setTimeout(()=>{n.hasFocus!=n.inputState.notifiedFocused&&n.update([])},10)}Le.focus=n=>{n.inputState.lastFocusTime=Date.now(),!n.scrollDOM.scrollTop&&(n.inputState.lastScrollTop||n.inputState.lastScrollLeft)&&(n.scrollDOM.scrollTop=n.inputState.lastScrollTop,n.scrollDOM.scrollLeft=n.inputState.lastScrollLeft),dm(n)};Le.blur=n=>{n.observer.clearSelectionRange(),dm(n)};function pm(n,e){if(n.docView.compositionDeco.size){n.inputState.rapidCompositionStart=e;try{n.update([])}finally{n.inputState.rapidCompositionStart=!1}}}Le.compositionstart=Le.compositionupdate=n=>{n.inputState.compositionFirstChange==null&&(n.inputState.compositionFirstChange=!0),n.inputState.composing<0&&(n.inputState.composing=0,n.docView.compositionDeco.size&&(n.observer.flush(),pm(n,!0)))};Le.compositionend=n=>{n.inputState.composing=-1,n.inputState.compositionEndedAt=Date.now(),n.inputState.compositionFirstChange=null,setTimeout(()=>{n.inputState.composing<0&&pm(n,!1)},50)};Le.contextmenu=n=>{n.inputState.lastContextMenu=Date.now()};Le.beforeinput=(n,e)=>{var t;let i;if(Ge.chrome&&Ge.android&&(i=YC.find(r=>r.inputType==e.inputType))&&(n.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let r=((t=window.visualViewport)===null||t===void 0?void 0:t.height)||0;setTimeout(()=>{var s;(((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0)>r+10&&n.hasFocus&&(n.contentDOM.blur(),n.focus())},100)}};const hD=!Ge.ios,cD={".cm-line":{"& ::selection":{backgroundColor:"transparent !important"},"&::selection":{backgroundColor:"transparent !important"}}};hD&&(cD[".cm-line"].caretColor="transparent !important");class bn extends yn{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}bn.prototype.elementClass="";bn.prototype.toDOM=void 0;bn.prototype.mapMode=rt.TrackBefore;bn.prototype.startSide=bn.prototype.endSide=-1;bn.prototype.point=!0;const uD=1024;let fD=0;class me{constructor(e={}){this.id=fD++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")})}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=yt.match(e)),t=>{let i=e(t);return i===void 0?null:[this,i]}}}me.closedBy=new me({deserialize:n=>n.split(" ")});me.openedBy=new me({deserialize:n=>n.split(" ")});me.group=new me({deserialize:n=>n.split(" ")});me.contextHash=new me({perNode:!0});me.lookAhead=new me({perNode:!0});me.mounted=new me({perNode:!0});const dD=Object.create(null);class yt{constructor(e,t,i,r=0){this.name=e,this.props=t,this.id=i,this.flags=r}static define(e){let t=e.props&&e.props.length?Object.create(null):dD,i=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),r=new yt(e.name||"",t,e.id,i);if(e.props){for(let s of e.props)if(Array.isArray(s)||(s=s(r)),s){if(s[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");t[s[0].id]=s[1]}}return r}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let t=this.prop(me.group);return t?t.indexOf(e)>-1:!1}return this.id==e}static match(e){let t=Object.create(null);for(let i in e)for(let r of i.split(" "))t[r]=e[i];return i=>{for(let r=i.prop(me.group),s=-1;s<(r?r.length:0);s++){let o=t[s<0?i.name:r[s]];if(o)return o}}}}yt.none=new yt("",Object.create(null),0,8);const ns=new WeakMap,Df=new WeakMap;var Ue;(function(n){n[n.ExcludeBuffers=1]="ExcludeBuffers",n[n.IncludeAnonymous=2]="IncludeAnonymous",n[n.IgnoreMounts=4]="IgnoreMounts",n[n.IgnoreOverlays=8]="IgnoreOverlays"})(Ue||(Ue={}));class Nt{constructor(e,t,i,r,s){if(this.type=e,this.children=t,this.positions=i,this.length=r,this.props=null,s&&s.length){this.props=Object.create(null);for(let[o,a]of s)this.props[typeof o=="number"?o:o.id]=a}}toString(){let e=this.prop(me.mounted);if(e&&!e.overlay)return e.tree.toString();let t="";for(let i of this.children){let r=i.toString();r&&(t&&(t+=","),t+=r)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(t.length?"("+t+")":""):t}cursor(e=0){return new ro(this.topNode,e)}cursorAt(e,t=0,i=0){let r=ns.get(this)||this.topNode,s=new ro(r);return s.moveTo(e,t),ns.set(this,s._tree),s}get topNode(){return new Yt(this,0,0,null)}resolve(e,t=0){let i=Sn(ns.get(this)||this.topNode,e,t,!1);return ns.set(this,i),i}resolveInner(e,t=0){let i=Sn(Df.get(this)||this.topNode,e,t,!0);return Df.set(this,i),i}iterate(e){let{enter:t,leave:i,from:r=0,to:s=this.length}=e;for(let o=this.cursor((e.mode||0)|Ue.IncludeAnonymous);;){let a=!1;if(o.from<=s&&o.to>=r&&(o.type.isAnonymous||t(o)!==!1)){if(o.firstChild())continue;a=!0}for(;a&&i&&!o.type.isAnonymous&&i(o),!o.nextSibling();){if(!o.parent())return;a=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let t in this.props)e.push([+t,this.props[t]]);return e}balance(e={}){return this.children.length<=8?this:Xh(yt.none,this.children,this.positions,0,this.children.length,0,this.length,(t,i,r)=>new Nt(this.type,t,i,r,this.propValues),e.makeTree||((t,i,r)=>new Nt(yt.none,t,i,r)))}static build(e){return xD(e)}}Nt.empty=new Nt(yt.none,[],[],0);class Nh{constructor(e,t){this.buffer=e,this.index=t}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Nh(this.buffer,this.index)}}class ji{constructor(e,t,i){this.buffer=e,this.length=t,this.set=i}get type(){return yt.none}toString(){let e=[];for(let t=0;t<this.buffer.length;)e.push(this.childString(t)),t=this.buffer[t+3];return e.join(",")}childString(e){let t=this.buffer[e],i=this.buffer[e+3],r=this.set.types[t],s=r.name;if(/\W/.test(s)&&!r.isError&&(s=JSON.stringify(s)),e+=4,i==e)return s;let o=[];for(;e<i;)o.push(this.childString(e)),e=this.buffer[e+3];return s+"("+o.join(",")+")"}findChild(e,t,i,r,s){let{buffer:o}=this,a=-1;for(let l=e;l!=t&&!(xm(s,r,o[l+1],o[l+2])&&(a=l,i>0));l=o[l+3]);return a}slice(e,t,i,r){let s=this.buffer,o=new Uint16Array(t-e);for(let a=e,l=0;a<t;)o[l++]=s[a++],o[l++]=s[a++]-i,o[l++]=s[a++]-i,o[l++]=s[a++]-e;return new ji(o,r-i,this.set)}}function xm(n,e,t,i){switch(n){case-2:return t<e;case-1:return i>=e&&t<e;case 0:return t<e&&i>e;case 1:return t<=e&&i>e;case 2:return i>e;case 4:return!0}}function mm(n,e){let t=n.childBefore(e);for(;t;){let i=t.lastChild;if(!i||i.to!=t.to)break;i.type.isError&&i.from==i.to?(n=t,t=i.prevSibling):t=i}return n}function Sn(n,e,t,i){for(var r;n.from==n.to||(t<1?n.from>=e:n.from>e)||(t>-1?n.to<=e:n.to<e);){let o=!i&&n instanceof Yt&&n.index<0?null:n.parent;if(!o)return n;n=o}let s=i?0:Ue.IgnoreOverlays;if(i)for(let o=n,a=o.parent;a;o=a,a=o.parent)o instanceof Yt&&o.index<0&&((r=a.enter(e,t,s))===null||r===void 0?void 0:r.from)!=o.from&&(n=a);for(;;){let o=n.enter(e,t,s);if(!o)return n;n=o}}class Yt{constructor(e,t,i,r){this._tree=e,this.from=t,this.index=i,this._parent=r}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,t,i,r,s=0){for(let o=this;;){for(let{children:a,positions:l}=o._tree,h=t>0?a.length:-1;e!=h;e+=t){let c=a[e],u=l[e]+o.from;if(!!xm(r,i,u,u+c.length)){if(c instanceof ji){if(s&Ue.ExcludeBuffers)continue;let d=c.findChild(0,c.buffer.length,t,i-u,r);if(d>-1)return new di(new pD(o,c,e,u),null,d)}else if(s&Ue.IncludeAnonymous||!c.type.isAnonymous||Lh(c)){let d;if(!(s&Ue.IgnoreMounts)&&c.props&&(d=c.prop(me.mounted))&&!d.overlay)return new Yt(d.tree,u,e,o);let x=new Yt(c,u,e,o);return s&Ue.IncludeAnonymous||!x.type.isAnonymous?x:x.nextChild(t<0?c.children.length-1:0,t,i,r)}}}if(s&Ue.IncludeAnonymous||!o.type.isAnonymous||(o.index>=0?e=o.index+t:e=t<0?-1:o._parent._tree.children.length,o=o._parent,!o))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}enter(e,t,i=0){let r;if(!(i&Ue.IgnoreOverlays)&&(r=this._tree.prop(me.mounted))&&r.overlay){let s=e-this.from;for(let{from:o,to:a}of r.overlay)if((t>0?o<=s:o<s)&&(t<0?a>=s:a>s))return new Yt(r.tree,r.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,t,i)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}cursor(e=0){return new ro(this,e)}get tree(){return this._tree}toTree(){return this._tree}resolve(e,t=0){return Sn(this,e,t,!1)}resolveInner(e,t=0){return Sn(this,e,t,!0)}enterUnfinishedNodesBefore(e){return mm(this,e)}getChild(e,t=null,i=null){let r=io(this,e,t,i);return r.length?r[0]:null}getChildren(e,t=null,i=null){return io(this,e,t,i)}toString(){return this._tree.toString()}get node(){return this}matchContext(e){return no(this,e)}}function io(n,e,t,i){let r=n.cursor(),s=[];if(!r.firstChild())return s;if(t!=null){for(;!r.type.is(t);)if(!r.nextSibling())return s}for(;;){if(i!=null&&r.type.is(i))return s;if(r.type.is(e)&&s.push(r.node),!r.nextSibling())return i==null?s:[]}}function no(n,e,t=e.length-1){for(let i=n.parent;t>=0;i=i.parent){if(!i)return!1;if(!i.type.isAnonymous){if(e[t]&&e[t]!=i.name)return!1;t--}}return!0}class pD{constructor(e,t,i,r){this.parent=e,this.buffer=t,this.index=i,this.start=r}}class di{constructor(e,t,i){this.context=e,this._parent=t,this.index=i,this.type=e.buffer.set.types[e.buffer.buffer[i]]}get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}child(e,t,i){let{buffer:r}=this.context,s=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.context.start,i);return s<0?null:new di(this.context,this,s)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}enter(e,t,i=0){if(i&Ue.ExcludeBuffers)return null;let{buffer:r}=this.context,s=r.findChild(this.index+4,r.buffer[this.index+3],t>0?1:-1,e-this.context.start,t);return s<0?null:new di(this.context,this,s)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,t=e.buffer[this.index+3];return t<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new di(this.context,this._parent,t):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,t=this._parent?this._parent.index+4:0;return this.index==t?this.externalSibling(-1):new di(this.context,this._parent,e.findChild(t,this.index,-1,0,4))}cursor(e=0){return new ro(this,e)}get tree(){return null}toTree(){let e=[],t=[],{buffer:i}=this.context,r=this.index+4,s=i.buffer[this.index+3];if(s>r){let o=i.buffer[this.index+1],a=i.buffer[this.index+2];e.push(i.slice(r,s,o,a)),t.push(0)}return new Nt(this.type,e,t,this.to-this.from)}resolve(e,t=0){return Sn(this,e,t,!1)}resolveInner(e,t=0){return Sn(this,e,t,!0)}enterUnfinishedNodesBefore(e){return mm(this,e)}toString(){return this.context.buffer.childString(this.index)}getChild(e,t=null,i=null){let r=io(this,e,t,i);return r.length?r[0]:null}getChildren(e,t=null,i=null){return io(this,e,t,i)}get node(){return this}matchContext(e){return no(this,e)}}class ro{constructor(e,t=0){if(this.mode=t,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,e instanceof Yt)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let i=e._parent;i;i=i._parent)this.stack.unshift(i.index);this.bufferNode=e,this.yieldBuf(e.index)}}get name(){return this.type.name}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,t){this.index=e;let{start:i,buffer:r}=this.buffer;return this.type=t||r.set.types[r.buffer[e]],this.from=i+r.buffer[e+1],this.to=i+r.buffer[e+2],!0}yield(e){return e?e instanceof Yt?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,t,i){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,t,i,this.mode));let{buffer:r}=this.buffer,s=r.findChild(this.index+4,r.buffer[this.index+3],e,t-this.buffer.start,i);return s<0?!1:(this.stack.push(this.index),this.yieldBuf(s))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,t,i=this.mode){return this.buffer?i&Ue.ExcludeBuffers?!1:this.enterChild(1,e,t):this.yield(this._tree.enter(e,t,i))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Ue.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Ue.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:t}=this.buffer,i=this.stack.length-1;if(e<0){let r=i<0?0:this.stack[i]+4;if(this.index!=r)return this.yieldBuf(t.findChild(r,this.index,-1,0,4))}else{let r=t.buffer[this.index+3];if(r<(i<0?t.buffer.length:t.buffer[this.stack[i]+3]))return this.yieldBuf(r)}return i<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let t,i,{buffer:r}=this;if(r){if(e>0){if(this.index<r.buffer.buffer.length)return!1}else for(let s=0;s<this.index;s++)if(r.buffer.buffer[s+3]<this.index)return!1;({index:t,parent:i}=r)}else({index:t,_parent:i}=this._tree);for(;i;{index:t,_parent:i}=i)if(t>-1)for(let s=t+e,o=e<0?-1:i._tree.children.length;s!=o;s+=e){let a=i._tree.children[s];if(this.mode&Ue.IncludeAnonymous||a instanceof ji||!a.type.isAnonymous||Lh(a))return!1}return!0}move(e,t){if(t&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,t=0){for(;(this.from==this.to||(t<1?this.from>=e:this.from>e)||(t>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,t););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,t=null,i=0;if(e&&e.context==this.buffer){e:for(let r=this.index,s=this.stack.length;s>=0;){for(let o=e;o;o=o._parent)if(o.index==r){if(r==this.index)return o;t=o,i=s+1;break e}r=this.stack[--s]}}for(let r=i;r<this.stack.length;r++)t=new di(this.buffer,t,this.stack[r]);return this.bufferNode=new di(this.buffer,t,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,t){for(let i=0;;){let r=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){i++;continue}this.type.isAnonymous||(r=!0)}for(;r&&t&&t(this),r=this.type.isAnonymous,!this.nextSibling();){if(!i)return;this.parent(),i--,r=!0}}}matchContext(e){if(!this.buffer)return no(this.node,e);let{buffer:t}=this.buffer,{types:i}=t.set;for(let r=e.length-1,s=this.stack.length-1;r>=0;s--){if(s<0)return no(this.node,e,r);let o=i[t.buffer[this.stack[s]]];if(!o.isAnonymous){if(e[r]&&e[r]!=o.name)return!1;r--}}return!0}}function Lh(n){return n.children.some(e=>e instanceof ji||!e.type.isAnonymous||Lh(e))}function xD(n){var e;let{buffer:t,nodeSet:i,maxBufferLength:r=uD,reused:s=[],minRepeatType:o=i.types.length}=n,a=Array.isArray(t)?new Nh(t,t.length):t,l=i.types,h=0,c=0;function u(b,w,S,v,C){let{id:k,start:A,end:Q,size:R}=a,M=c;for(;R<0;)if(a.next(),R==-1){let ee=s[k];S.push(ee),v.push(A-b);return}else if(R==-3){h=k;return}else if(R==-4){c=k;return}else throw new RangeError(`Unrecognized record size: ${R}`);let _=l[k],Z,G,ce=A-b;if(Q-A<=r&&(G=f(a.pos-w,C))){let ee=new Uint16Array(G.size-G.skip),ne=a.pos-G.size,se=ee.length;for(;a.pos>ne;)se=p(G.start,ee,se);Z=new ji(ee,Q-G.start,i),ce=G.start-b}else{let ee=a.pos-R;a.next();let ne=[],se=[],be=k>=o?k:-1,ke=0,qe=Q;for(;a.pos>ee;)be>=0&&a.id==be&&a.size>=0?(a.end<=qe-r&&(x(ne,se,A,ke,a.end,qe,be,M),ke=ne.length,qe=a.end),a.next()):u(A,ee,ne,se,be);if(be>=0&&ke>0&&ke<ne.length&&x(ne,se,A,ke,A,qe,be,M),ne.reverse(),se.reverse(),be>-1&&ke>0){let wt=d(_);Z=Xh(_,ne,se,0,ne.length,0,Q-A,wt,wt)}else Z=g(_,ne,se,Q-A,M-Q)}S.push(Z),v.push(ce)}function d(b){return(w,S,v)=>{let C=0,k=w.length-1,A,Q;if(k>=0&&(A=w[k])instanceof Nt){if(!k&&A.type==b&&A.length==v)return A;(Q=A.prop(me.lookAhead))&&(C=S[k]+A.length+Q)}return g(b,w,S,v,C)}}function x(b,w,S,v,C,k,A,Q){let R=[],M=[];for(;b.length>v;)R.push(b.pop()),M.push(w.pop()+S-C);b.push(g(i.types[A],R,M,k-C,Q-k)),w.push(C-S)}function g(b,w,S,v,C=0,k){if(h){let A=[me.contextHash,h];k=k?[A].concat(k):[A]}if(C>25){let A=[me.lookAhead,C];k=k?[A].concat(k):[A]}return new Nt(b,w,S,v,k)}function f(b,w){let S=a.fork(),v=0,C=0,k=0,A=S.end-r,Q={size:0,start:0,skip:0};e:for(let R=S.pos-b;S.pos>R;){let M=S.size;if(S.id==w&&M>=0){Q.size=v,Q.start=C,Q.skip=k,k+=4,v+=4,S.next();continue}let _=S.pos-M;if(M<0||_<R||S.start<A)break;let Z=S.id>=o?4:0,G=S.start;for(S.next();S.pos>_;){if(S.size<0)if(S.size==-3)Z+=4;else break e;else S.id>=o&&(Z+=4);S.next()}C=G,v+=M,k+=Z}return(w<0||v==b)&&(Q.size=v,Q.start=C,Q.skip=k),Q.size>4?Q:void 0}function p(b,w,S){let{id:v,start:C,end:k,size:A}=a;if(a.next(),A>=0&&v<o){let Q=S;if(A>4){let R=a.pos-(A-4);for(;a.pos>R;)S=p(b,w,S)}w[--S]=Q,w[--S]=k-b,w[--S]=C-b,w[--S]=v}else A==-3?h=v:A==-4&&(c=v);return S}let m=[],O=[];for(;a.pos>0;)u(n.start||0,n.bufferStart||0,m,O,-1);let y=(e=n.length)!==null&&e!==void 0?e:m.length?O[0]+m[0].length:0;return new Nt(l[n.topID],m.reverse(),O.reverse(),y)}const Af=new WeakMap;function Os(n,e){if(!n.isAnonymous||e instanceof ji||e.type!=n)return 1;let t=Af.get(e);if(t==null){t=1;for(let i of e.children){if(i.type!=n||!(i instanceof Nt)){t=1;break}t+=Os(n,i)}Af.set(e,t)}return t}function Xh(n,e,t,i,r,s,o,a,l){let h=0;for(let g=i;g<r;g++)h+=Os(n,e[g]);let c=Math.ceil(h*1.5/8),u=[],d=[];function x(g,f,p,m,O){for(let y=p;y<m;){let b=y,w=f[y],S=Os(n,g[y]);for(y++;y<m;y++){let v=Os(n,g[y]);if(S+v>=c)break;S+=v}if(y==b+1){if(S>c){let v=g[b];x(v.children,v.positions,0,v.children.length,f[b]+O);continue}u.push(g[b])}else{let v=f[y-1]+g[y-1].length-w;u.push(Xh(n,g,f,b,y,w,v,null,l))}d.push(w+O-s)}}return x(e,t,i,r,0),(a||l)(u,d,o)}new me({perNode:!0});let mD=0;class $t{constructor(e,t,i){this.set=e,this.base=t,this.modified=i,this.id=mD++}static define(e){if(e!=null&&e.base)throw new Error("Can not derive from a modified tag");let t=new $t([],null,[]);if(t.set.push(t),e)for(let i of e.set)t.set.push(i);return t}static defineModifier(){let e=new so;return t=>t.modified.indexOf(e)>-1?t:so.get(t.base||t,t.modified.concat(e).sort((i,r)=>i.id-r.id))}}let gD=0;class so{constructor(){this.instances=[],this.id=gD++}static get(e,t){if(!t.length)return e;let i=t[0].instances.find(a=>a.base==e&&OD(t,a.modified));if(i)return i;let r=[],s=new $t(r,e,t);for(let a of t)a.instances.push(s);let o=gm(t);for(let a of e.set)for(let l of o)r.push(so.get(a,l));return s}}function OD(n,e){return n.length==e.length&&n.every((t,i)=>t==e[i])}function gm(n){let e=[n];for(let t=0;t<n.length;t++)for(let i of gm(n.slice(0,t).concat(n.slice(t+1))))e.push(i);return e}function yD(n){let e=Object.create(null);for(let t in n){let i=n[t];Array.isArray(i)||(i=[i]);for(let r of t.split(" "))if(r){let s=[],o=2,a=r;for(let u=0;;){if(a=="..."&&u>0&&u+3==r.length){o=1;break}let d=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(a);if(!d)throw new RangeError("Invalid path: "+r);if(s.push(d[0]=="*"?"":d[0][0]=='"'?JSON.parse(d[0]):d[0]),u+=d[0].length,u==r.length)break;let x=r[u++];if(u==r.length&&x=="!"){o=0;break}if(x!="/")throw new RangeError("Invalid path: "+r);a=r.slice(u)}let l=s.length-1,h=s[l];if(!h)throw new RangeError("Invalid path: "+r);let c=new SD(i,o,l>0?s.slice(0,l):null);e[h]=c.sort(e[h])}}return bD.add(e)}const bD=new me;class SD{constructor(e,t,i,r){this.tags=e,this.mode=t,this.context=i,this.next=r}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}function wD(n,e){let t=Object.create(null);for(let s of n)if(!Array.isArray(s.tag))t[s.tag.id]=s.class;else for(let o of s.tag)t[o.id]=s.class;let{scope:i,all:r=null}=e||{};return{style:s=>{let o=r;for(let a of s)for(let l of a.set){let h=t[l.id];if(h){o=o?o+" "+h:h;break}}return o},scope:i}}const B=$t.define,rs=B(),si=B(),Ef=B(si),Tf=B(si),oi=B(),ss=B(oi),ba=B(oi),Tt=B(),Ci=B(Tt),Dt=B(),At=B(),_l=B(),Ln=B(_l),os=B(),J={comment:rs,lineComment:B(rs),blockComment:B(rs),docComment:B(rs),name:si,variableName:B(si),typeName:Ef,tagName:B(Ef),propertyName:Tf,attributeName:B(Tf),className:B(si),labelName:B(si),namespace:B(si),macroName:B(si),literal:oi,string:ss,docString:B(ss),character:B(ss),attributeValue:B(ss),number:ba,integer:B(ba),float:B(ba),bool:B(oi),regexp:B(oi),escape:B(oi),color:B(oi),url:B(oi),keyword:Dt,self:B(Dt),null:B(Dt),atom:B(Dt),unit:B(Dt),modifier:B(Dt),operatorKeyword:B(Dt),controlKeyword:B(Dt),definitionKeyword:B(Dt),moduleKeyword:B(Dt),operator:At,derefOperator:B(At),arithmeticOperator:B(At),logicOperator:B(At),bitwiseOperator:B(At),compareOperator:B(At),updateOperator:B(At),definitionOperator:B(At),typeOperator:B(At),controlOperator:B(At),punctuation:_l,separator:B(_l),bracket:Ln,angleBracket:B(Ln),squareBracket:B(Ln),paren:B(Ln),brace:B(Ln),content:Tt,heading:Ci,heading1:B(Ci),heading2:B(Ci),heading3:B(Ci),heading4:B(Ci),heading5:B(Ci),heading6:B(Ci),contentSeparator:B(Tt),list:B(Tt),quote:B(Tt),emphasis:B(Tt),strong:B(Tt),link:B(Tt),monospace:B(Tt),strikethrough:B(Tt),inserted:B(),deleted:B(),changed:B(),invalid:B(),meta:os,documentMeta:B(os),annotation:B(os),processingInstruction:B(os),definition:$t.defineModifier(),constant:$t.defineModifier(),function:$t.defineModifier(),standard:$t.defineModifier(),local:$t.defineModifier(),special:$t.defineModifier()};wD([{tag:J.link,class:"tok-link"},{tag:J.heading,class:"tok-heading"},{tag:J.emphasis,class:"tok-emphasis"},{tag:J.strong,class:"tok-strong"},{tag:J.keyword,class:"tok-keyword"},{tag:J.atom,class:"tok-atom"},{tag:J.bool,class:"tok-bool"},{tag:J.url,class:"tok-url"},{tag:J.labelName,class:"tok-labelName"},{tag:J.inserted,class:"tok-inserted"},{tag:J.deleted,class:"tok-deleted"},{tag:J.literal,class:"tok-literal"},{tag:J.string,class:"tok-string"},{tag:J.number,class:"tok-number"},{tag:[J.regexp,J.escape,J.special(J.string)],class:"tok-string2"},{tag:J.variableName,class:"tok-variableName"},{tag:J.local(J.variableName),class:"tok-variableName tok-local"},{tag:J.definition(J.variableName),class:"tok-variableName tok-definition"},{tag:J.special(J.variableName),class:"tok-variableName2"},{tag:J.definition(J.propertyName),class:"tok-propertyName tok-definition"},{tag:J.typeName,class:"tok-typeName"},{tag:J.namespace,class:"tok-namespace"},{tag:J.className,class:"tok-className"},{tag:J.macroName,class:"tok-macroName"},{tag:J.propertyName,class:"tok-propertyName"},{tag:J.operator,class:"tok-operator"},{tag:J.comment,class:"tok-comment"},{tag:J.meta,class:"tok-meta"},{tag:J.invalid,class:"tok-invalid"},{tag:J.punctuation,class:"tok-punctuation"}]);var Sa;typeof navigator!="undefined"&&((Sa=navigator.scheduling)===null||Sa===void 0||Sa.isInputPending);const Uh=Ie.define({combine:n=>{if(!n.length)return"  ";if(!/^(?: +|\t+)$/.test(n[0]))throw new Error("Invalid indent unit: "+JSON.stringify(n[0]));return n[0]}});function vD(n){let e=n.facet(Uh);return e.charCodeAt(0)==9?n.tabSize*e.length:e.length}function kD(n,e){let t="",i=n.tabSize;if(n.facet(Uh).charCodeAt(0)==9)for(;e>=i;)t+="	",e-=i;for(let r=0;r<e;r++)t+=" ";return t}const CD=Object.create(null),Ff=[yt.none],$f=[],DD=Object.create(null);for(let[n,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])DD[n]=AD(CD,e);function wa(n,e){$f.indexOf(n)>-1||($f.push(n),console.warn(e))}function AD(n,e){let t=null;for(let s of e.split(".")){let o=n[s]||J[s];o?typeof o=="function"?t?t=o(t):wa(s,`Modifier ${s} used at start of tag`):t?wa(s,`Tag ${s} used as modifier`):t=o:wa(s,`Unknown highlighting tag ${s}`)}if(!t)return 0;let i=e.replace(/ /g,"_"),r=yt.define({id:Ff.length,name:i,props:[yD({[i]:t})]});return Ff.push(r),r.id}function Om(n,e){let t=-1;return n.changeByRange(i=>{let r=[];for(let o=i.from;o<=i.to;){let a=n.doc.lineAt(o);a.number>t&&(i.empty||i.to>a.from)&&(e(a,r,i),t=a.number),o=a.to+1}let s=n.changes(r);return{changes:r,range:H.range(s.mapPos(i.anchor,1),s.mapPos(i.head,1))}})}const ED=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(Om(n,(t,i)=>{i.push({from:t.from,insert:n.facet(Uh)})}),{userEvent:"input.indent"})),!0),TD=({state:n,dispatch:e})=>n.readOnly?!1:(e(n.update(Om(n,(t,i)=>{let r=/^\s*/.exec(t.text)[0];if(!r)return;let s=IC(r,n.tabSize),o=0,a=kD(n,Math.max(0,s-vD(n)));for(;o<r.length&&o<a.length&&r.charCodeAt(o)==a.charCodeAt(o);)o++;i.push({from:t.from+o,to:t.from+r.length,insert:a.slice(o)})}),{userEvent:"delete.dedent"})),!0),FD={key:"Tab",run:ED,shift:TD};class oo{constructor(e,t,i,r,s,o,a,l,h,c=0,u){this.p=e,this.stack=t,this.state=i,this.reducePos=r,this.pos=s,this.score=o,this.buffer=a,this.bufferBase=l,this.curContext=h,this.lookAhead=c,this.parent=u}toString(){return`[${this.stack.filter((e,t)=>t%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,t,i=0){let r=e.parser.context;return new oo(e,[],t,i,i,0,[],0,r?new Qf(r,r.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,t){this.stack.push(this.state,t,this.bufferBase+this.buffer.length),this.state=e}reduce(e){let t=e>>19,i=e&65535,{parser:r}=this.p,s=r.dynamicPrecedence(i);if(s&&(this.score+=s),t==0){this.pushState(r.getGoto(this.state,i,!0),this.reducePos),i<r.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,4,!0),this.reduceContext(i,this.reducePos);return}let o=this.stack.length-(t-1)*3-(e&262144?6:0),a=this.stack[o-2],l=this.stack[o-1],h=this.bufferBase+this.buffer.length-l;if(i<r.minRepeatTerm||e&131072){let c=r.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,a,c,h+4,!0)}if(e&262144)this.state=this.stack[o];else{let c=this.stack[o-3];this.state=r.getGoto(c,i,!0)}for(;this.stack.length>o;)this.stack.pop();this.reduceContext(i,a)}storeNode(e,t,i,r=4,s=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let o=this,a=this.buffer.length;if(a==0&&o.parent&&(a=o.bufferBase-o.parent.bufferBase,o=o.parent),a>0&&o.buffer[a-4]==0&&o.buffer[a-1]>-1){if(t==i)return;if(o.buffer[a-2]>=t){o.buffer[a-2]=i;return}}}if(!s||this.pos==i)this.buffer.push(e,t,i,r);else{let o=this.buffer.length;if(o>0&&this.buffer[o-4]!=0)for(;o>0&&this.buffer[o-2]>i;)this.buffer[o]=this.buffer[o-4],this.buffer[o+1]=this.buffer[o-3],this.buffer[o+2]=this.buffer[o-2],this.buffer[o+3]=this.buffer[o-1],o-=4,r>4&&(r-=4);this.buffer[o]=e,this.buffer[o+1]=t,this.buffer[o+2]=i,this.buffer[o+3]=r}}shift(e,t,i){let r=this.pos;if(e&131072)this.pushState(e&65535,this.pos);else if((e&262144)==0){let s=e,{parser:o}=this.p;(i>this.pos||t<=o.maxNode)&&(this.pos=i,o.stateFlag(s,1)||(this.reducePos=i)),this.pushState(s,r),this.shiftContext(t,r),t<=o.maxNode&&this.buffer.push(t,r,i,4)}else this.pos=i,this.shiftContext(t,r),t<=this.p.parser.maxNode&&this.buffer.push(t,r,i,4)}apply(e,t,i){e&65536?this.reduce(e):this.shift(e,t,i)}useNode(e,t){let i=this.p.reused.length-1;(i<0||this.p.reused[i]!=e)&&(this.p.reused.push(e),i++);let r=this.pos;this.reducePos=this.pos=r+e.length,this.pushState(t,r),this.buffer.push(i,r,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,t=e.buffer.length;for(;t>0&&e.buffer[t-2]>e.reducePos;)t-=4;let i=e.buffer.slice(t),r=e.bufferBase+t;for(;e&&r==e.bufferBase;)e=e.parent;return new oo(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,i,r,this.curContext,this.lookAhead,e)}recoverByDelete(e,t){let i=e<=this.p.parser.maxNode;i&&this.storeNode(e,this.pos,t,4),this.storeNode(0,this.pos,t,i?8:4),this.pos=this.reducePos=t,this.score-=190}canShift(e){for(let t=new $D(this);;){let i=this.p.parser.stateSlot(t.state,4)||this.p.parser.hasAction(t.state,e);if((i&65536)==0)return!0;if(i==0)return!1;t.reduce(i)}}recoverByInsert(e){if(this.stack.length>=300)return[];let t=this.p.parser.nextStates(this.state);if(t.length>4<<1||this.stack.length>=120){let r=[];for(let s=0,o;s<t.length;s+=2)(o=t[s+1])!=this.state&&this.p.parser.hasAction(o,e)&&r.push(t[s],o);if(this.stack.length<120)for(let s=0;r.length<4<<1&&s<t.length;s+=2){let o=t[s+1];r.some((a,l)=>l&1&&a==o)||r.push(t[s],o)}t=r}let i=[];for(let r=0;r<t.length&&i.length<4;r+=2){let s=t[r+1];if(s==this.state)continue;let o=this.split();o.pushState(s,this.pos),o.storeNode(0,o.pos,o.pos,4,!0),o.shiftContext(t[r],this.pos),o.score-=200,i.push(o)}return i}forceReduce(){let e=this.p.parser.stateSlot(this.state,5);if((e&65536)==0)return!1;let{parser:t}=this.p;if(!t.validAction(this.state,e)){let i=e>>19,r=e&65535,s=this.stack.length-i*3;if(s<0||t.getGoto(this.stack[s],r,!1)<0)return!1;this.storeNode(0,this.reducePos,this.reducePos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(e),!0}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let t=0;t<this.stack.length;t+=3)if(this.stack[t]!=e.stack[t])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(t)))}reduceContext(e,t){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(t)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.reducePos,this.reducePos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.reducePos,this.reducePos,-4)}updateContext(e){if(e!=this.curContext.context){let t=new Qf(this.curContext.tracker,e);t.hash!=this.curContext.hash&&this.emitContext(),this.curContext=t}}setLookAhead(e){e>this.lookAhead&&(this.emitLookAhead(),this.lookAhead=e)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class Qf{constructor(e,t){this.tracker=e,this.context=t,this.hash=e.strict?e.hash(t):0}}var Pf;(function(n){n[n.Insert=200]="Insert",n[n.Delete=190]="Delete",n[n.Reduce=100]="Reduce",n[n.MaxNext=4]="MaxNext",n[n.MaxInsertStackDepth=300]="MaxInsertStackDepth",n[n.DampenInsertStackDepth=120]="DampenInsertStackDepth"})(Pf||(Pf={}));class $D{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let t=e&65535,i=e>>19;i==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(i-1)*3;let r=this.start.p.parser.getGoto(this.stack[this.base-3],t,!0);this.state=r}}class ao{constructor(e,t,i){this.stack=e,this.pos=t,this.index=i,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,t=e.bufferBase+e.buffer.length){return new ao(e,t,t-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new ao(this.stack,this.pos,this.index)}}class ys{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const Rf=new ys;class QD{constructor(e,t){this.input=e,this.ranges=t,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=Rf,this.rangeIndex=0,this.pos=this.chunkPos=t[0].from,this.range=t[0],this.end=t[t.length-1].to,this.readNext()}resolveOffset(e,t){let i=this.range,r=this.rangeIndex,s=this.pos+e;for(;s<i.from;){if(!r)return null;let o=this.ranges[--r];s-=i.from-o.to,i=o}for(;t<0?s>i.to:s>=i.to;){if(r==this.ranges.length-1)return null;let o=this.ranges[++r];s+=o.from-i.to,i=o}return s}peek(e){let t=this.chunkOff+e,i,r;if(t>=0&&t<this.chunk.length)i=this.pos+e,r=this.chunk.charCodeAt(t);else{let s=this.resolveOffset(e,1);if(s==null)return-1;if(i=s,i>=this.chunk2Pos&&i<this.chunk2Pos+this.chunk2.length)r=this.chunk2.charCodeAt(i-this.chunk2Pos);else{let o=this.rangeIndex,a=this.range;for(;a.to<=i;)a=this.ranges[++o];this.chunk2=this.input.chunk(this.chunk2Pos=i),i+this.chunk2.length>a.to&&(this.chunk2=this.chunk2.slice(0,a.to-i)),r=this.chunk2.charCodeAt(0)}}return i>=this.token.lookAhead&&(this.token.lookAhead=i+1),r}acceptToken(e,t=0){let i=t?this.resolveOffset(t,-1):this.pos;if(i==null||i<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=i}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:t}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=t,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),t=this.pos+e.length;this.chunk=t>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,t){if(t?(this.token=t,t.start=e,t.lookAhead=e+1,t.value=t.extended=-1):this.token=Rf,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,t){if(e>=this.chunkPos&&t<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,t-this.chunkPos);if(e>=this.chunk2Pos&&t<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,t-this.chunk2Pos);if(e>=this.range.from&&t<=this.range.to)return this.input.read(e,t);let i="";for(let r of this.ranges){if(r.from>=t)break;r.to>e&&(i+=this.input.read(Math.max(r.from,e),Math.min(r.to,t)))}return i}}class bs{constructor(e,t){this.data=e,this.id=t}token(e,t){PD(this.data,e,t,this.id)}}bs.prototype.contextual=bs.prototype.fallback=bs.prototype.extend=!1;class Qo{constructor(e,t={}){this.token=e,this.contextual=!!t.contextual,this.fallback=!!t.fallback,this.extend=!!t.extend}}function PD(n,e,t,i){let r=0,s=1<<i,{parser:o}=t.p,{dialect:a}=o;e:for(;(s&n[r])!=0;){let l=n[r+1];for(let h=r+3;h<l;h+=2)if((n[h+1]&s)>0){let c=n[h];if(a.allows(c)&&(e.token.value==-1||e.token.value==c||o.overrides(c,e.token.value))){e.acceptToken(c);break}}for(let h=e.next,c=0,u=n[r+2];c<u;){let d=c+u>>1,x=l+d+(d<<1),g=n[x],f=n[x+1];if(h<g)u=d;else if(h>=f)c=d+1;else{r=n[x+2],e.advance();continue e}}break}}function as(n,e=Uint16Array){if(typeof n!="string")return n;let t=null;for(let i=0,r=0;i<n.length;){let s=0;for(;;){let o=n.charCodeAt(i++),a=!1;if(o==126){s=65535;break}o>=92&&o--,o>=34&&o--;let l=o-32;if(l>=46&&(l-=46,a=!0),s+=l,a)break;s*=46}t?t[r++]=s:t=new e(s)}return t}const xt=typeof process!="undefined"&&process.env&&/\bparse\b/.test({}.LOG);let va=null;var If;(function(n){n[n.Margin=25]="Margin"})(If||(If={}));function Bf(n,e,t){let i=n.cursor(Ee.IncludeAnonymous);for(i.moveTo(e);;)if(!(t<0?i.childBefore(e):i.childAfter(e)))for(;;){if((t<0?i.to<e:i.from>e)&&!i.type.isError)return t<0?Math.max(0,Math.min(i.to-1,e-25)):Math.min(n.length,Math.max(i.from+1,e+25));if(t<0?i.prevSibling():i.nextSibling())break;if(!i.parent())return t<0?0:n.length}}class RD{constructor(e,t){this.fragments=e,this.nodeSet=t,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?Bf(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?Bf(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let t=this.trees.length-1;if(t<0)return this.nextFragment(),null;let i=this.trees[t],r=this.index[t];if(r==i.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let s=i.children[r],o=this.start[t]+i.positions[r];if(o>e)return this.nextStart=o,null;if(s instanceof Se){if(o==e){if(o<this.safeFrom)return null;let a=o+s.length;if(a<=this.safeTo){let l=s.prop(K.lookAhead);if(!l||a+l<this.fragment.to)return s}}this.index[t]++,o+s.length>=Math.max(this.safeFrom,e)&&(this.trees.push(s),this.start.push(o),this.index.push(0))}else this.index[t]++,this.nextStart=o+s.length}}}class ID{constructor(e,t){this.stream=t,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(i=>new ys)}getActions(e){let t=0,i=null,{parser:r}=e.p,{tokenizers:s}=r,o=r.stateSlot(e.state,3),a=e.curContext?e.curContext.hash:0,l=0;for(let h=0;h<s.length;h++){if((1<<h&o)==0)continue;let c=s[h],u=this.tokens[h];if(!(i&&!c.fallback)&&((c.contextual||u.start!=e.pos||u.mask!=o||u.context!=a)&&(this.updateCachedToken(u,c,e),u.mask=o,u.context=a),u.lookAhead>u.end+25&&(l=Math.max(u.lookAhead,l)),u.value!=0)){let d=t;if(u.extended>-1&&(t=this.addActions(e,u.extended,u.end,t)),t=this.addActions(e,u.value,u.end,t),!c.extend&&(i=u,t>d))break}}for(;this.actions.length>t;)this.actions.pop();return l&&e.setLookAhead(l),!i&&e.pos==this.stream.end&&(i=new ys,i.value=e.p.parser.eofTerm,i.start=i.end=e.pos,t=this.addActions(e,i.value,i.end,t)),this.mainToken=i,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let t=new ys,{pos:i,p:r}=e;return t.start=i,t.end=Math.min(i+1,r.stream.end),t.value=i==r.stream.end?r.parser.eofTerm:0,t}updateCachedToken(e,t,i){if(t.token(this.stream.reset(i.pos,e),i),e.value>-1){let{parser:r}=i.p;for(let s=0;s<r.specialized.length;s++)if(r.specialized[s]==e.value){let o=r.specializers[s](this.stream.read(e.start,e.end),i);if(o>=0&&i.p.parser.dialect.allows(o>>1)){(o&1)==0?e.value=o>>1:e.extended=o>>1;break}}}else e.value=0,e.end=Math.min(i.p.stream.end,i.pos+1)}putAction(e,t,i,r){for(let s=0;s<r;s+=3)if(this.actions[s]==e)return r;return this.actions[r++]=e,this.actions[r++]=t,this.actions[r++]=i,r}addActions(e,t,i,r){let{state:s}=e,{parser:o}=e.p,{data:a}=o;for(let l=0;l<2;l++)for(let h=o.stateSlot(s,l?2:1);;h+=3){if(a[h]==65535)if(a[h+1]==1)h=Zt(a,h+2);else{r==0&&a[h+1]==2&&(r=this.putAction(Zt(a,h+2),t,i,r));break}a[h]==t&&(r=this.putAction(Zt(a,h+1),t,i,r))}return r}}var Mf;(function(n){n[n.Distance=5]="Distance",n[n.MaxRemainingPerStep=3]="MaxRemainingPerStep",n[n.MinBufferLengthPrune=500]="MinBufferLengthPrune",n[n.ForceReduceLimit=10]="ForceReduceLimit",n[n.CutDepth=15e3]="CutDepth",n[n.CutTo=9e3]="CutTo"})(Mf||(Mf={}));class BD{constructor(e,t,i,r){this.parser=e,this.input=t,this.ranges=r,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.stream=new QD(t,r),this.tokens=new ID(e,this.stream),this.topTerm=e.top[1];let{from:s}=r[0];this.stacks=[oo.start(this,e.top[0],s)],this.fragments=i.length&&this.stream.end-s>e.bufferLength*4?new RD(i,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,t=this.minStackPos,i=this.stacks=[],r,s;for(let o=0;o<e.length;o++){let a=e[o];for(;;){if(this.tokens.mainToken=null,a.pos>t)i.push(a);else{if(this.advanceStack(a,i,e))continue;{r||(r=[],s=[]),r.push(a);let l=this.tokens.getMainToken(a);s.push(l.value,l.end)}}break}}if(!i.length){let o=r&&ND(r);if(o)return this.stackToTree(o);if(this.parser.strict)throw xt&&r&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+t);this.recovering||(this.recovering=5)}if(this.recovering&&r){let o=this.stoppedAt!=null&&r[0].pos>this.stoppedAt?r[0]:this.runRecovery(r,s,i);if(o)return this.stackToTree(o.forceAll())}if(this.recovering){let o=this.recovering==1?1:this.recovering*3;if(i.length>o)for(i.sort((a,l)=>l.score-a.score);i.length>o;)i.pop();i.some(a=>a.reducePos>t)&&this.recovering--}else if(i.length>1){e:for(let o=0;o<i.length-1;o++){let a=i[o];for(let l=o+1;l<i.length;l++){let h=i[l];if(a.sameState(h)||a.buffer.length>500&&h.buffer.length>500)if((a.score-h.score||a.buffer.length-h.buffer.length)>0)i.splice(l--,1);else{i.splice(o--,1);continue e}}}}this.minStackPos=i[0].pos;for(let o=1;o<i.length;o++)i[o].pos<this.minStackPos&&(this.minStackPos=i[o].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,t,i){let r=e.pos,{parser:s}=this,o=xt?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&r>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let h=e.curContext&&e.curContext.tracker.strict,c=h?e.curContext.hash:0;for(let u=this.fragments.nodeAt(r);u;){let d=this.parser.nodeSet.types[u.type.id]==u.type?s.getGoto(e.state,u.type.id):-1;if(d>-1&&u.length&&(!h||(u.prop(K.contextHash)||0)==c))return e.useNode(u,d),xt&&console.log(o+this.stackID(e)+` (via reuse of ${s.getName(u.type.id)})`),!0;if(!(u instanceof Se)||u.children.length==0||u.positions[0]>0)break;let x=u.children[0];if(x instanceof Se&&u.positions[0]==0)u=x;else break}}let a=s.stateSlot(e.state,4);if(a>0)return e.reduce(a),xt&&console.log(o+this.stackID(e)+` (via always-reduce ${s.getName(a&65535)})`),!0;if(e.stack.length>=15e3)for(;e.stack.length>9e3&&e.forceReduce(););let l=this.tokens.getActions(e);for(let h=0;h<l.length;){let c=l[h++],u=l[h++],d=l[h++],x=h==l.length||!i,g=x?e:e.split();if(g.apply(c,u,d),xt&&console.log(o+this.stackID(g)+` (via ${(c&65536)==0?"shift":`reduce of ${s.getName(c&65535)}`} for ${s.getName(u)} @ ${r}${g==e?"":", split"})`),x)return!0;g.pos>r?t.push(g):i.push(g)}return!1}advanceFully(e,t){let i=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>i)return Wf(e,t),!0}}runRecovery(e,t,i){let r=null,s=!1;for(let o=0;o<e.length;o++){let a=e[o],l=t[o<<1],h=t[(o<<1)+1],c=xt?this.stackID(a)+" -> ":"";if(a.deadEnd&&(s||(s=!0,a.restart(),xt&&console.log(c+this.stackID(a)+" (restarted)"),this.advanceFully(a,i))))continue;let u=a.split(),d=c;for(let x=0;u.forceReduce()&&x<10&&(xt&&console.log(d+this.stackID(u)+" (via force-reduce)"),!this.advanceFully(u,i));x++)xt&&(d=this.stackID(u)+" -> ");for(let x of a.recoverByInsert(l))xt&&console.log(c+this.stackID(x)+" (via recover-insert)"),this.advanceFully(x,i);this.stream.end>a.pos?(h==a.pos&&(h++,l=0),a.recoverByDelete(l,h),xt&&console.log(c+this.stackID(a)+` (via recover-delete ${this.parser.getName(l)})`),Wf(a,i)):(!r||r.score<a.score)&&(r=a)}return r}stackToTree(e){return e.close(),Se.build({buffer:ao.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let t=(va||(va=new WeakMap)).get(e);return t||va.set(e,t=String.fromCodePoint(this.nextStackID++)),t+e}}function Wf(n,e){for(let t=0;t<e.length;t++){let i=e[t];if(i.pos==n.pos&&i.sameState(n)){e[t].score<n.score&&(e[t]=n);return}}e.push(n)}class MD{constructor(e,t,i){this.source=e,this.flags=t,this.disabled=i}allows(e){return!this.disabled||this.disabled[e]==0}}const ka=n=>n;class WD{constructor(e){this.start=e.start,this.shift=e.shift||ka,this.reduce=e.reduce||ka,this.reuse=e.reuse||ka,this.hash=e.hash||(()=>0),this.strict=e.strict!==!1}}class lo extends dp{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (${14})`);let t=e.nodeNames.split(" ");this.minRepeatTerm=t.length;for(let a=0;a<e.repeatNodeCount;a++)t.push("");let i=Object.keys(e.topRules).map(a=>e.topRules[a][1]),r=[];for(let a=0;a<t.length;a++)r.push([]);function s(a,l,h){r[a].push([l,l.deserialize(String(h))])}if(e.nodeProps)for(let a of e.nodeProps){let l=a[0];typeof l=="string"&&(l=K[l]);for(let h=1;h<a.length;){let c=a[h++];if(c>=0)s(c,l,a[h++]);else{let u=a[h+-c];for(let d=-c;d>0;d--)s(a[h++],l,u);h++}}}this.nodeSet=new ph(t.map((a,l)=>Ke.define({name:l>=this.minRepeatTerm?void 0:a,id:l,props:r[l],top:i.indexOf(l)>-1,error:l==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(l)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=cp;let o=as(e.tokenData);if(this.context=e.context,this.specialized=new Uint16Array(e.specialized?e.specialized.length:0),this.specializers=[],e.specialized)for(let a=0;a<e.specialized.length;a++)this.specialized[a]=e.specialized[a].term,this.specializers[a]=e.specialized[a].get;this.states=as(e.states,Uint32Array),this.data=as(e.stateData),this.goto=as(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(a=>typeof a=="number"?new bs(o,a):a),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,t,i){let r=new BD(this,e,t,i);for(let s of this.wrappers)r=s(r,e,t,i);return r}getGoto(e,t,i=!1){let r=this.goto;if(t>=r[0])return-1;for(let s=r[t+1];;){let o=r[s++],a=o&1,l=r[s++];if(a&&i)return l;for(let h=s+(o>>1);s<h;s++)if(r[s]==e)return l;if(a)return-1}}hasAction(e,t){let i=this.data;for(let r=0;r<2;r++)for(let s=this.stateSlot(e,r?2:1),o;;s+=3){if((o=i[s])==65535)if(i[s+1]==1)o=i[s=Zt(i,s+2)];else{if(i[s+1]==2)return Zt(i,s+2);break}if(o==t||o==0)return Zt(i,s+1)}return 0}stateSlot(e,t){return this.states[e*6+t]}stateFlag(e,t){return(this.stateSlot(e,0)&t)>0}validAction(e,t){if(t==this.stateSlot(e,4))return!0;for(let i=this.stateSlot(e,1);;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=Zt(this.data,i+2);else return!1;if(t==Zt(this.data,i+1))return!0}}nextStates(e){let t=[];for(let i=this.stateSlot(e,1);;i+=3){if(this.data[i]==65535)if(this.data[i+1]==1)i=Zt(this.data,i+2);else break;if((this.data[i+2]&1)==0){let r=this.data[i+1];t.some((s,o)=>o&1&&s==r)||t.push(this.data[i],r)}}return t}overrides(e,t){let i=Nf(this.data,this.tokenPrecTable,t);return i<0||Nf(this.data,this.tokenPrecTable,e)<i}configure(e){let t=Object.assign(Object.create(lo.prototype),this);if(e.props&&(t.nodeSet=this.nodeSet.extend(...e.props)),e.top){let i=this.topRules[e.top];if(!i)throw new RangeError(`Invalid top rule name ${e.top}`);t.top=i}return e.tokenizers&&(t.tokenizers=this.tokenizers.map(i=>{let r=e.tokenizers.find(s=>s.from==i);return r?r.to:i})),e.contextTracker&&(t.context=e.contextTracker),e.dialect&&(t.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(t.strict=e.strict),e.wrap&&(t.wrappers=t.wrappers.concat(e.wrap)),e.bufferLength!=null&&(t.bufferLength=e.bufferLength),t}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let t=this.dynamicPrecedences;return t==null?0:t[e]||0}parseDialect(e){let t=Object.keys(this.dialects),i=t.map(()=>!1);if(e)for(let s of e.split(" ")){let o=t.indexOf(s);o>=0&&(i[o]=!0)}let r=null;for(let s=0;s<t.length;s++)if(!i[s])for(let o=this.dialects[t[s]],a;(a=this.data[o++])!=65535;)(r||(r=new Uint8Array(this.maxTerm+1)))[a]=1;return new MD(e,i,r)}static deserialize(e){return new lo(e)}}function Zt(n,e){return n[e]|n[e+1]<<16}function Nf(n,e,t){for(let i=e,r;(r=n[i])!=65535;i++)if(r==t)return i-e;return-1}function ND(n){let e=null;for(let t of n){let i=t.p.stoppedAt;(t.pos==t.p.stream.end||i!=null&&t.pos>i)&&t.p.parser.stateFlag(t.state,2)&&(!e||e.score<t.score)&&(e=t)}return e}const Lf=281,Xf=1,LD=2,ls=282,XD=3,UD=283,Uf=284,zD=4,_D=286,jD=287,ZD=5,GD=6,qD=1,VD=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],ym=125,YD=123,JD=59,zf=47,HD=42,KD=43,e3=45,t3=36,i3=96,n3=92,r3=new WD({start:!1,shift(n,e){return e==ZD||e==GD||e==_D?n:e==jD},strict:!1}),s3=new Qo((n,e)=>{let{next:t}=n;(t==ym||t==-1||e.context)&&e.canShift(Uf)&&n.acceptToken(Uf)},{contextual:!0,fallback:!0}),o3=new Qo((n,e)=>{let{next:t}=n,i;VD.indexOf(t)>-1||t==zf&&((i=n.peek(1))==zf||i==HD)||t!=ym&&t!=JD&&t!=-1&&!e.context&&e.canShift(Lf)&&n.acceptToken(Lf)},{contextual:!0}),a3=new Qo((n,e)=>{let{next:t}=n;if((t==KD||t==e3)&&(n.advance(),t==n.next)){n.advance();let i=!e.context&&e.canShift(Xf);n.acceptToken(i?Xf:LD)}},{contextual:!0}),l3=new Qo(n=>{for(let e=!1,t=0;;t++){let{next:i}=n;if(i<0){t&&n.acceptToken(ls);break}else if(i==i3){t?n.acceptToken(ls):n.acceptToken(UD,1);break}else if(i==YD&&e){t==1?n.acceptToken(XD,1):n.acceptToken(ls,-1);break}else if(i==10&&t){n.advance(),n.acceptToken(ls);break}else i==n3&&n.advance();e=i==t3,n.advance()}});function h3(n,e){return n=="extends"&&e.dialectEnabled(qD)?zD:-1}const c3=xp({"get set async static":T.modifier,"for while do if else switch try catch finally return throw break continue default case":T.controlKeyword,"in of await yield void typeof delete instanceof":T.operatorKeyword,"let var const function class extends":T.definitionKeyword,"import export from":T.moduleKeyword,"with debugger as new":T.keyword,TemplateString:T.special(T.string),Super:T.atom,BooleanLiteral:T.bool,this:T.self,null:T.null,Star:T.modifier,VariableName:T.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":T.function(T.variableName),VariableDefinition:T.definition(T.variableName),Label:T.labelName,PropertyName:T.propertyName,PrivatePropertyName:T.special(T.propertyName),"CallExpression/MemberExpression/PropertyName":T.function(T.propertyName),"FunctionDeclaration/VariableDefinition":T.function(T.definition(T.variableName)),"ClassDeclaration/VariableDefinition":T.definition(T.className),PropertyDefinition:T.definition(T.propertyName),PrivatePropertyDefinition:T.definition(T.special(T.propertyName)),UpdateOp:T.updateOperator,LineComment:T.lineComment,BlockComment:T.blockComment,Number:T.number,String:T.string,ArithOp:T.arithmeticOperator,LogicOp:T.logicOperator,BitOp:T.bitwiseOperator,CompareOp:T.compareOperator,RegExp:T.regexp,Equals:T.definitionOperator,"Arrow : Spread":T.punctuation,"( )":T.paren,"[ ]":T.squareBracket,"{ }":T.brace,"InterpolationStart InterpolationEnd":T.special(T.brace),".":T.derefOperator,", ;":T.separator,TypeName:T.typeName,TypeDefinition:T.definition(T.typeName),"type enum interface implements namespace module declare":T.definitionKeyword,"abstract global Privacy readonly override":T.modifier,"is keyof unique infer":T.operatorKeyword,JSXAttributeValue:T.attributeValue,JSXText:T.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":T.angleBracket,"JSXIdentifier JSXNameSpacedName":T.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":T.attributeName}),u3={__proto__:null,export:18,as:23,from:29,default:32,async:37,function:38,this:48,true:56,false:56,void:66,typeof:70,null:86,super:88,new:122,await:139,yield:141,delete:142,class:152,extends:154,public:197,private:197,protected:197,readonly:199,instanceof:220,in:222,const:224,import:256,keyof:307,unique:311,infer:317,is:351,abstract:371,implements:373,type:375,let:378,var:380,interface:387,enum:391,namespace:397,module:399,declare:403,global:407,for:428,of:437,while:440,with:444,do:448,if:452,else:454,switch:458,case:464,try:470,catch:474,finally:478,return:482,throw:486,break:490,continue:494,debugger:498},f3={__proto__:null,async:109,get:111,set:113,public:161,private:161,protected:161,static:163,abstract:165,override:167,readonly:173,new:355},d3={__proto__:null,"<":129},p3=lo.deserialize({version:14,states:"$4|O`QYOOO'QQ$IfO'#ChO'XOSO'#DVO)dQYO'#D]O)tQYO'#DhO){QYO'#DrO-xQYO'#DxOOQO'#E]'#E]O.]QWO'#E[O.bQWO'#E[OOQ$IU'#Ef'#EfO0aQ$IfO'#ItO2wQ$IfO'#IuO3eQWO'#EzO3jQpO'#FaOOQ$IU'#FS'#FSO3rO!bO'#FSO4QQWO'#FhO5_QWO'#FgOOQ$IU'#Iu'#IuOOQ$IS'#It'#ItOOQQ'#J^'#J^O5dQWO'#HpO5iQ$I[O'#HqOOQQ'#Ih'#IhOOQQ'#Hr'#HrQ`QYOOO){QYO'#DjO5qQWO'#G[O5vQ#tO'#CmO6UQWO'#EZO6aQWO'#EgO6fQ#tO'#FRO7QQWO'#G[O7VQWO'#G`O7bQWO'#G`O7pQWO'#GcO7pQWO'#GdO7pQWO'#GfO5qQWO'#GiO8aQWO'#GlO9oQWO'#CdO:PQWO'#GyO:XQWO'#HPO:XQWO'#HRO`QYO'#HTO:XQWO'#HVO:XQWO'#HYO:^QWO'#H`O:cQ$I]O'#HfO){QYO'#HhO:nQ$I]O'#HjO:yQ$I]O'#HlO5iQ$I[O'#HnO){QYO'#DWOOOS'#Ht'#HtO;UOSO,59qOOQ$IU,59q,59qO=gQbO'#ChO=qQYO'#HuO>UQWO'#IvO@TQbO'#IvO'dQYO'#IvO@[QWO,59wO@rQ&jO'#DbOAkQWO'#E]OAxQWO'#JROBTQWO'#JQOBTQWO'#JQOB]QWO,5:yOBbQWO'#JPOBiQWO'#DyO5vQ#tO'#EZOBwQWO'#EZOCSQ`O'#FROOQ$IU,5:S,5:SOC[QYO,5:SOEYQ$IfO,5:^OEvQWO,5:dOFaQ$I[O'#JOO7VQWO'#I}OFhQWO'#I}OFpQWO,5:xOFuQWO'#I}OGTQYO,5:vOITQWO'#EWOJ_QWO,5:vOKnQWO'#DlOKuQYO'#DqOLPQ&jO,5;PO){QYO,5;POOQQ'#Er'#ErOOQQ'#Et'#EtO){QYO,5;RO){QYO,5;RO){QYO,5;RO){QYO,5;RO){QYO,5;RO){QYO,5;RO){QYO,5;RO){QYO,5;RO){QYO,5;RO){QYO,5;RO){QYO,5;ROOQQ'#Ex'#ExOLXQYO,5;cOOQ$IU,5;h,5;hOOQ$IU,5;i,5;iONXQWO,5;iOOQ$IU,5;j,5;jO){QYO'#IPON^Q$I[O,5<TONxQWO,5;RO){QYO,5;fO! bQpO'#JVO! PQpO'#JVO! iQpO'#JVO! zQpO,5;qOOOO,5;{,5;{O!!YQYO'#FcOOOO'#IO'#IOO3rO!bO,5;nO!!aQpO'#FeOOQ$IU,5;n,5;nO!!}Q,UO'#CrOOQ$IU'#Cu'#CuO!#bQWO'#CuO!#gOSO'#CyO!$TQ#tO,5<QO!$[QWO,5<SO!%hQWO'#FrO!%uQWO'#FsO!%zQWO'#FwO!&yQ&jO'#F{O!'lQ,UO'#IqOOQ$IU'#Iq'#IqO!'vQWO'#IpO!(UQWO'#IoOOQ$IU'#Cs'#CsOOQ$IU'#C|'#C|O!(^QWO'#DOOJdQWO'#FjOJdQWO'#FlO!(cQWO'#FnO!(hQWO'#FoO!(mQWO'#FuOJdQWO'#FzO!(rQWO'#E^O!)ZQWO,5<RO`QYO,5>[OOQQ'#Ik'#IkOOQQ,5>],5>]OOQQ-E;p-E;pO!+VQ$IfO,5:UOOQ$IS'#Cp'#CpO!+vQ#tO,5<vOOQO'#Cf'#CfO!,XQWO'#CqO!,aQ$I[O'#IlO5_QWO'#IlO:^QWO,59XO!,rQpO,59XO!,zQ#tO,59XO5vQ#tO,59XO!-VQWO,5:vO!-_QWO'#GxO!-mQWO'#JbO){QYO,5;kO!-uQ&jO,5;mO!-zQWO,5=cO!.PQWO,5=cO!.UQWO,5=cO5iQ$I[O,5=cO5qQWO,5<vO!.dQWO'#E_O!.xQ&jO'#E`OOQ$IS'#JP'#JPO!/ZQ$I[O'#J_O5iQ$I[O,5<zO7pQWO,5=QOOQO'#Cr'#CrO!/fQpO,5<}O!/nQ#tO,5=OO!/yQWO,5=QO!0OQ`O,5=TO:^QWO'#GnO5qQWO'#GpO!0WQWO'#GpO5vQ#tO'#GsO!0]QWO'#GsOOQQ,5=W,5=WO!0bQWO'#GtO!0jQWO'#CmO!0oQWO,59OO!0yQWO,59OO!2{QYO,59OOOQQ,59O,59OO!3YQ$I[O,59OO){QYO,59OO!3eQYO'#G{OOQQ'#G|'#G|OOQQ'#G}'#G}O`QYO,5=eO!3uQWO,5=eO){QYO'#DxO`QYO,5=kO`QYO,5=mO!3zQWO,5=oO`QYO,5=qO!4PQWO,5=tO!4UQYO,5=zOOQQ,5>Q,5>QO){QYO,5>QO5iQ$I[O,5>SOOQQ,5>U,5>UO!8VQWO,5>UOOQQ,5>W,5>WO!8VQWO,5>WOOQQ,5>Y,5>YO!8[Q`O,59rOOOS-E;r-E;rOOQ$IU1G/]1G/]O!8aQbO,5>aO'dQYO,5>aOOQO,5>f,5>fO!8kQYO'#HuOOQO-E;s-E;sO!8xQWO,5?bO!9QQbO,5?bO!9XQWO,5?lOOQ$IU1G/c1G/cO!9aQpO'#DTOOQO'#Ix'#IxO){QYO'#IxO!:OQpO'#IxO!:mQpO'#DcO!;OQ&jO'#DcO!=ZQYO'#DcO!=bQWO'#IwO!=jQWO,59|O!=oQWO'#EaO!=}QWO'#JSO!>VQWO,5:zO!>mQ&jO'#DcO){QYO,5?mO!>wQWO'#HzOOQO-E;x-E;xO!9XQWO,5?lOOQ$IS1G0e1G0eO!@TQ&jO'#D|OOQ$IU,5:e,5:eO){QYO,5:eOITQWO,5:eO!@[QWO,5:eO:^QWO,5:uO!,rQpO,5:uO!,zQ#tO,5:uO5vQ#tO,5:uOOQ$IU1G/n1G/nOOQ$IU1G0O1G0OOOQ$IS'#EV'#EVO){QYO,5?jO!@gQ$I[O,5?jO!@xQ$I[O,5?jO!APQWO,5?iO!AXQWO'#H|O!APQWO,5?iOOQ$IS1G0d1G0dO7VQWO,5?iOOQ$IU1G0b1G0bO!AsQ$IfO1G0bO!BdQ$IdO,5:rOOQ$IU'#Fq'#FqO!CQQ$IfO'#IqOGTQYO1G0bO!EPQ#tO'#IyO!EZQWO,5:WO!E`QbO'#IzO){QYO'#IzO!EjQWO,5:]OOQ$IU'#DT'#DTOOQ$IU1G0k1G0kO!EoQWO1G0kO!HQQ$IfO1G0mO!HXQ$IfO1G0mO!JlQ$IfO1G0mO!JsQ$IfO1G0mO!LzQ$IfO1G0mO!M_Q$IfO1G0mO#!OQ$IfO1G0mO#!VQ$IfO1G0mO#$jQ$IfO1G0mO#$qQ$IfO1G0mO#&fQ$IfO1G0mO#)`Q7^O'#ChO#+ZQ7^O1G0}O#-UQ7^O'#IuOOQ$IU1G1T1G1TO#-iQ$IfO,5>kOOQ$IS-E;}-E;}O#.YQ$IfO1G0mOOQ$IU1G0m1G0mO#0[Q$IfO1G1QO#0{QpO,5;sO#1QQpO,5;tO#1VQpO'#F[O#1kQWO'#FZOOQO'#JW'#JWOOQO'#H}'#H}O#1pQpO1G1]OOQ$IU1G1]1G1]OOOO1G1f1G1fO#2OQ7^O'#ItO#2YQWO,5;}OLXQYO,5;}OOOO-E;|-E;|OOQ$IU1G1Y1G1YOOQ$IU,5<P,5<PO#2_QpO,5<POOQ$IU,59a,59aOITQWO'#C{OOOS'#Hs'#HsO#2dOSO,59eOOQ$IU,59e,59eO){QYO1G1lO!(hQWO'#IRO#2oQWO,5<eOOQ$IU,5<b,5<bOOQO'#GV'#GVOJdQWO,5<pOOQO'#GX'#GXOJdQWO,5<rOJdQWO,5<tOOQO1G1n1G1nO#2zQ`O'#CpO#3_Q`O,5<^O#3fQWO'#JZO5qQWO'#JZO#3tQWO,5<`OJdQWO,5<_O#3yQ`O'#FqO#4WQ`O'#J[O#4bQWO'#J[OITQWO'#J[O#4gQWO,5<cOOQ$IS'#Dg'#DgO#4lQWO'#FtO#4wQpO'#F|O!&tQ&jO'#F|O!&tQ&jO'#GOO#5YQWO'#GPO!(mQWO'#GSO#5_Q$I[O'#ITO#5jQ&jO,5<gOOQ$IU,5<g,5<gO#5qQ&jO'#F|O#6PQ&jO'#F}O#6XQ&jO'#F}OOQ$IU,5<u,5<uOJdQWO,5?[OJdQWO,5?[O#6^QWO'#IUO#6iQWO,5?ZOOQ$IU'#Ch'#ChO#7]Q#tO,59jOOQ$IU,59j,59jO#8OQ#tO,5<UO#8qQ#tO,5<WO#8{QWO,5<YOOQ$IU,5<Z,5<ZO#9QQWO,5<aO#9VQ#tO,5<fOGTQYO1G1mO#9gQWO1G1mOOQQ1G3v1G3vOOQ$IU1G/p1G/pONXQWO1G/pOOQQ1G2b1G2bOITQWO1G2bO){QYO1G2bOITQWO1G2bO#9lQWO1G2bO#9zQWO,59]O#;TQWO'#EWOOQ$IS,5?W,5?WO#;_Q$I[O,5?WOOQQ1G.s1G.sO:^QWO1G.sO!,rQpO1G.sO!,zQ#tO1G.sO#;pQWO1G0bO#;uQWO'#ChO#<QQWO'#JcO#<YQWO,5=dO#<_QWO'#JcO#<dQWO'#JcO#<lQWO'#I^O#<zQWO,5?|O#=SQbO1G1VOOQ$IU1G1X1G1XO5qQWO1G2}O#=ZQWO1G2}O#=`QWO1G2}O#=eQWO1G2}OOQQ1G2}1G2}O#=jQ#tO1G2bO7VQWO'#JQO7VQWO'#EaO7VQWO'#IWO#={Q$I[O,5?yOOQQ1G2f1G2fO!/yQWO1G2lOITQWO1G2iO#>WQWO1G2iOOQQ1G2j1G2jOITQWO1G2jO#>]QWO1G2jO#>eQ&jO'#GhOOQQ1G2l1G2lO!&tQ&jO'#IYO!0OQ`O1G2oOOQQ1G2o1G2oOOQQ,5=Y,5=YO#>mQ#tO,5=[O5qQWO,5=[O#5YQWO,5=_O5_QWO,5=_O!,rQpO,5=_O!,zQ#tO,5=_O5vQ#tO,5=_O#?OQWO'#JaO#?ZQWO,5=`OOQQ1G.j1G.jO#?`Q$I[O1G.jO#?kQWO1G.jO#?pQWO1G.jO5iQ$I[O1G.jO#?xQbO,5@OO#@SQWO,5@OO#@_QYO,5=gO#@fQWO,5=gO7VQWO,5@OOOQQ1G3P1G3PO`QYO1G3POOQQ1G3V1G3VOOQQ1G3X1G3XO:XQWO1G3ZO#@kQYO1G3]O#DfQYO'#H[OOQQ1G3`1G3`O#DsQWO'#HbO:^QWO'#HdOOQQ1G3f1G3fO#D{QYO1G3fO5iQ$I[O1G3lOOQQ1G3n1G3nOOQ$IS'#Fx'#FxO5iQ$I[O1G3pO5iQ$I[O1G3rOOOS1G/^1G/^O#HyQ`O,5<TO#IRQbO1G3{OOQO1G4Q1G4QO){QYO,5>aO#I]QWO1G4|O#IeQWO1G5WO#ImQWO,5?dOLXQYO,5:{O7VQWO,5:{O:^QWO,59}OLXQYO,59}O!,rQpO,59}O#IrQ7^O,59}OOQO,5:{,5:{O#I|Q&jO'#HvO#JdQWO,5?cOOQ$IU1G/h1G/hO#JlQ&jO'#H{O#KQQWO,5?nOOQ$IS1G0f1G0fO!;OQ&jO,59}O#KYQbO1G5XO7VQWO,5>fOOQ$IS'#ES'#ESO#KdQ$ItO'#ETO!?{Q&jO'#D}OOQO'#Hy'#HyO#LOQ&jO,5:hOOQ$IU,5:h,5:hO#LVQ&jO'#D}O#LhQ&jO'#D}O#LoQ&jO'#EYO#LrQ&jO'#ETO#MPQ&jO'#ETO!?{Q&jO'#ETO#MdQWO1G0PO#MiQ`O1G0POOQ$IU1G0P1G0PO){QYO1G0POITQWO1G0POOQ$IU1G0a1G0aO:^QWO1G0aO!,rQpO1G0aO!,zQ#tO1G0aO#MpQ$IfO1G5UO){QYO1G5UO#NQQ$I[O1G5UO#NcQWO1G5TO7VQWO,5>hOOQO,5>h,5>hO#NkQWO,5>hOOQO-E;z-E;zO#NcQWO1G5TO#NyQ$IfO,59jO$!xQ$IfO,5<UO$$zQ$IfO,5<WO$&|Q$IfO,5<fOOQ$IU7+%|7+%|O$)UQ$IfO7+%|O$)uQWO'#HwO$*PQWO,5?eOOQ$IU1G/r1G/rO$*XQYO'#HxO$*fQWO,5?fO$*nQbO,5?fOOQ$IU1G/w1G/wOOQ$IU7+&V7+&VO$*xQ7^O,5:^O){QYO7+&iO$+SQ7^O,5:UOOQO1G1_1G1_OOQO1G1`1G1`O$+aQMhO,5;vOLXQYO,5;uOOQO-E;{-E;{OOQ$IU7+&w7+&wOOOO7+'Q7+'QOOOO1G1i1G1iO$+lQWO1G1iOOQ$IU1G1k1G1kO$+qQ`O,59gOOOS-E;q-E;qOOQ$IU1G/P1G/PO$+xQ$IfO7+'WOOQ$IU,5>m,5>mO$,iQWO,5>mOOQ$IU1G2P1G2PP$,nQWO'#IRPOQ$IU-E<P-E<PO$-_Q#tO1G2[O$.QQ#tO1G2^O$.[Q#tO1G2`OOQ$IU1G1x1G1xO$.cQWO'#IQO$.qQWO,5?uO$.qQWO,5?uO$.yQWO,5?uO$/UQWO,5?uOOQO1G1z1G1zO$/dQ#tO1G1yO$/tQWO'#ISO$0UQWO,5?vOITQWO,5?vO$0^Q`O,5?vOOQ$IU1G1}1G1}OOQ$IS,5<h,5<hOOQ$IS,5<i,5<iO$0hQWO,5<iO#5TQWO,5<iO!,rQpO,5<hO$0mQWO,5<jOOQ$IS,5<k,5<kO$0hQWO,5<nOOQO,5>o,5>oOOQO-E<R-E<ROOQ$IU1G2R1G2RO!&tQ&jO,5<hO$0uQWO,5<iO!&tQ&jO,5<jO!&tQ&jO,5<iO$1QQ#tO1G4vO$1[Q#tO1G4vOOQO,5>p,5>pOOQO-E<S-E<SO!-uQ&jO,59lO){QYO,59lO$1iQWO1G1tOJdQWO1G1{O$1nQ$IfO7+'XOOQ$IU7+'X7+'XOGTQYO7+'XOOQ$IU7+%[7+%[O$2_Q`O'#J]O#MdQWO7+'|O$2iQWO7+'|O$2qQ`O7+'|OOQQ7+'|7+'|OITQWO7+'|O){QYO7+'|OITQWO7+'|OOQO1G.w1G.wO$2{Q$IdO'#ChO$3`Q$IdO,5<lO$4QQWO,5<lOOQ$IS1G4r1G4rOOQQ7+$_7+$_O:^QWO7+$_O!,rQpO7+$_OGTQYO7+%|O$4VQWO'#I]O$4hQWO,5?}OOQO1G3O1G3OO5qQWO,5?}O$4hQWO,5?}O$4pQWO,5?}OOQO,5>x,5>xOOQO-E<[-E<[OOQ$IU7+&q7+&qO$4uQWO7+(iO5iQ$I[O7+(iO5qQWO7+(iO$4zQWO7+(iO$5PQWO7+'|OOQ$IS,5>r,5>rOOQ$IS-E<U-E<UOOQQ7+(W7+(WO$5_Q$IdO7+(TOITQWO7+(TO$5iQ`O7+(UOOQQ7+(U7+(UOITQWO7+(UO$5pQWO'#J`O$5{QWO,5=SOOQO,5>t,5>tOOQO-E<W-E<WOOQQ7+(Z7+(ZO$6uQ&jO'#GqOOQQ1G2v1G2vOITQWO1G2vO){QYO1G2vOITQWO1G2vO$6|QWO1G2vO$7[Q#tO1G2vO5iQ$I[O1G2yO#5YQWO1G2yO5_QWO1G2yO!,rQpO1G2yO!,zQ#tO1G2yO$7mQWO'#I[O$7xQWO,5?{O$8QQ&jO,5?{OOQ$IS1G2z1G2zOOQQ7+$U7+$UO$8YQWO7+$UO5iQ$I[O7+$UO$8_QWO7+$UO){QYO1G5jO){QYO1G5kO$8dQYO1G3RO$8kQWO1G3RO$8pQYO1G3RO$8wQ$I[O1G5jOOQQ7+(k7+(kO5iQ$I[O7+(uO`QYO7+(wOOQQ'#Jf'#JfOOQQ'#I_'#I_O$9RQYO,5=vOOQQ,5=v,5=vO){QYO'#H]O$9`QWO'#H_OOQQ,5=|,5=|O7VQWO,5=|OOQQ,5>O,5>OOOQQ7+)Q7+)QOOQQ7+)W7+)WOOQQ7+)[7+)[OOQQ7+)^7+)^OOQO1G5O1G5OO$9eQ7^O1G0gO$9oQWO1G0gOOQO1G/i1G/iO$9zQ7^O1G/iO:^QWO1G/iOLXQYO'#DcOOQO,5>b,5>bOOQO-E;t-E;tOOQO,5>g,5>gOOQO-E;y-E;yO!,rQpO1G/iO:^QWO,5:iOOQO,5:o,5:oO){QYO,5:oO$:UQ$I[O,5:oO$:aQ$I[O,5:oO!,rQpO,5:iOOQO-E;w-E;wOOQ$IU1G0S1G0SO!?{Q&jO,5:iO$:oQ&jO,5:iO$;QQ$ItO,5:oO$;lQ&jO,5:iO!?{Q&jO,5:oOOQO,5:t,5:tO$;sQ&jO,5:oO$<QQ$I[O,5:oOOQ$IU7+%k7+%kO#MdQWO7+%kO#MiQ`O7+%kOOQ$IU7+%{7+%{O:^QWO7+%{O!,rQpO7+%{O$<fQ$IfO7+*pO){QYO7+*pOOQO1G4S1G4SO7VQWO1G4SO$<vQWO7+*oO$=OQ$IfO1G2[O$?QQ$IfO1G2^O$ASQ$IfO1G1yO$C[Q#tO,5>cOOQO-E;u-E;uO$CfQbO,5>dO){QYO,5>dOOQO-E;v-E;vO$CpQWO1G5QO$CxQ7^O1G0bO$FPQ7^O1G0mO$FWQ7^O1G0mO$HXQ7^O1G0mO$H`Q7^O1G0mO$JTQ7^O1G0mO$JhQ7^O1G0mO$LuQ7^O1G0mO$L|Q7^O1G0mO$N}Q7^O1G0mO% UQ7^O1G0mO%!yQ7^O1G0mO%#^Q$IfO<<JTO%#}Q7^O1G0mO%&UQ7^O'#IqO%'nQ7^O1G1QOLXQYO'#F^OOQO'#JX'#JXOOQO1G1b1G1bO%'{QWO1G1aO%(QQ7^O,5>kOOOO7+'T7+'TOOOS1G/R1G/ROOQ$IU1G4X1G4XOJdQWO7+'zO%([QWO,5>lO5qQWO,5>lOOQO-E<O-E<OO%(jQWO1G5aO%(jQWO1G5aO%(rQWO1G5aO%(}Q`O,5>nO%)XQWO,5>nOITQWO,5>nOOQO-E<Q-E<QO%)^Q`O1G5bO%)hQWO1G5bOOQ$IS1G2T1G2TO$0hQWO1G2TOOQ$IS1G2S1G2SO%)pQWO1G2UOITQWO1G2UOOQ$IS1G2Y1G2YO!,rQpO1G2SO#5TQWO1G2TO%)uQWO1G2UO%)}QWO1G2TOJdQWO7+*bOOQ$IU1G/W1G/WO%*YQWO1G/WOOQ$IU7+'`7+'`O%*_Q#tO7+'gO%*oQ$IfO<<JsOOQ$IU<<Js<<JsOITQWO'#IVO%+`QWO,5?wOOQQ<<Kh<<KhOITQWO<<KhO#MdQWO<<KhO%+hQWO<<KhO%+pQ`O<<KhOITQWO1G2WOOQQ<<Gy<<GyO:^QWO<<GyO%+zQ$IfO<<IhOOQ$IU<<Ih<<IhOOQO,5>w,5>wO%,kQWO,5>wO%,pQWO,5>wOOQO-E<Z-E<ZO%,xQWO1G5iO%,xQWO1G5iO5qQWO1G5iO%-QQWO<<LTOOQQ<<LT<<LTO%-VQWO<<LTO5iQ$I[O<<LTO){QYO<<KhOITQWO<<KhOOQQ<<Ko<<KoO$5_Q$IdO<<KoOOQQ<<Kp<<KpO$5iQ`O<<KpO%-[Q&jO'#IXO%-gQWO,5?zOLXQYO,5?zOOQQ1G2n1G2nO#KdQ$ItO'#ETO!?{Q&jO'#GrOOQO'#IZ'#IZO%-oQ&jO,5=]OOQQ,5=],5=]O%-vQ&jO'#ETO%.RQ&jO'#ETO%.jQ&jO'#ETO%.tQ&jO'#GrO%/VQWO7+(bO%/[QWO7+(bO%/dQ`O7+(bOOQQ7+(b7+(bOITQWO7+(bO){QYO7+(bOITQWO7+(bO%/nQWO7+(bOOQQ7+(e7+(eO5iQ$I[O7+(eO#5YQWO7+(eO5_QWO7+(eO!,rQpO7+(eO%/|QWO,5>vOOQO-E<Y-E<YOOQO'#Gu'#GuO%0XQWO1G5gO5iQ$I[O<<GpOOQQ<<Gp<<GpO%0aQWO<<GpO%0fQWO7++UO%0kQWO7++VOOQQ7+(m7+(mO%0pQWO7+(mO%0uQYO7+(mO%0|QWO7+(mO){QYO7++UO){QYO7++VOOQQ<<La<<LaOOQQ<<Lc<<LcOOQQ-E<]-E<]OOQQ1G3b1G3bO%1RQWO,5=wOOQQ,5=y,5=yO%1WQWO1G3hOLXQYO7+&ROOQO7+%T7+%TO%1]Q7^O1G5XO:^QWO7+%TOOQO1G0T1G0TO%1gQ$IfO1G0ZOOQO1G0Z1G0ZO){QYO1G0ZO%1qQ$I[O1G0ZO:^QWO1G0TO!,rQpO1G0TO!?{Q&jO1G0TO%1|Q$I[O1G0ZO%2[Q&jO1G0TO%2mQ$I[O1G0ZO%3RQ$ItO1G0ZO%3]Q&jO1G0TO!?{Q&jO1G0ZOOQ$IU<<IV<<IVOOQ$IU<<Ig<<IgO:^QWO<<IgO%3dQ$IfO<<N[OOQO7+)n7+)nO%3tQ$IfO7+'gO%5|QbO1G4OO%6WQ7^O7+%|O%6|Q7^O,59jO%8zQ7^O,5<UO%:{Q7^O,5<WO%<hQ7^O,5<fO%>WQ7^O7+'WO%>eQ7^O7+'XO%>rQWO,5;xOOQO7+&{7+&{O%>wQ#tO<<KfOOQO1G4W1G4WO%?XQWO1G4WO%?dQWO1G4WO%?rQWO7+*{O%?rQWO7+*{OITQWO1G4YO%?zQ`O1G4YO%@UQWO7+*|OOQ$IS7+'o7+'oO$0hQWO7+'pO%@^Q`O7+'pOOQ$IS7+'n7+'nO$0hQWO7+'oO%@eQWO7+'pOITQWO7+'pO#5TQWO7+'oO%@jQ#tO<<M|OOQ$IU7+$r7+$rO%@tQ`O,5>qOOQO-E<T-E<TO#MdQWOANASOOQQANASANASOITQWOANASO%AOQ$IdO7+'rOOQQAN=eAN=eO5qQWO1G4cOOQO1G4c1G4cO%A`QWO1G4cO%AeQWO7++TO%AeQWO7++TO5iQ$I[OANAoO%AmQWOANAoOOQQANAoANAoO%ArQWOANASO%AzQ`OANASOOQQANAZANAZOOQQANA[ANA[O%BUQWO,5>sOOQO-E<V-E<VO%BaQ7^O1G5fO#5YQWO,5=^O5_QWO,5=^O!,rQpO,5=^OOQO-E<X-E<XOOQQ1G2w1G2wO$;QQ$ItO,5:oO!?{Q&jO,5=^O%BkQ&jO,5=^O%B|Q&jO,5:oOOQQ<<K|<<K|OITQWO<<K|O%/VQWO<<K|O%CWQWO<<K|O%C`Q`O<<K|O){QYO<<K|OITQWO<<K|OOQQ<<LP<<LPO5iQ$I[O<<LPO#5YQWO<<LPO5_QWO<<LPO%CjQ&jO1G4bO%CrQWO7++ROOQQAN=[AN=[O5iQ$I[OAN=[OOQQ<<Np<<NpOOQQ<<Nq<<NqOOQQ<<LX<<LXO%CzQWO<<LXO%DPQYO<<LXO%DWQWO<<NpO%D]QWO<<NqOOQQ1G3c1G3cO:^QWO7+)SO%DbQ7^O<<ImOOQO<<Ho<<HoOOQO7+%u7+%uO%1gQ$IfO7+%uO){QYO7+%uOOQO7+%o7+%oO:^QWO7+%oO!,rQpO7+%oO%DlQ$I[O7+%uO!?{Q&jO7+%oO%DwQ$I[O7+%uO%EVQ&jO7+%oO%EhQ$I[O7+%uOOQ$IUAN?RAN?RO%E|Q$IfO<<KfO%HUQ7^O<<JTO%HcQ7^O1G1yO%JgQ7^O1G2[O%LhQ7^O1G2^O%NTQ7^O<<JsO%NbQ7^O<<IhOOQO1G1d1G1dOOQO7+)r7+)rO%NoQWO7+)rO%NzQWO<<NgO& SQ`O7+)tOOQ$IS<<K[<<K[O$0hQWO<<K[OOQ$IS<<KZ<<KZO& ^Q`O<<K[O$0hQWO<<KZOOQQG26nG26nO#MdQWOG26nOOQO7+)}7+)}O5qQWO7+)}O& eQWO<<NoOOQQG27ZG27ZO5iQ$I[OG27ZOITQWOG26nOLXQYO1G4_O& mQWO7++QO5iQ$I[O1G2xO#5YQWO1G2xO5_QWO1G2xO!,rQpO1G2xO!?{Q&jO1G2xO%3RQ$ItO1G0ZO& uQ&jO1G2xO%/VQWOANAhOOQQANAhANAhOITQWOANAhO&!WQWOANAhO&!`Q`OANAhOOQQANAkANAkO5iQ$I[OANAkO#5YQWOANAkOOQO'#Gv'#GvOOQO7+)|7+)|OOQQG22vG22vOOQQANAsANAsO&!jQWOANAsOOQQAND[AND[OOQQAND]AND]OOQQ<<Ln<<LnOOQO<<Ia<<IaO%1gQ$IfO<<IaOOQO<<IZ<<IZO:^QWO<<IZO){QYO<<IaO!,rQpO<<IZO&!oQ$I[O<<IaO!?{Q&jO<<IZO&!zQ$I[O<<IaO&#YQ7^O7+'gOOQO<<M^<<M^OOQ$ISAN@vAN@vO$0hQWOAN@vOOQ$ISAN@uAN@uOOQQLD,YLD,YOOQO<<Mi<<MiOOQQLD,uLD,uO#MdQWOLD,YO&$xQ7^O7+)yOOQO7+(d7+(dO5iQ$I[O7+(dO#5YQWO7+(dO5_QWO7+(dO!,rQpO7+(dO!?{Q&jO7+(dOOQQG27SG27SO%/VQWOG27SOITQWOG27SOOQQG27VG27VO5iQ$I[OG27VOOQQG27_G27_OOQOAN>{AN>{OOQOAN>uAN>uO%1gQ$IfOAN>{O:^QWOAN>uO){QYOAN>{O!,rQpOAN>uO&%SQ$I[OAN>{O&%_Q7^O<<KfOOQ$ISG26bG26bOOQQ!$( t!$( tOOQO<<LO<<LOO5iQ$I[O<<LOO#5YQWO<<LOO5_QWO<<LOO!,rQpO<<LOOOQQLD,nLD,nO%/VQWOLD,nOOQQLD,qLD,qOOQOG24gG24gOOQOG24aG24aO%1gQ$IfOG24gO:^QWOG24aO){QYOG24gO&&}QMhO,5:rO&'tQ!LQO'#IqOOQOANAjANAjO5iQ$I[OANAjO#5YQWOANAjO5_QWOANAjOOQQ!$(!Y!$(!YOOQOLD*RLD*ROOQOLD){LD){O%1gQ$IfOLD*RO&(hQMhO,59jO&)[QMhO,5<UO&*OQMhO,5<WO&*rQMhO,5<fOOQOG27UG27UO5iQ$I[OG27UO#5YQWOG27UOOQO!$'Mm!$'MmO&+iQMhO1G2[O&,]QMhO1G2^O&-PQMhO1G1yOOQOLD,pLD,pO5iQ$I[OLD,pO&-vQMhO7+'gOOQO!$(![!$(![O&.mQMhO<<KfOLXQYO'#DrO&/dQbO'#ItOLXQYO'#DjO&/kQ$IfO'#ChO&0UQbO'#ChO&0fQYO,5:vO&2fQWO'#EWOLXQYO,5;ROLXQYO,5;ROLXQYO,5;ROLXQYO,5;ROLXQYO,5;ROLXQYO,5;ROLXQYO,5;ROLXQYO,5;ROLXQYO,5;ROLXQYO,5;ROLXQYO,5;ROLXQYO'#IPO&3pQWO,5<TO&5SQWO,5;ROLXQYO,5;fO!(^QWO'#DOO!(^QWO'#DOO!(^QWO'#DOOITQWO'#FjO&2fQWO'#FjO&3xQWO'#FjOITQWO'#FlO&2fQWO'#FlO&3xQWO'#FlOITQWO'#FzO&2fQWO'#FzO&3xQWO'#FzOLXQYO,5?mO&0fQYO1G0bO&5ZQ7^O'#ChOLXQYO1G1lOITQWO,5<pO&2fQWO,5<pO&3xQWO,5<pOITQWO,5<rO&2fQWO,5<rO&3xQWO,5<rOITQWO,5<_O&2fQWO,5<_O&3xQWO,5<_O&0fQYO1G1mOLXQYO7+&iOITQWO1G1{O&2fQWO1G1{O&3xQWO1G1{O&0fQYO7+'XO&0fQYO7+%|OITQWO7+'zO&2fQWO7+'zO&3xQWO7+'zO&5eQWO7+'pO&5eQWO<<K[O&5eQWOAN@vO&5jQWO'#E[O&5oQWO'#E[O&5wQWO'#EzO&5|QWO'#EgO&6RQWO'#JRO&6^QWO'#JPO&6iQWO,5:vO&6nQ#tO,5<QO&6uQWO'#FsO&6zQWO'#FsO&7PQWO'#FsO&7UQWO,5<RO&7^QWO,5:vO&7fQ7^O1G0}O&7mQWO,5<aO&7rQWO,5<aO&7wQWO,5<aO&7|QWO1G1mO&8RQWO1G0bO&8WQ#tO1G2`O&8_Q#tO1G2`O&8fQ#tO1G2`O&8mQWO1G2UO&8rQ`O7+'pO&8yQWO7+'pO&9OQ`O<<K[O4QQWO'#FhO5_QWO'#FgOBwQWO'#EZOLXQYO,5;cO!(mQWO'#FuO!(mQWO'#FuO!(mQWO'#FuOJdQWO,5<tOJdQWO,5<tOJdQWO,5<tO&9VQWO,5<jOITQWO1G2UO&9_QWO1G2UOITQWO7+'pO!&tQ&jO'#GOO!&tQ&jO,5<j",stateData:"&:]~O'YOS'ZOSTOSUOS~OPTOQTOXyO]cO_hObnOcmOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!TSO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!nlO#dsO#tpO#x^O%PqO%RtO%TrO%UrO%XuO%ZvO%^wO%_wO%axO%nzO%t{O%v|O%x}O%z!OO%}!PO&T!QO&Z!RO&]!SO&_!TO&a!UO&c!VO']PO'fQO'oYO'|aO~OP[XZ[X_[Xj[Xu[Xv[Xx[X!R[X!a[X!b[X!d[X!j[X!{[X#WdX#[[X#][X#^[X#_[X#`[X#a[X#b[X#c[X#e[X#g[X#i[X#j[X#o[X'W[X'f[X'p[X'w[X'x[X~O!]$lX~P$zOR!WO'U!XO'V!ZO~OPTOQTO]cOb!kOc!jOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!T!bO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!n!iO#t!lO#x^O']![O'fQO'oYO'|aO~O!Q!`O!R!]O!O'jP!O'tP~P'dO!S!mO~P`OPTOQTO]cOb!kOc!jOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!T!bO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!n!iO#t!lO#x^O']9WO'fQO'oYO'|aO~OPTOQTO]cOb!kOc!jOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!T!bO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!n!iO#t!lO#x^O'fQO'oYO'|aO~O!Q!rO#U!uO#V!rO']9XO!c'qP~P+{O#W!vO~O!]!wO#W!vO~OP#^OZ#dOj#ROu!{Ov!{Ox!|O!R#bO!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO#i#YO#j#ZO'fQO'p#[O'w!}O'x#OO~O_'hX'W'hX!c'hX!O'hX!T'hX%Q'hX!]'hX~P.jO!{#eO#o#eOP'iXZ'iX_'iXj'iXu'iXv'iXx'iX!R'iX!a'iX!b'iX!d'iX!j'iX#['iX#]'iX#^'iX#_'iX#`'iX#a'iX#b'iX#e'iX#g'iX#i'iX#j'iX'f'iX'p'iX'w'iX'x'iX~O#c'iX'W'iX!O'iX!c'iXn'iX!T'iX%Q'iX!]'iX~P0zO!{#eO~O#z#fO$R#jO~O!T#kO#x^O$U#lO$W#nO~O]#qOh$OOj#rOk#qOl#qOq$POs$QOx#xO!T#yO!_$VO!d#vO#V$WO#t$TO$_$RO$a$SO$d$UO']#pO'f#sO'a'cP~O!d$XO~O!]$ZO~O_$[O'W$[O~O']$`O~O!d$XO']$`O'^$bO'b$cO~Oc$iO!d$XO']$`O~O#c#TO~O]$rOu$nO!T$kO!d$mO%R$qO']$`O'^$bO^(UP~O!n$sO~Ox$tO!T$uO']$`O~Ox$tO!T$uO%Z$yO']$`O~O']$zO~O#dsO%RtO%TrO%UrO%XuO%ZvO%^wO%_wO~Ob%TOc%SO!n%QO%P%RO%c%PO~P7uOb%WOcmO!T%VO!nlO#dsO%PqO%TrO%UrO%XuO%ZvO%^wO%_wO%axO~O`%ZO!{%^O%R%XO'^$bO~P8tO!d%_O!g%cO~O!d%dO~O!TSO~O_$[O'T%lO'W$[O~O_$[O'T%oO'W$[O~O_$[O'T%qO'W$[O~OR!WO'U!XO'V%uO~OP[XZ[Xj[Xu[Xv[Xx[X!R[X!RdX!a[X!b[X!d[X!j[X!{[X!{dX#WdX#[[X#][X#^[X#_[X#`[X#a[X#b[X#c[X#e[X#g[X#i[X#j[X#o[X'f[X'p[X'w[X'x[X~O!O[X!OdX~P;aO!Q%wO!O&iX!O&nX!R&iX!R&nX~P'dO!R%yO!O'jX~OP#^OZ#dOj#ROu!{Ov!{Ox!|O!R%yO!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO#i#YO#j#ZO'fQO'p#[O'w!}O'x#OO~O!O'jX~P>^O!O&OO~Ox&RO!W&]O!X&UO!Y&UO'^$bO~O]&SOk&SO!Q&VO'g&PO!S'kP!S'vP~P@aO!O'sX!R'sX!]'sX!c'sX'p'sX~O!{'sX#W#PX!S'sX~PAYO!{&^O!O'uX!R'uX~O!R&_O!O'tX~O!O&bO~O!{#eO~PAYOS&fO!T&cO!o&eO']$`O~Oc&kO!d$XO']$`O~Ou$nO!d$mO~O!S&lO~P`Ou!{Ov!{Ox!|O!b!yO!d!zO'fQOP!faZ!faj!fa!R!fa!a!fa!j!fa#[!fa#]!fa#^!fa#_!fa#`!fa#a!fa#b!fa#c!fa#e!fa#g!fa#i!fa#j!fa'p!fa'w!fa'x!fa~O_!fa'W!fa!O!fa!c!fan!fa!T!fa%Q!fa!]!fa~PCcO!c&mO~O!]!wO!{&oO'p&nO!R'rX_'rX'W'rX~O!c'rX~PE{O!R&sO!c'qX~O!c&uO~Ox$tO!T$uO#V&vO']$`O~OPTOQTO]cOb!kOc!jOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!TSO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!n!iO#t!lO#x^O']9WO'fQO'oYO'|aO~O]#qOh$OOj#rOk#qOl#qOq$POs9kOx#xO!T#yO!_;RO!d#vO#V9tO#t$TO$_9nO$a9qO$d$UO']&zO'f#sO~O#W&|O~O]#qOh$OOj#rOk#qOl#qOq$POs$QOx#xO!T#yO!_$VO!d#vO#V$WO#t$TO$_$RO$a$SO$d$UO']&zO'f#sO~O'a'mP~PJdO!Q'QO!c'nP~P){O'g'SO'oYO~OP9TOQ9TO]cOb;POc!jOhcOj9TOkcOlcOq9TOs9TOxRO{cO|cO}cO!T!bO!_9VO!dUO!g9TO!h9TO!i9TO!j9TO!k9TO!n!iO#t!lO#x^O']'bO'fQO'oYO'|:}O~O!d!zO~O!R#bO_$]a'W$]a!c$]a!O$]a!T$]a%Q$]a!]$]a~O#d'iO~PITO!]'kO!T'yX#w'yX#z'yX$R'yX~Ou'lO~P! POu'lO!T'yX#w'yX#z'yX$R'yX~O!T'nO#w'rO#z'mO$R'sO~O!Q'vO~PLXO#z#fO$R'yO~Ou$eXx$eX!b$eX'p$eX'w$eX'x$eX~OSfX!RfX!{fX'afX'a$eX~P!!iOk'{O~OR'|O'U'}O'V(PO~Ou(ROx(SO'p#[O'w(UO'x(WO~O'a(QO~P!#rO'a(ZO~O]#qOh$OOj#rOk#qOl#qOq$POs9kOx#xO!T#yO!_;RO!d#vO#V9tO#t$TO$_9nO$a9qO$d$UO'f#sO~O!Q(_O']([O!c'}P~P!$aO#W(aO~O!Q(eO'](bO!O(OP~P!$aOj(sOx(kO!W(qO!X(jO!Y(jO!d(hO!x(rO$w(mO'^$bO'g(gO~O!S(pO~P!&XO!b!yOu'eXx'eX'p'eX'w'eX'x'eX!R'eX!{'eX~O'a'eX#m'eX~P!'QOS(vO!{(uO!R'dX'a'dX~O!R(wO'a'cX~O'](yO~O!d)OO~O']&zO~O!d(hO~Ox$tO!Q!rO!T$uO#U!uO#V!rO']$`O!c'qP~O!]!wO#W)SO~OP#^OZ#dOj#ROu!{Ov!{Ox!|O!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO#i#YO#j#ZO'fQO'p#[O'w!}O'x#OO~O_!^a!R!^a'W!^a!O!^a!c!^an!^a!T!^a%Q!^a!]!^a~P!)cOS)[O!T&cO!o)ZO%Q)YO'b$cO~O']$zO'a'cP~O!])_O!T'`X_'`X!R'`X'W'`X~O!d$XO'b$cO~O!d$XO']$`O'b$cO~O!]!wO#W&|O~O])jO%R)kO'])gO!S(VP~O!R)lO^(UX~O'g'SO~OZ)pO~O^)qO~O!T$kO']$`O'^$bO^(UP~Ox$tO!Q)vO!R&_O!T$uO']$`O!O'tP~O]&YOk&YO!Q)wO'g'SO!S'vP~O!R)xO_(RX'W(RX~O!{)|O'b$cO~OS*PO!T#yO'b$cO~O!T*RO~Ou*TO!TSO~O!n*YO~Oc*_O~O'](yO!S(TP~Oc$iO~O%RtO']$zO~P8tOZ*eO^*dO~OPTOQTO]cObnOcmOhcOjTOkcOlcOqTOsTOxRO{cO|cO}cO!_kO!dUO!gTO!hTO!iTO!jTO!kTO!nlO#x^O%PqO'fQO'oYO'|aO~O!T!bO#t!lO']9WO~P!1RO^*dO_$[O'W$[O~O_*iO#d*kO%T*kO%U*kO~P){O!d%_O~O%t*pO~O!T*rO~O&V*tO&X*uOP&SaQ&SaX&Sa]&Sa_&Sab&Sac&Sah&Saj&Sak&Sal&Saq&Sas&Sax&Sa{&Sa|&Sa}&Sa!T&Sa!_&Sa!d&Sa!g&Sa!h&Sa!i&Sa!j&Sa!k&Sa!n&Sa#d&Sa#t&Sa#x&Sa%P&Sa%R&Sa%T&Sa%U&Sa%X&Sa%Z&Sa%^&Sa%_&Sa%a&Sa%n&Sa%t&Sa%v&Sa%x&Sa%z&Sa%}&Sa&T&Sa&Z&Sa&]&Sa&_&Sa&a&Sa&c&Sa'S&Sa']&Sa'f&Sa'o&Sa'|&Sa!S&Sa%{&Sa`&Sa&Q&Sa~O']*zO~On*}O~O!O&ia!R&ia~P!)cO!Q+RO!O&iX!R&iX~P){O!R%yO!O'ja~O!O'ja~P>^O!R&_O!O'ta~O!RwX!R!ZX!SwX!S!ZX!]wX!]!ZX!d!ZX!{wX'b!ZX~O!]+WO!{+VO!R#TX!R'lX!S#TX!S'lX!]'lX!d'lX'b'lX~O!]+YO!d$XO'b$cO!R!VX!S!VX~O]&QOk&QOx&RO'g(gO~OP9TOQ9TO]cOb;POc!jOhcOj9TOkcOlcOq9TOs9TOxRO{cO|cO}cO!T!bO!_9VO!dUO!g9TO!h9TO!i9TO!j9TO!k9TO!n!iO#t!lO#x^O'fQO'oYO'|:}O~O']9yO~P!;^O!R+^O!S'kX~O!S+`O~O!]+WO!{+VO!R#TX!S#TX~O!R+aO!S'vX~O!S+cO~O]&QOk&QOx&RO'^$bO'g(gO~O!X+dO!Y+dO~P!>[Ox$tO!Q+fO!T$uO']$`O!O&nX!R&nX~O_+jO!W+mO!X+iO!Y+iO!r+qO!s+oO!t+pO!u+nO!x+rO'^$bO'g(gO'o+gO~O!S+lO~P!?]OS+wO!T&cO!o+vO~O!{+}O!R'ra!c'ra_'ra'W'ra~O!]!wO~P!@gO!R&sO!c'qa~Ox$tO!Q,QO!T$uO#U,SO#V,QO']$`O!R&pX!c&pX~O_#Oi!R#Oi'W#Oi!O#Oi!c#Oin#Oi!T#Oi%Q#Oi!]#Oi~P!)cO#W!za!R!za!c!za!{!za!T!za_!za'W!za!O!za~P!#rO#W'eXP'eXZ'eX_'eXj'eXv'eX!a'eX!d'eX!j'eX#['eX#]'eX#^'eX#_'eX#`'eX#a'eX#b'eX#c'eX#e'eX#g'eX#i'eX#j'eX'W'eX'f'eX!c'eX!O'eX!T'eXn'eX%Q'eX!]'eX~P!'QO!R,]O'a'mX~P!#rO'a,_O~O!R,`O!c'nX~P!)cO!c,cO~O!O,dO~OP#^Ou!{Ov!{Ox!|O!b!yO!d!zO!j#^O'fQOZ#Zi_#Zij#Zi!R#Zi!a#Zi#]#Zi#^#Zi#_#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi'W#Zi'p#Zi'w#Zi'x#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~O#[#Zi~P!EtO#[#PO~P!EtOP#^Ou!{Ov!{Ox!|O!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO'fQOZ#Zi_#Zi!R#Zi!a#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi'W#Zi'p#Zi'w#Zi'x#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~Oj#Zi~P!H`Oj#RO~P!H`OP#^Oj#ROu!{Ov!{Ox!|O!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO'fQO_#Zi!R#Zi#e#Zi#g#Zi#i#Zi#j#Zi'W#Zi'p#Zi'w#Zi'x#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~OZ#Zi!a#Zi#a#Zi#b#Zi#c#Zi~P!JzOZ#dO!a#TO#a#TO#b#TO#c#TO~P!JzOP#^OZ#dOj#ROu!{Ov!{Ox!|O!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO'fQO_#Zi!R#Zi#g#Zi#i#Zi#j#Zi'W#Zi'p#Zi'x#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~O'w#Zi~P!MrO'w!}O~P!MrOP#^OZ#dOj#ROu!{Ov!{Ox!|O!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO'fQO'w!}O_#Zi!R#Zi#i#Zi#j#Zi'W#Zi'p#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~O'x#Zi~P#!^O'x#OO~P#!^OP#^OZ#dOj#ROu!{Ov!{Ox!|O!a#TO!b!yO!d!zO!j#^O#[#PO#]#QO#^#QO#_#QO#`#SO#a#TO#b#TO#c#TO#e#UO#g#WO#i#YO'fQO'w!}O'x#OO~O_#Zi!R#Zi#j#Zi'W#Zi'p#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~P#$xOP[XZ[Xj[Xu[Xv[Xx[X!a[X!b[X!d[X!j[X!{[X#WdX#[[X#][X#^[X#_[X#`[X#a[X#b[X#c[X#e[X#g[X#i[X#j[X#o[X'f[X'p[X'w[X'x[X!R[X!S[X~O#m[X~P#']OP#^OZ9iOj9^Ou!{Ov!{Ox!|O!a9`O!b!yO!d!zO!j#^O#[9[O#]9]O#^9]O#_9]O#`9_O#a9`O#b9`O#c9`O#e9aO#g9cO#i9eO#j9fO'fQO'p#[O'w!}O'x#OO~O#m,fO~P#)gOP'iXZ'iXj'iXu'iXv'iXx'iX!a'iX!b'iX!d'iX!j'iX#['iX#]'iX#^'iX#_'iX#`'iX#a'iX#b'iX#e'iX#g'iX#i'iX#j'iX'f'iX'p'iX'w'iX'x'iX!R'iX~O!{9jO#o9jO#c'iX#m'iX!S'iX~P#+bO_&sa!R&sa'W&sa!c&san&sa!O&sa!T&sa%Q&sa!]&sa~P!)cOP#ZiZ#Zi_#Zij#Ziv#Zi!R#Zi!a#Zi!b#Zi!d#Zi!j#Zi#[#Zi#]#Zi#^#Zi#_#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi'W#Zi'f#Zi!O#Zi!c#Zin#Zi!T#Zi%Q#Zi!]#Zi~P!#rO_#ni!R#ni'W#ni!O#ni!c#nin#ni!T#ni%Q#ni!]#ni~P!)cO#z,hO~O#z,iO~O!]'kO!{,jO!T$OX#w$OX#z$OX$R$OX~O!Q,kO~O!T'nO#w,mO#z'mO$R,nO~O!R9gO!S'hX~P#)gO!S,oO~O$R,qO~OR'|O'U'}O'V,tO~O],wOk,wO!O,xO~O!RdX!]dX!cdX!c$eX'pdX~P!!iO!c-OO~P!#rO!R-PO!]!wO'p&nO!c'}X~O!c-UO~O!O$eX!R$eX!]$lX~P!!iO!R-WO!O(OX~P!#rO!]-YO~O!O-[O~O!Q(_O']$`O!c'}P~Oj-`O!]!wO!d$XO'b$cO'p&nO~O!])_O~O_$[O!R-eO'W$[O~O!S-gO~P!&XO!X-hO!Y-hO'^$bO'g(gO~Ox-jO'g(gO~O!x-kO~O']$zO!R&xX'a&xX~O!R(wO'a'ca~Ou-pOv-pOx-qO'pra'wra'xra!Rra!{ra~O'ara#mra~P#6qOu(ROx(SO'p$^a'w$^a'x$^a!R$^a!{$^a~O'a$^a#m$^a~P#7gOu(ROx(SO'p$`a'w$`a'x$`a!R$`a!{$`a~O'a$`a#m$`a~P#8YO]-rO~O#W-sO~O'a$na!R$na#m$na!{$na~P!#rO#W-vO~OS.PO!T&cO!o.OO%Q-}O~O'a.QO~O]#qOj#rOk#qOl#qOq$POs9kOx#xO!T#yO!_;RO!d#vO#V9tO#t$TO$_9nO$a9qO$d$UO'f#sO~Oh.SO'].RO~P#:PO!])_O!T'`a_'`a!R'`a'W'`a~O#W.YO~OZ[X!RdX!SdX~O!R.ZO!S(VX~O!S.]O~OZ.^O~O].`O'])gO~O!T$kO']$`O^'QX!R'QX~O!R)lO^(Ua~O!c.cO~P!)cO].eO~OZ.fO~O^.gO~OS.PO!T&cO!o.OO%Q-}O'b$cO~O!R)xO_(Ra'W(Ra~O!{.mO~OS.pO!T#yO~O'g'SO!S(SP~OS.zO!T.vO!o.yO%Q.xO'b$cO~OZ/UO!R/SO!S(TX~O!S/VO~O^/XO_$[O'W$[O~O]/YO~O]/ZO'](yO~O#c/[O%r/]O~P0zO!{#eO#c/[O%r/]O~O_/^O~P){O_/`O~O%{/dOP%yiQ%yiX%yi]%yi_%yib%yic%yih%yij%yik%yil%yiq%yis%yix%yi{%yi|%yi}%yi!T%yi!_%yi!d%yi!g%yi!h%yi!i%yi!j%yi!k%yi!n%yi#d%yi#t%yi#x%yi%P%yi%R%yi%T%yi%U%yi%X%yi%Z%yi%^%yi%_%yi%a%yi%n%yi%t%yi%v%yi%x%yi%z%yi%}%yi&T%yi&Z%yi&]%yi&_%yi&a%yi&c%yi'S%yi']%yi'f%yi'o%yi'|%yi!S%yi`%yi&Q%yi~O`/jO!S/hO&Q/iO~P`O!TSO!d/lO~O&X*uOP&SiQ&SiX&Si]&Si_&Sib&Sic&Sih&Sij&Sik&Sil&Siq&Sis&Six&Si{&Si|&Si}&Si!T&Si!_&Si!d&Si!g&Si!h&Si!i&Si!j&Si!k&Si!n&Si#d&Si#t&Si#x&Si%P&Si%R&Si%T&Si%U&Si%X&Si%Z&Si%^&Si%_&Si%a&Si%n&Si%t&Si%v&Si%x&Si%z&Si%}&Si&T&Si&Z&Si&]&Si&_&Si&a&Si&c&Si'S&Si']&Si'f&Si'o&Si'|&Si!S&Si%{&Si`&Si&Q&Si~O!R#bOn$]a~O!O&ii!R&ii~P!)cO!R%yO!O'ji~O!R&_O!O'ti~O!O/rO~O!R!Va!S!Va~P#)gO]&QOk&QO!Q/xO'g(gO!R&jX!S&jX~P@aO!R+^O!S'ka~O]&YOk&YO!Q)wO'g'SO!R&oX!S&oX~O!R+aO!S'va~O!O'ui!R'ui~P!)cO_$[O!]!wO!d$XO!j0SO!{0QO'W$[O'b$cO'p&nO~O!S0VO~P!?]O!X0WO!Y0WO'^$bO'g(gO'o+gO~O!W0XO~P#LVO!TSO!W0XO!u0ZO!x0[O~P#LVO!W0XO!s0^O!t0^O!u0ZO!x0[O~P#LVO!T&cO~O!T&cO~P!#rO!R'ri!c'ri_'ri'W'ri~P!)cO!{0gO!R'ri!c'ri_'ri'W'ri~O!R&sO!c'qi~Ox$tO!T$uO#V0iO']$`O~O#WraPraZra_rajra!ara!bra!dra!jra#[ra#]ra#^ra#_ra#`ra#ara#bra#cra#era#gra#ira#jra'Wra'fra!cra!Ora!Tranra%Qra!]ra~P#6qO#W$^aP$^aZ$^a_$^aj$^av$^a!a$^a!b$^a!d$^a!j$^a#[$^a#]$^a#^$^a#_$^a#`$^a#a$^a#b$^a#c$^a#e$^a#g$^a#i$^a#j$^a'W$^a'f$^a!c$^a!O$^a!T$^an$^a%Q$^a!]$^a~P#7gO#W$`aP$`aZ$`a_$`aj$`av$`a!a$`a!b$`a!d$`a!j$`a#[$`a#]$`a#^$`a#_$`a#`$`a#a$`a#b$`a#c$`a#e$`a#g$`a#i$`a#j$`a'W$`a'f$`a!c$`a!O$`a!T$`an$`a%Q$`a!]$`a~P#8YO#W$naP$naZ$na_$naj$nav$na!R$na!a$na!b$na!d$na!j$na#[$na#]$na#^$na#_$na#`$na#a$na#b$na#c$na#e$na#g$na#i$na#j$na'W$na'f$na!c$na!O$na!T$na!{$nan$na%Q$na!]$na~P!#rO_#Oq!R#Oq'W#Oq!O#Oq!c#Oqn#Oq!T#Oq%Q#Oq!]#Oq~P!)cO!R&kX'a&kX~PJdO!R,]O'a'ma~O!Q0qO!R&lX!c&lX~P){O!R,`O!c'na~O!R,`O!c'na~P!)cO#m!fa!S!fa~PCcO#m!^a!R!^a!S!^a~P#)gO!T1UO#x^O$P1VO~O!S1ZO~On1[O~P!#rO_$Yq!R$Yq'W$Yq!O$Yq!c$Yqn$Yq!T$Yq%Q$Yq!]$Yq~P!)cO!O1]O~O],wOk,wO~Ou(ROx(SO'x(WO'p$xi'w$xi!R$xi!{$xi~O'a$xi#m$xi~P$,vOu(ROx(SO'p$zi'w$zi'x$zi!R$zi!{$zi~O'a$zi#m$zi~P$-iO#m1^O~P!#rO!Q1`O']$`O!R&tX!c&tX~O!R-PO!c'}a~O!R-PO!]!wO!c'}a~O!R-PO!]!wO'p&nO!c'}a~O'a$gi!R$gi#m$gi!{$gi~P!#rO!Q1gO'](bO!O&vX!R&vX~P!$aO!R-WO!O(Oa~O!R-WO!O(Oa~P!#rO!]!wO~O!]!wO#c1oO~Oj1rO!]!wO'p&nO~O!R'di'a'di~P!#rO!{1uO!R'di'a'di~P!#rO!c1xO~O_$Zq!R$Zq'W$Zq!O$Zq!c$Zqn$Zq!T$Zq%Q$Zq!]$Zq~P!)cO!R1|O!T(PX~P!#rO!T&cO%Q2PO~O!T&cO%Q2PO~P!#rO!T$eX$u[X_$eX!R$eX'W$eX~P!!iO$u2TOugXxgX!TgX'pgX'wgX'xgX_gX!RgX'WgX~O$u2TO~O]2ZO%R2[O'])gO!R'PX!S'PX~O!R.ZO!S(Va~OZ2`O~O^2aO~O]2dO~OS2fO!T&cO!o2eO%Q2PO~O_$[O'W$[O~P!#rO!T#yO~P!#rO!R2kO!{2mO!S(SX~O!S2nO~Ox;]O!W2wO!X2pO!Y2pO!r2vO!s2uO!t2uO!x2tO'^$bO'g(gO'o+gO~O!S2sO~P$6QOS3OO!T.vO!o2}O%Q2|O~OS3OO!T.vO!o2}O%Q2|O'b$cO~O'](yO!R'OX!S'OX~O!R/SO!S(Ta~O]3YO'g3XO~O]3ZO~O^3]O~O!c3`O~P){O_3bO~O_3bO~P){O#c3dO%r3eO~PE{O`/jO!S3iO&Q/iO~P`O!]3kO~O!R#Ti!S#Ti~P#)gO!{3mO!R#Ti!S#Ti~O!R!Vi!S!Vi~P#)gO_$[O!{3tO'W$[O~O_$[O!]!wO!{3tO'W$[O~O!X3xO!Y3xO'^$bO'g(gO'o+gO~O_$[O!]!wO!d$XO!j3yO!{3tO'W$[O'b$cO'p&nO~O!W3zO~P$:oO!W3zO!u3}O!x4OO~P$:oO_$[O!]!wO!j3yO!{3tO'W$[O'p&nO~O!R'rq!c'rq_'rq'W'rq~P!)cO!R&sO!c'qq~O#W$xiP$xiZ$xi_$xij$xiv$xi!a$xi!b$xi!d$xi!j$xi#[$xi#]$xi#^$xi#_$xi#`$xi#a$xi#b$xi#c$xi#e$xi#g$xi#i$xi#j$xi'W$xi'f$xi!c$xi!O$xi!T$xin$xi%Q$xi!]$xi~P$,vO#W$ziP$ziZ$zi_$zij$ziv$zi!a$zi!b$zi!d$zi!j$zi#[$zi#]$zi#^$zi#_$zi#`$zi#a$zi#b$zi#c$zi#e$zi#g$zi#i$zi#j$zi'W$zi'f$zi!c$zi!O$zi!T$zin$zi%Q$zi!]$zi~P$-iO#W$giP$giZ$gi_$gij$giv$gi!R$gi!a$gi!b$gi!d$gi!j$gi#[$gi#]$gi#^$gi#_$gi#`$gi#a$gi#b$gi#c$gi#e$gi#g$gi#i$gi#j$gi'W$gi'f$gi!c$gi!O$gi!T$gi!{$gin$gi%Q$gi!]$gi~P!#rO!R&ka'a&ka~P!#rO!R&la!c&la~P!)cO!R,`O!c'ni~O#m#Oi!R#Oi!S#Oi~P#)gOP#^Ou!{Ov!{Ox!|O!b!yO!d!zO!j#^O'fQOZ#Zij#Zi!a#Zi#]#Zi#^#Zi#_#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi#m#Zi'p#Zi'w#Zi'x#Zi!R#Zi!S#Zi~O#[#Zi~P$DVO#[9[O~P$DVOP#^Ou!{Ov!{Ox!|O!b!yO!d!zO!j#^O#[9[O#]9]O#^9]O#_9]O'fQOZ#Zi!a#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi#m#Zi'p#Zi'w#Zi'x#Zi!R#Zi!S#Zi~Oj#Zi~P$F_Oj9^O~P$F_OP#^Oj9^Ou!{Ov!{Ox!|O!b!yO!d!zO!j#^O#[9[O#]9]O#^9]O#_9]O#`9_O'fQO#e#Zi#g#Zi#i#Zi#j#Zi#m#Zi'p#Zi'w#Zi'x#Zi!R#Zi!S#Zi~OZ#Zi!a#Zi#a#Zi#b#Zi#c#Zi~P$HgOZ9iO!a9`O#a9`O#b9`O#c9`O~P$HgOP#^OZ9iOj9^Ou!{Ov!{Ox!|O!a9`O!b!yO!d!zO!j#^O#[9[O#]9]O#^9]O#_9]O#`9_O#a9`O#b9`O#c9`O#e9aO'fQO#g#Zi#i#Zi#j#Zi#m#Zi'p#Zi'x#Zi!R#Zi!S#Zi~O'w#Zi~P$J{O'w!}O~P$J{OP#^OZ9iOj9^Ou!{Ov!{Ox!|O!a9`O!b!yO!d!zO!j#^O#[9[O#]9]O#^9]O#_9]O#`9_O#a9`O#b9`O#c9`O#e9aO#g9cO'fQO'w!}O#i#Zi#j#Zi#m#Zi'p#Zi!R#Zi!S#Zi~O'x#Zi~P$MTO'x#OO~P$MTOP#^OZ9iOj9^Ou!{Ov!{Ox!|O!a9`O!b!yO!d!zO!j#^O#[9[O#]9]O#^9]O#_9]O#`9_O#a9`O#b9`O#c9`O#e9aO#g9cO#i9eO'fQO'w!}O'x#OO~O#j#Zi#m#Zi'p#Zi!R#Zi!S#Zi~P% ]O_#ky!R#ky'W#ky!O#ky!c#kyn#ky!T#ky%Q#ky!]#ky~P!)cOP#ZiZ#Zij#Ziv#Zi!a#Zi!b#Zi!d#Zi!j#Zi#[#Zi#]#Zi#^#Zi#_#Zi#`#Zi#a#Zi#b#Zi#c#Zi#e#Zi#g#Zi#i#Zi#j#Zi#m#Zi'f#Zi!R#Zi!S#Zi~P!#rO!b!yOu'eXx'eX'p'eX'w'eX'x'eX!S'eX~OP'eXZ'eXj'eXv'eX!a'eX!d'eX!j'eX#['eX#]'eX#^'eX#_'eX#`'eX#a'eX#b'eX#c'eX#e'eX#g'eX#i'eX#j'eX#m'eX'f'eX!R'eX~P%%mO#m#ni!R#ni!S#ni~P#)gO!S4`O~O!R&sa!S&sa~P#)gO!]!wO'p&nO!R&ta!c&ta~O!R-PO!c'}i~O!R-PO!]!wO!c'}i~O!O&va!R&va~P!#rO!]4gO~O!R-WO!O(Oi~P!#rO!R-WO!O(Oi~O!O4kO~O!]!wO#c4pO~Oj4qO!]!wO'p&nO~O!O4sO~O'a$iq!R$iq#m$iq!{$iq~P!#rO_$Zy!R$Zy'W$Zy!O$Zy!c$Zyn$Zy!T$Zy%Q$Zy!]$Zy~P!)cO!R1|O!T(Pa~O!T&cO%Q4xO~O!T&cO%Q4xO~P!#rO_#Oy!R#Oy'W#Oy!O#Oy!c#Oyn#Oy!T#Oy%Q#Oy!]#Oy~P!)cOZ4{O~O]4}O'])gO~O!R.ZO!S(Vi~O]5QO~O^5RO~O'g'SO!R&{X!S&{X~O!R2kO!S(Sa~O!S5`O~P$6QOx;^O'g(gO'o+gO~O!W5cO!X5bO!Y5bO!x0[O'^$bO'g(gO'o+gO~O!s5dO!t5dO~P%.RO!X5bO!Y5bO'^$bO'g(gO'o+gO~O!T.vO~O!T.vO%Q5fO~O!T.vO%Q5fO~P!#rOS5kO!T.vO!o5jO%Q5fO~OZ5pO!R'Oa!S'Oa~O!R/SO!S(Ti~O]5sO~O!c5tO~O!c5uO~O!c5vO~O!c5vO~P){O_5xO~O!]5{O~O!c5|O~O!R'ui!S'ui~P#)gO_$[O'W$[O~P!)cO_$[O!{6RO'W$[O~O_$[O!]!wO!{6RO'W$[O~O!X6WO!Y6WO'^$bO'g(gO'o+gO~O_$[O!]!wO!j6XO!{6RO'W$[O'p&nO~O!d$XO'b$cO~P%2mO!W6YO~P%2[O!R'ry!c'ry_'ry'W'ry~P!)cO#W$iqP$iqZ$iq_$iqj$iqv$iq!R$iq!a$iq!b$iq!d$iq!j$iq#[$iq#]$iq#^$iq#_$iq#`$iq#a$iq#b$iq#c$iq#e$iq#g$iq#i$iq#j$iq'W$iq'f$iq!c$iq!O$iq!T$iq!{$iqn$iq%Q$iq!]$iq~P!#rO!R&li!c&li~P!)cO#m#Oq!R#Oq!S#Oq~P#)gOu-pOv-pOx-qO'pra'wra'xra!Sra~OPraZrajra!ara!bra!dra!jra#[ra#]ra#^ra#_ra#`ra#ara#bra#cra#era#gra#ira#jra#mra'fra!Rra~P%6eOu(ROx(SO'p$^a'w$^a'x$^a!S$^a~OP$^aZ$^aj$^av$^a!a$^a!b$^a!d$^a!j$^a#[$^a#]$^a#^$^a#_$^a#`$^a#a$^a#b$^a#c$^a#e$^a#g$^a#i$^a#j$^a#m$^a'f$^a!R$^a~P%8fOu(ROx(SO'p$`a'w$`a'x$`a!S$`a~OP$`aZ$`aj$`av$`a!a$`a!b$`a!d$`a!j$`a#[$`a#]$`a#^$`a#_$`a#`$`a#a$`a#b$`a#c$`a#e$`a#g$`a#i$`a#j$`a#m$`a'f$`a!R$`a~P%:gOP$naZ$naj$nav$na!a$na!b$na!d$na!j$na#[$na#]$na#^$na#_$na#`$na#a$na#b$na#c$na#e$na#g$na#i$na#j$na#m$na'f$na!R$na!S$na~P!#rO#m$Yq!R$Yq!S$Yq~P#)gO#m$Zq!R$Zq!S$Zq~P#)gO!S6dO~O'a$|y!R$|y#m$|y!{$|y~P!#rO!]!wO!R&ti!c&ti~O!]!wO'p&nO!R&ti!c&ti~O!R-PO!c'}q~O!O&vi!R&vi~P!#rO!R-WO!O(Oq~O!O6jO~P!#rO!O6jO~O!R'dy'a'dy~P!#rO!R&ya!T&ya~P!#rO!T$tq_$tq!R$tq'W$tq~P!#rOZ6qO~O!R.ZO!S(Vq~O]6tO~O!T&cO%Q6uO~O!T&cO%Q6uO~P!#rO!{6vO!R&{a!S&{a~O!R2kO!S(Si~P#)gO!X6|O!Y6|O'^$bO'g(gO'o+gO~O!W7OO!x4OO~P%BkO!T.vO%Q7RO~O!T.vO%Q7RO~P!#rO]7YO'g7XO~O!R/SO!S(Tq~O!c7[O~O!c7[O~P){O!c7^O~O!c7_O~O!R#Ty!S#Ty~P#)gO_$[O!{7eO'W$[O~O_$[O!]!wO!{7eO'W$[O~O!X7hO!Y7hO'^$bO'g(gO'o+gO~O_$[O!]!wO!j7iO!{7eO'W$[O'p&nO~O#W$|yP$|yZ$|y_$|yj$|yv$|y!R$|y!a$|y!b$|y!d$|y!j$|y#[$|y#]$|y#^$|y#_$|y#`$|y#a$|y#b$|y#c$|y#e$|y#g$|y#i$|y#j$|y'W$|y'f$|y!c$|y!O$|y!T$|y!{$|yn$|y%Q$|y!]$|y~P!#rO#m#ky!R#ky!S#ky~P#)gOP$giZ$gij$giv$gi!a$gi!b$gi!d$gi!j$gi#[$gi#]$gi#^$gi#_$gi#`$gi#a$gi#b$gi#c$gi#e$gi#g$gi#i$gi#j$gi#m$gi'f$gi!R$gi!S$gi~P!#rOu(ROx(SO'x(WO'p$xi'w$xi!S$xi~OP$xiZ$xij$xiv$xi!a$xi!b$xi!d$xi!j$xi#[$xi#]$xi#^$xi#_$xi#`$xi#a$xi#b$xi#c$xi#e$xi#g$xi#i$xi#j$xi#m$xi'f$xi!R$xi~P%JROu(ROx(SO'p$zi'w$zi'x$zi!S$zi~OP$ziZ$zij$ziv$zi!a$zi!b$zi!d$zi!j$zi#[$zi#]$zi#^$zi#_$zi#`$zi#a$zi#b$zi#c$zi#e$zi#g$zi#i$zi#j$zi#m$zi'f$zi!R$zi~P%LSO#m$Zy!R$Zy!S$Zy~P#)gO#m#Oy!R#Oy!S#Oy~P#)gO!]!wO!R&tq!c&tq~O!R-PO!c'}y~O!O&vq!R&vq~P!#rO!O7mO~P!#rO!R.ZO!S(Vy~O!R2kO!S(Sq~O!X7yO!Y7yO'^$bO'g(gO'o+gO~O!T.vO%Q7|O~O!T.vO%Q7|O~P!#rO!c8PO~O_$[O!{8UO'W$[O~O_$[O!]!wO!{8UO'W$[O~OP$iqZ$iqj$iqv$iq!a$iq!b$iq!d$iq!j$iq#[$iq#]$iq#^$iq#_$iq#`$iq#a$iq#b$iq#c$iq#e$iq#g$iq#i$iq#j$iq#m$iq'f$iq!R$iq!S$iq~P!#rO!R&{q!S&{q~P#)gO_$[O!{8hO'W$[O~OP$|yZ$|yj$|yv$|y!a$|y!b$|y!d$|y!j$|y#[$|y#]$|y#^$|y#_$|y#`$|y#a$|y#b$|y#c$|y#e$|y#g$|y#i$|y#j$|y#m$|y'f$|y!R$|y!S$|y~P!#rO!S!za!W!za!X!za!Y!za!r!za!s!za!t!za!x!za'^!za'g!za'o!za~P!#rO!W'eX!X'eX!Y'eX!r'eX!s'eX!t'eX!x'eX'^'eX'g'eX'o'eX~P%%mO!Wra!Xra!Yra!rra!sra!tra!xra'^ra'gra'ora~P%6eO!W$^a!X$^a!Y$^a!r$^a!s$^a!t$^a!x$^a'^$^a'g$^a'o$^a~P%8fO!W$`a!X$`a!Y$`a!r$`a!s$`a!t$`a!x$`a'^$`a'g$`a'o$`a~P%:gO!S$na!W$na!X$na!Y$na!r$na!s$na!t$na!x$na'^$na'g$na'o$na~P!#rO!W$xi!X$xi!Y$xi!r$xi!s$xi!t$xi!x$xi'^$xi'g$xi'o$xi~P%JRO!W$zi!X$zi!Y$zi!r$zi!s$zi!t$zi!x$zi'^$zi'g$zi'o$zi~P%LSO!S$gi!W$gi!X$gi!Y$gi!r$gi!s$gi!t$gi!x$gi'^$gi'g$gi'o$gi~P!#rO!S$iq!W$iq!X$iq!Y$iq!r$iq!s$iq!t$iq!x$iq'^$iq'g$iq'o$iq~P!#rO!S$|y!W$|y!X$|y!Y$|y!r$|y!s$|y!t$|y!x$|y'^$|y'g$|y'o$|y~P!#rOn'hX~P.jOn[X!O[X!c[X%r[X!T[X%Q[X!][X~P$zO!]dX!c[X!cdX'pdX~P;aOP9TOQ9TO]cOb;POc!jOhcOj9TOkcOlcOq9TOs9TOxRO{cO|cO}cO!TSO!_9VO!dUO!g9TO!h9TO!i9TO!j9TO!k9TO!n!iO#t!lO#x^O']'bO'fQO'oYO'|:}O~O]#qOh$OOj#rOk#qOl#qOq$POs9lOx#xO!T#yO!_;SO!d#vO#V9uO#t$TO$_9oO$a9rO$d$UO']&zO'f#sO~O!R9gO!S$]a~O]#qOh$OOj#rOk#qOl#qOq$POs9mOx#xO!T#yO!_;TO!d#vO#V9vO#t$TO$_9pO$a9sO$d$UO']&zO'f#sO~O#d'iO~P&3xO!S[X!SdX~P;aO!]9ZO~O#W9YO~O!]!wO#W9YO~O!{9jO~O#c9`O~O!{9wO!R'uX!S'uX~O!{9jO!R'sX!S'sX~O#W9xO~O'a9zO~P!#rO#W:RO~O#W:SO~O#W:TO~O!]!wO#W:UO~O!]!wO#W9xO~O#m:VO~P#)gO#W:WO~O#W:XO~O#W:YO~O#W:ZO~O#W:[O~O#m:]O~P!#rO#m:^O~P!#rO#m:_O~P!#rO!O:`O~O!O:aO~P!#rO!O:aO~O!O:bO~P!#rO!]!wO#c;YO~O!]!wO#c;[O~O#x~!b!r!t!u#U#V'|$_$a$d$u%P%Q%R%X%Z%^%_%a%c~UT#x'|#]}'Y'Z#z'Y']'g~",goto:"#Hc(ZPPPPPPPP([P(lP*`PPPP-zPP.a3s5g5zP5zPPP5zP7t5zP5zP7xPP8OP8d<uPPPP<yPPPP<y?kPPP?qBSP<yPDgPPPPF`<yPPPPPHX<yPPKYLVPPPPLZMsPM{N|PLV<y<y!$^!'X!+z!+z!/ZPPP!/b!2W<yPPPPPPPPPP!4}P!6`PP<y!7mP<yP<y<y<y<yP<y!:[PP!=TP!?x!@Q!@U!@UP!=QP!@Y!@YP!B}P!CR<y<y!CX!E{5zP5zP5z5zP!GO5z5z!IU5z!Ki5z!Mi5z5z!NV#!]#!]#!a#!]#!iP#!]P5z##e5z#$y5z5z-zPPP#&cPP#&{#&{P#&{P#'b#&{PP#'hP#'_P#'_#'zMw#'_#(i#(o#(r([#(u([P#(|#(|#(|P([P([P([P([PP([P#)S#)VP#)V([P#)ZP#)^P([P([P([P([P([P([([#)d#)n#)t#)z#*Y#*`#*f#*p#*v#+V#+]#+k#+q#+w#,V#,l#.[#.j#.p#.v#.|#/S#/^#/d#/j#/t#0W#0^PPPPPPPP#0dPP#1W#4`PP#5v#5}#6VPP#;X#=l#Ch#Ck#Cn#Cy#C|PP#DP#DT#Dr#Ei#Em#FRPP#FV#F]#FaP#Fd#Fh#Fk#GZ#Gq#Gv#Gy#G|#HS#HV#HZ#H_mhOSj}!n$Z%b%e%f%h*m*r/d/gQ$hmQ$opQ%YyS&U!b+^Q&j!jS(j#y(oQ)e$iQ)r$qQ*^%SQ+d&]S+i&c+kQ+{&kQ-h(qQ/R*_Y0W+m+n+o+p+qS2p.v2rU3x0X0Z0^U5b2u2v2wS6W3z3}S6|5c5dQ7h6YR7y7O$p[ORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$Z$m%Z%^%b%d%e%f%h%l%w%y&R&^&e&o&|'Q(Q)S)Z*i*m*r+R+v+},`,f-q-v.O.Y.y/[/]/^/`/d/g/i0Q0g0q2e2}3b3d3e3t5j5x6R7e8U8h!j'd#]#k&V'v+V+Y,k/x1U2m3m6v9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;QQ(z$QQ)j$kQ*`%VQ*g%_Q,V9kQ.T)_Q.`)kQ/Z*eQ2Z.ZQ3V/SQ4X9mQ4}2[R8s9lpeOSjy}!n$Z%X%b%e%f%h*m*r/d/gR*b%Z&WVOSTjkn}!S!W!k!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$Z$m%Z%^%_%b%d%e%f%h%l%y&R&^&e&o&|'Q'v(Q)S)Z*i*m*r+R+V+Y+v+},`,f,k-q-v.O.Y.y/[/]/^/`/d/g/i/x0Q0g0q1U2e2m2}3b3d3e3m3t5j5x6R6v7e8U8h9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;P;Q[!cRU!]!`%w&VQ$alQ$gmS$lp$qv$vrs!r!u$X$t&_&s&v)v)w)x*k+W+f,Q,S/l0iQ%OwQ&g!iQ&i!jS(^#v(hS)d$h$iQ)h$kQ)u$sQ*X%QQ*]%SS+z&j&kQ-T(_Q.X)eQ._)kQ.a)lQ.d)pQ.|*YS/Q*^*_Q0e+{Q1_-PQ2Y.ZQ2^.^Q2c.fQ3U/RQ4d1`Q4|2[Q5P2`Q6p4{R7p6q!Y$em!j$g$h$i&T&i&j&k(i)d)e+Z+h+z+{-a.X/}0T0Y0e1q3w3|6U7f8VQ)]$aQ)}${Q*Q$|Q*[%SQ.h)uQ.{*XU/P*]*^*_Q3P.|S3T/Q/RQ5]2oQ5o3US6z5^5aS7w6{6}Q8_7xR8n8`W#|a$c(w:}S${t%XQ$|uQ$}vR){$y$o#{a!w!y#d#v#x$R$S$W&f'|(V(X(Y(a(e(u(v)Y)[)_)|*P+w,]-W-Y-s-}.P.m.p.x.z1^1g1o1u1|2P2T2f2|3O4g4p4x5f5k6u7R7|9Z9i9n9o9p9q9r9s9t9u9v9{9|9}:O:P:Q:R:S:T:W:X:Y:]:^:_:};U;V;W;Y;[T'}#s(OX({$Q9k9l9mU&Y!b$u+aQ'T!{Q)o$nQ.q*RQ1v-pR5X2k&^cORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&V&^&e&o&|'Q'v(Q)S)Z*i*m*r+R+V+Y+v+},`,f,k-q-v.O.Y.y/[/]/^/`/d/g/i/x0Q0g0q1U2e2m2}3b3d3e3m3t5j5x6R6v7e8U8h9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;Q$]#aZ!_!o$_%v%|&x'P'V'W'X'Y'Z'[']'^'_'`'a'c'f'j't)n+P+[+e+|,[,b,e,g,u-t/s/v0f0p0t0u0v0w0x0y0z0{0|0}1O1P1Q1T1Y1z2W3o3r4S4V4W4]4^5Z5}6Q6^6b6c7b7s8S8f8r9U:pT!XQ!Y&_cORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&V&^&e&o&|'Q'v(Q)S)Z*i*m*r+R+V+Y+v+},`,f,k-q-v.O.Y.y/[/]/^/`/d/g/i/x0Q0g0q1U2e2m2}3b3d3e3m3t5j5x6R6v7e8U8h9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;QQ&W!bR/y+^Y&Q!b&U&]+^+dS(i#y(oS+h&c+kS-a(j(qQ-b(kQ-i(rQ.s*TU0T+i+m+nU0Y+o+p+qS0_+r2tQ1q-hQ1s-jQ1t-kS2o.v2rU3w0W0X0ZQ3{0[Q3|0^S5^2p2wS5a2u2vU6U3x3z3}Q6Z4OS6{5b5cQ6}5dS7f6W6YS7x6|7OQ8V7hQ8`7yQ;X;]R;Z;^lhOSj}!n$Z%b%e%f%h*m*r/d/gQ%j!QS&w!v9YQ)b$fQ*V%OQ*W%PQ+x&hS,Z&|9xS-u)S:UQ.V)cQ.u*UQ/k*tQ/m*uQ/u+XQ0]+oQ0c+yS1{-v:ZQ2U.WS2X.Y:[Q3n/wQ3q0OQ4Q0dQ4z2VQ6O3pQ6S3vQ6[4RQ7`5|Q7c6TQ8R7dQ8e8TR8q8g$W#`Z!_!o%v%|&x'P'V'W'X'Y'Z'[']'^'_'`'a'c'f'j't)n+P+[+e+|,[,b,e,u-t/s/v0f0p0t0u0v0w0x0y0z0{0|0}1O1P1Q1T1Y1z2W3o3r4S4V4W4]4^5Z5}6Q6^6b6c7b7s8S8f8r9U:pW(t#z&{1S8jT)W$_,g$W#_Z!_!o%v%|&x'P'V'W'X'Y'Z'[']'^'_'`'a'c'f'j't)n+P+[+e+|,[,b,e,u-t/s/v0f0p0t0u0v0w0x0y0z0{0|0}1O1P1Q1T1Y1z2W3o3r4S4V4W4]4^5Z5}6Q6^6b6c7b7s8S8f8r9U:pQ'e#`S)V$_,gR-w)W&^cORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&V&^&e&o&|'Q'v(Q)S)Z*i*m*r+R+V+Y+v+},`,f,k-q-v.O.Y.y/[/]/^/`/d/g/i/x0Q0g0q1U2e2m2}3b3d3e3m3t5j5x6R6v7e8U8h9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;QQ%e{Q%f|Q%h!OQ%i!PR/c*pQ&d!iQ)X$aQ+u&gS-|)])uS0`+s+tW2O-y-z-{.hS4P0a0bU4w2Q2R2SU6n4v5T5UQ7o6oR8Z7rT+j&c+kS+h&c+kU0T+i+m+nU0Y+o+p+qS0_+r2tS2o.v2rU3w0W0X0ZQ3{0[Q3|0^S5^2p2wS5a2u2vU6U3x3z3}Q6Z4OS6{5b5cQ6}5dS7f6W6YS7x6|7OQ8V7hR8`7yS+j&c+kT2q.v2rS&q!q/aQ-S(^Q-_(iS0S+h2oQ1d-TS1l-`-iU3y0Y0_5aQ4c1_S4n1r1tU6X3{3|6}Q6f4dQ6m4qR7i6ZQ!xXS&p!q/aQ)T$YQ)`$dQ)f$jQ,O&qQ-R(^Q-^(iQ-c(lQ.U)aQ.}*ZS0R+h2oS1c-S-TS1k-_-iQ1n-bQ1p-dQ3R/OW3u0S0Y0_5aQ4b1_Q4f1dS4j1l1tQ4o1sQ5m3SW6V3y3{3|6}S6e4c4dS6i4k:`Q6k4nQ6x5[Q7V5nS7g6X6ZQ7k6fS7l6j:aQ7n6mQ7u6yQ8O7WQ8W7iS8Y7m:bQ8]7vQ8l8^Q8x8mQ9P8yQ:i:dQ:t:nQ:u:oQ:y;XR:{;Z$rWORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&^&e&o&|'Q(Q)S)Z*i*m*r+R+v+},`,f-q-v.O.Y.y/[/]/^/`/d/g/i0Q0g0q2e2}3b3d3e3t5j5x6R7e8U8hS!xn!k!j:c#]#k&V'v+V+Y,k/x1U2m3m6v9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;QR:i;P$rXORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&^&e&o&|'Q(Q)S)Z*i*m*r+R+v+},`,f-q-v.O.Y.y/[/]/^/`/d/g/i0Q0g0q2e2}3b3d3e3t5j5x6R7e8U8hQ$Yb!Y$dm!j$g$h$i&T&i&j&k(i)d)e+Z+h+z+{-a.X/}0T0Y0e1q3w3|6U7f8VS$jn!kQ)a$eQ*Z%SW/O*[*]*^*_U3S/P/Q/RQ5[2oS5n3T3UU6y5]5^5aQ7W5oU7v6z6{6}S8^7w7xS8m8_8`Q8y8n!j:d#]#k&V'v+V+Y,k/x1U2m3m6v9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;QQ:n;OR:o;P$f]OSTjk}!S!W!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$Z$m%Z%^%b%d%e%f%h%l%y&R&^&e&o&|'Q(Q)S)Z*i*m*r+R+v+},`,f-q-v.O.Y.y/[/]/^/`/d/g/i0Q0g0q2e2}3b3d3e3t5j5x6R7e8U8hY!hRU!]!`%wv$vrs!r!u$X$t&_&s&v)v)w)x*k+W+f,Q,S/l0iQ*h%_!h:e#]#k'v+V+Y,k/x1U2m3m6v9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;QR:h&VS&Z!b$uR/{+a$p[ORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$Z$m%Z%^%b%d%e%f%h%l%w%y&R&^&e&o&|'Q(Q)S)Z*i*m*r+R+v+},`,f-q-v.O.Y.y/[/]/^/`/d/g/i0Q0g0q2e2}3b3d3e3t5j5x6R7e8U8h!j'd#]#k&V'v+V+Y,k/x1U2m3m6v9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;QR*g%_$roORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&^&e&o&|'Q(Q)S)Z*i*m*r+R+v+},`,f-q-v.O.Y.y/[/]/^/`/d/g/i0Q0g0q2e2}3b3d3e3t5j5x6R7e8U8hQ'T!{!k:f#]#k&V'v+V+Y,k/x1U2m3m6v9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;Q!h#VZ!_$_%v%|&x'P'^'_'`'a'f'j)n+P+e+|,[,b,u-t0f0p1Q1z2W3r4S4V6Q7b8S8f8r9U!R9b'c't+[,g/s/v0t0|0}1O1P1T1Y3o4W4]4^5Z5}6^6b6c7s:p!d#XZ!_$_%v%|&x'P'`'a'f'j)n+P+e+|,[,b,u-t0f0p1Q1z2W3r4S4V6Q7b8S8f8r9U}9d'c't+[,g/s/v0t1O1P1T1Y3o4W4]4^5Z5}6^6b6c7s:p!`#]Z!_$_%v%|&x'P'f'j)n+P+e+|,[,b,u-t0f0p1Q1z2W3r4S4V6Q7b8S8f8r9Un(Y#t&})R,}-V-l-m0n1y4a4r:j:v:w:xx;Q'c't+[,g/s/v0t1T1Y3o4W4]4^5Z5}6^6b6c7s:p!d;U&y'h(](c+t,Y,r-Z-x-{.l.n0b0m1e1i2S2h2j2z4U4h4l4t4y5U5i6]6h6l7T:z:|Y;V8i8v8}9Q9SZ;W1R4[6_7j8X&^cORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&V&^&e&o&|'Q'v(Q)S)Z*i*m*r+R+V+Y+v+},`,f,k-q-v.O.Y.y/[/]/^/`/d/g/i/x0Q0g0q1U2e2m2}3b3d3e3m3t5j5x6R6v7e8U8h9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;QS#l`#mR1V,j&e_ORSTU`jk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k#m$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&V&^&e&o&|'Q'v(Q)S)Z*i*m*r+R+V+Y+v+},`,f,j,k-q-v.O.Y.y/[/]/^/`/d/g/i/x0Q0g0q1U2e2m2}3b3d3e3m3t5j5x6R6v7e8U8h9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;QS#g^#nT'm#i'qT#h^#nT'o#i'q&e`ORSTU`jk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#]#b#e#k#m$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&V&^&e&o&|'Q'v(Q)S)Z*i*m*r+R+V+Y+v+},`,f,j,k-q-v.O.Y.y/[/]/^/`/d/g/i/x0Q0g0q1U2e2m2}3b3d3e3m3t5j5x6R6v7e8U8h9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;QT#l`#mQ#o`R'x#m$rbORSTUjk}!S!W!]!`!n!v!z!|#P#Q#R#S#T#U#V#W#X#Y#Z#b#e$Z$m%Z%^%_%b%d%e%f%h%l%w%y&R&^&e&o&|'Q(Q)S)Z*i*m*r+R+v+},`,f-q-v.O.Y.y/[/]/^/`/d/g/i0Q0g0q2e2}3b3d3e3t5j5x6R7e8U8h!k;O#]#k&V'v+V+Y,k/x1U2m3m6v9T9V9Y9[9]9^9_9`9a9b9c9d9e9f9g9j9w9x9z:U:V:Z:[;Q#RdOSUj}!S!W!n!|#k$Z%Z%^%_%b%d%e%f%h%l&R&e'v)Z*i*m*r+v,k-q.O.y/[/]/^/`/d/g/i1U2e2}3b3d3e5j5xv#za!y$R$S$W(V(X(Y(a(u(v,]-s1^1u:};U;V;W#Q&{!w#d#v#x&f'|(e)Y)[)_)|*P+w-W-Y-}.P.m.p.x.z1g1o1|2P2T2f2|3O4g4p4x5f5k6u7R7|9n9q9t9{:O:R:W:];Y;[Q)P$UQ,v(Rb1S9i9p9s9v9}:Q:T:Y:_c8j9Z9o9r9u9|:P:S:X:^v#wa!y$R$S$W(V(X(Y(a(u(v,]-s1^1u:};U;V;WS(l#y(oQ)Q$VQ-d(m#Q:k!w#d#v#x&f'|(e)Y)[)_)|*P+w-W-Y-}.P.m.p.x.z1g1o1|2P2T2f2|3O4g4p4x5f5k6u7R7|9n9q9t9{:O:R:W:];Y;[b:l9Z9o9r9u9|:P:S:X:^b:m9i9p9s9v9}:Q:T:Y:_Q:q;RQ:r;SR:s;Tv#za!y$R$S$W(V(X(Y(a(u(v,]-s1^1u:};U;V;W#Q&{!w#d#v#x&f'|(e)Y)[)_)|*P+w-W-Y-}.P.m.p.x.z1g1o1|2P2T2f2|3O4g4p4x5f5k6u7R7|9n9q9t9{:O:R:W:];Y;[b1S9i9p9s9v9}:Q:T:Y:_c8j9Z9o9r9u9|:P:S:X:^lfOSj}!n$Z%b%e%f%h*m*r/d/gQ(d#xQ*{%oQ*|%qR1f-W$n#{a!w!y#d#v#x$R$S$W&f'|(V(X(Y(a(e(u(v)Y)[)_)|*P+w,]-W-Y-s-}.P.m.p.x.z1^1g1o1u1|2P2T2f2|3O4g4p4x5f5k6u7R7|9Z9i9n9o9p9q9r9s9t9u9v9{9|9}:O:P:Q:R:S:T:W:X:Y:]:^:_:};U;V;W;Y;[Q*O$|Q.o*QQ2i.nR5W2jT(n#y(oS(n#y(oT2q.v2rQ)`$dQ-c(lQ.U)aQ.}*ZQ3R/OQ5m3SQ6x5[Q7V5nQ7u6yQ8O7WQ8]7vQ8l8^Q8x8mR9P8yn(V#t&})R,}-V-l-m0n1y4a4r:j:v:w:x!d9{&y'h(](c+t,Y,r-Z-x-{.l.n0b0m1e1i2S2h2j2z4U4h4l4t4y5U5i6]6h6l7T:z:|Y9|8i8v8}9Q9SZ9}1R4[6_7j8Xp(X#t&})R,{,}-V-l-m0n1y4a4r:j:v:w:x!f:O&y'h(](c+t,Y,r-Z-x-{.l.n0b0k0m1e1i2S2h2j2z4U4h4l4t4y5U5i6]6h6l7T:z:|[:P8i8v8{8}9Q9S]:Q1R4[6_6`7j8XpeOSjy}!n$Z%X%b%e%f%h*m*r/d/gQ%UxR*i%_peOSjy}!n$Z%X%b%e%f%h*m*r/d/gR%UxQ*S$}R.k){qeOSjy}!n$Z%X%b%e%f%h*m*r/d/gQ.w*XS2{.{.|W5e2x2y2z3PU7Q5g5h5iU7z7P7S7TQ8a7{R8o8bQ%]yR*c%XR3Y/UR7Y5pS$lp$qR.a)lQ%bzR*m%cR*s%iT/e*r/gR*w%jQ*v%jR/n*wQjOQ!nST$^j!nQ(O#sR,s(OQ!YQR%t!YQ!^RU%z!^%{+SQ%{!_R+S%|Q+_&WR/z+_Q,^&}R0o,^Q,a'PS0r,a0sR0s,bQ+k&cR0U+kS!eR$tU&`!e&a+TQ&a!fR+T%}Q+b&ZR/|+bQ&t!sQ,P&rU,T&t,P0jR0j,UQ'q#iR,l'qQ#m`R'w#mQ#cZU'g#c+O9hQ+O9UR9h'tQ-Q(^W1a-Q1b4e6gU1b-R-S-TS4e1c1dR6g4f$Z(T#t&y&}'h(](c(|(})R+t,W,X,Y,r,{,|,}-V-Z-l-m-x-{.l.n0b0k0l0m0n1R1e1i1y2S2h2j2z4U4Y4Z4[4a4h4l4r4t4y5U5i6]6_6`6a6h6l7T7j8X8i8t8u8v8{8|8}9Q9S:j:v:w:x:z:|Q-X(cU1h-X1j4iQ1j-ZR4i1iQ(o#yR-f(oQ(x#}R-o(xQ1}-xR4u1}Q)y$wR.j)yQ2l.qS5Y2l6wR6w5ZQ*U%OR.t*UQ2r.vR5_2rQ/T*`S3W/T5qR5q3YQ.[)hW2].[2_5O6rQ2_._Q5O2^R6r5PQ)m$lR.b)mQ/g*rR3h/gWiOSj!nQ%g}Q)U$ZQ*l%bQ*n%eQ*o%fQ*q%hQ/b*mS/e*r/gR3g/dQ$]gQ%k!RQ%n!TQ%p!UQ%r!VQ)t$rQ)z$xQ*b%]Q*y%mQ-e(nS/W*c*fQ/o*xQ/p*{Q/q*|S0P+h2oQ2b.eQ2g.lQ3Q.}Q3[/YQ3f/cY3s0R0S0Y0_5aQ5S2dQ5V2hQ5l3RQ5r3Z[6P3r3u3y3{3|6}Q6s5QQ7U5mQ7Z5sW7a6Q6V6X6ZQ7q6tQ7t6xQ7}7VU8Q7b7g7iQ8[7uQ8c8OS8d8S8WQ8k8]Q8p8fQ8w8lQ8z8rQ9O8xR9R9PQ$fmQ&h!jU)c$g$h$iQ+X&TU+y&i&j&kQ-](iS.W)d)eQ/w+ZQ0O+hS0d+z+{Q1m-aQ2V.XQ3p/}S3v0T0YQ4R0eQ4m1qS6T3w3|Q7d6UQ8T7fR8g8VS#ua:}R)^$cU#}a$c:}R-n(wQ#taS&y!w)_Q&}!yQ'h#dQ(]#vQ(c#xQ(|$RQ(}$SQ)R$WQ+t&fQ,W9nQ,X9qQ,Y9tQ,r'|Q,{(VQ,|(XQ,}(YQ-V(aQ-Z(eQ-l(uQ-m(vd-x)Y-}.x2P2|4x5f6u7R7|Q-{)[Q.l)|Q.n*PQ0b+wQ0k9{Q0l:OQ0m:RQ0n,]Q1R9iQ1e-WQ1i-YQ1y-sQ2S.PQ2h.mQ2j.pQ2z.zQ4U:WQ4Y9pQ4Z9sQ4[9vQ4a1^Q4h1gQ4l1oQ4r1uQ4t1|Q4y2TQ5U2fQ5i3OQ6]:]Q6_:TQ6`9}Q6a:QQ6h4gQ6l4pQ7T5kQ7j:YQ8X:_Q8i9ZQ8t9oQ8u9rQ8v9uQ8{9|Q8|:PQ8}:SQ9Q:XQ9S:^Q:j:}Q:v;UQ:w;VQ:x;WQ:z;YR:|;[lgOSj}!n$Z%b%e%f%h*m*r/d/gS!pU%dQ%m!SQ%s!WQ'U!|Q'u#kS*f%Z%^Q*j%_Q*x%lQ+U&RQ+s&eQ,p'vQ-z)ZQ/_*iQ0a+vQ1X,kQ1w-qQ2R.OQ2y.yQ3^/[Q3_/]Q3a/^Q3c/`Q3j/iQ4_1UQ5T2eQ5h2}Q5w3bQ5y3dQ5z3eQ7S5jR7]5x!vZOSUj}!S!n!|$Z%Z%^%_%b%d%e%f%h%l&R&e)Z*i*m*r+v-q.O.y/[/]/^/`/d/g/i2e2}3b3d3e5j5xQ!_RQ!oTQ$_kS%v!]%yQ%|!`Q&x!vQ'P!zQ'V#PQ'W#QQ'X#RQ'Y#SQ'Z#TQ'[#UQ']#VQ'^#WQ'_#XQ'`#YQ'a#ZQ'c#]Q'f#bQ'j#eW't#k'v,k1UQ)n$mS+P%w+RS+[&V/xQ+e&^Q+|&oQ,[&|Q,b'QQ,e9TQ,g9VQ,u(QQ-t)SQ/s+VQ/v+YQ0f+}Q0p,`Q0t9YQ0u9[Q0v9]Q0w9^Q0x9_Q0y9`Q0z9aQ0{9bQ0|9cQ0}9dQ1O9eQ1P9fQ1Q,fQ1T9jQ1Y9gQ1z-vQ2W.YQ3o9wQ3r0QQ4S0gQ4V0qQ4W9xQ4]9zQ4^:UQ5Z2mQ5}3mQ6Q3tQ6^:VQ6b:ZQ6c:[Q7b6RQ7s6vQ8S7eQ8f8UQ8r8hQ9U!WR:p;QR!aRR&X!bS&T!b+^S+Z&U&]R/}+dR'O!yR'R!zT!tU$XS!sU$XU$wrs*kS&r!r!uQ,R&sQ,U&vQ.i)xS0h,Q,SR4T0i`!dR!]!`$t%w&_)v+fh!qUrs!r!u$X&s&v)x,Q,S0iQ/a*kQ/t+WQ3l/lT:g&V)wT!gR$tS!fR$tS%x!]&_S%}!`)vS+Q%w+fT+]&V)wT&[!b$uQ#i^R'z#nT'p#i'qR1W,jT(`#v(hR(f#xQ-y)YQ2Q-}Q2x.xQ4v2PQ5g2|Q6o4xQ7P5fQ7r6uQ7{7RR8b7|lhOSj}!n$Z%b%e%f%h*m*r/d/gQ%[yR*b%XV$xrs*kR.r*RR*a%VQ$ppR)s$qR)i$kT%`z%cT%az%cT/f*r/g",nodeNames:"\u26A0 ArithOp ArithOp InterpolationStart extends LineComment BlockComment Script ExportDeclaration export Star as VariableName String from ; default FunctionDeclaration async function VariableDefinition TypeParamList TypeDefinition ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation VoidType void TypeofType typeof MemberExpression . ?. PropertyName [ TemplateString Interpolation null super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewExpression new TypeArgList CompareOp < ) ( ArgList UnaryExpression await yield delete LogicOp BitOp ParenthesizedExpression ClassExpression class extends ClassBody MethodDeclaration Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression PrivatePropertyName BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof in const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXStartTag JSXSelfClosingTag JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody MethodDeclaration AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement",maxTerm:332,context:r3,nodeProps:[["closedBy",3,"InterpolationEnd",40,"]",51,"}",66,")",132,"JSXSelfCloseEndTag JSXEndTag",146,"JSXEndTag"],["group",-26,8,15,17,58,184,188,191,192,194,197,200,211,213,219,221,223,225,228,234,240,242,244,246,248,250,251,"Statement",-30,12,13,24,27,28,41,43,44,45,47,52,60,68,74,75,91,92,101,103,119,122,124,125,126,127,129,130,148,149,151,"Expression",-22,23,25,29,32,34,152,154,156,157,159,160,161,163,164,165,167,168,169,178,180,182,183,"Type",-3,79,85,90,"ClassItem"],["openedBy",30,"InterpolationStart",46,"[",50,"{",65,"(",131,"JSXStartTag",141,"JSXStartTag JSXStartCloseTag"]],propSources:[c3],skippedNodes:[0,5,6],repeatNodeCount:28,tokenData:"!C}~R!`OX%TXY%cYZ'RZ[%c[]%T]^'R^p%Tpq%cqr'crs(kst0htu2`uv4pvw5ewx6cxy<yyz=Zz{=k{|>k|}?O}!O>k!O!P?`!P!QCl!Q!R!0[!R![!1q![!]!7s!]!^!8V!^!_!8g!_!`!9d!`!a!:[!a!b!<R!b!c%T!c!}2`!}#O!=d#O#P%T#P#Q!=t#Q#R!>U#R#S2`#S#T!>i#T#o2`#o#p!>y#p#q!?O#q#r!?f#r#s!?x#s$f%T$f$g%c$g#BY2`#BY#BZ!@Y#BZ$IS2`$IS$I_!@Y$I_$I|2`$I|$I}!Bq$I}$JO!Bq$JO$JT2`$JT$JU!@Y$JU$KV2`$KV$KW!@Y$KW&FU2`&FU&FV!@Y&FV?HT2`?HT?HU!@Y?HU~2`W%YR$UWO!^%T!_#o%T#p~%T7Z%jg$UW'Y7ROX%TXY%cYZ%TZ[%c[p%Tpq%cq!^%T!_#o%T#p$f%T$f$g%c$g#BY%T#BY#BZ%c#BZ$IS%T$IS$I_%c$I_$JT%T$JT$JU%c$JU$KV%T$KV$KW%c$KW&FU%T&FU&FV%c&FV?HT%T?HT?HU%c?HU~%T7Z'YR$UW'Z7RO!^%T!_#o%T#p~%T$T'jS$UW!j#{O!^%T!_!`'v!`#o%T#p~%T$O'}S#e#v$UWO!^%T!_!`(Z!`#o%T#p~%T$O(bR#e#v$UWO!^%T!_#o%T#p~%T'u(rZ$UW]!ROY(kYZ)eZr(krs*rs!^(k!^!_+U!_#O(k#O#P-b#P#o(k#o#p+U#p~(k&r)jV$UWOr)ers*Ps!^)e!^!_*a!_#o)e#o#p*a#p~)e&r*WR$P&j$UWO!^%T!_#o%T#p~%T&j*dROr*ars*ms~*a&j*rO$P&j'u*{R$P&j$UW]!RO!^%T!_#o%T#p~%T'm+ZV]!ROY+UYZ*aZr+Urs+ps#O+U#O#P+w#P~+U'm+wO$P&j]!R'm+zROr+Urs,Ts~+U'm,[U$P&j]!ROY,nZr,nrs-Vs#O,n#O#P-[#P~,n!R,sU]!ROY,nZr,nrs-Vs#O,n#O#P-[#P~,n!R-[O]!R!R-_PO~,n'u-gV$UWOr(krs-|s!^(k!^!_+U!_#o(k#o#p+U#p~(k'u.VZ$P&j$UW]!ROY.xYZ%TZr.xrs/rs!^.x!^!_,n!_#O.x#O#P0S#P#o.x#o#p,n#p~.x!Z/PZ$UW]!ROY.xYZ%TZr.xrs/rs!^.x!^!_,n!_#O.x#O#P0S#P#o.x#o#p,n#p~.x!Z/yR$UW]!RO!^%T!_#o%T#p~%T!Z0XT$UWO!^.x!^!_,n!_#o.x#o#p,n#p~.x2k0mZ$UWOt%Ttu1`u!^%T!_!c%T!c!}1`!}#R%T#R#S1`#S#T%T#T#o1`#p$g%T$g~1`2k1g]$UW'o2cOt%Ttu1`u!Q%T!Q![1`![!^%T!_!c%T!c!}1`!}#R%T#R#S1`#S#T%T#T#o1`#p$g%T$g~1`7Z2k_$UW#zS']%k'g2bOt%Ttu2`u}%T}!O3j!O!Q%T!Q![2`![!^%T!_!c%T!c!}2`!}#R%T#R#S2`#S#T%T#T#o2`#p$g%T$g~2`[3q_$UW#zSOt%Ttu3ju}%T}!O3j!O!Q%T!Q![3j![!^%T!_!c%T!c!}3j!}#R%T#R#S3j#S#T%T#T#o3j#p$g%T$g~3j$O4wS#^#v$UWO!^%T!_!`5T!`#o%T#p~%T$O5[R$UW#o#vO!^%T!_#o%T#p~%T6d5lU'x6[$UWOv%Tvw6Ow!^%T!_!`5T!`#o%T#p~%T$O6VS$UW#i#vO!^%T!_!`5T!`#o%T#p~%T'u6jZ$UW]!ROY6cYZ7]Zw6cwx*rx!^6c!^!_8T!_#O6c#O#P:T#P#o6c#o#p8T#p~6c&r7bV$UWOw7]wx*Px!^7]!^!_7w!_#o7]#o#p7w#p~7]&j7zROw7wwx*mx~7w'm8YV]!ROY8TYZ7wZw8Twx+px#O8T#O#P8o#P~8T'm8rROw8Twx8{x~8T'm9SU$P&j]!ROY9fZw9fwx-Vx#O9f#O#P9}#P~9f!R9kU]!ROY9fZw9fwx-Vx#O9f#O#P9}#P~9f!R:QPO~9f'u:YV$UWOw6cwx:ox!^6c!^!_8T!_#o6c#o#p8T#p~6c'u:xZ$P&j$UW]!ROY;kYZ%TZw;kwx/rx!^;k!^!_9f!_#O;k#O#P<e#P#o;k#o#p9f#p~;k!Z;rZ$UW]!ROY;kYZ%TZw;kwx/rx!^;k!^!_9f!_#O;k#O#P<e#P#o;k#o#p9f#p~;k!Z<jT$UWO!^;k!^!_9f!_#o;k#o#p9f#p~;k%V=QR!d$}$UWO!^%T!_#o%T#p~%TZ=bR!cR$UWO!^%T!_#o%T#p~%T5s=tU'^2s#_#v$UWOz%Tz{>W{!^%T!_!`5T!`#o%T#p~%T$O>_S#[#v$UWO!^%T!_!`5T!`#o%T#p~%T$u>rSj$m$UWO!^%T!_!`5T!`#o%T#p~%T&i?VR!R&a$UWO!^%T!_#o%T#p~%T7Z?gVu6`$UWO!O%T!O!P?|!P!Q%T!Q![@r![!^%T!_#o%T#p~%Ty@RT$UWO!O%T!O!P@b!P!^%T!_#o%T#p~%Ty@iR!Qq$UWO!^%T!_#o%T#p~%Ty@yZ$UWkqO!Q%T!Q![@r![!^%T!_!g%T!g!hAl!h#R%T#R#S@r#S#X%T#X#YAl#Y#o%T#p~%TyAqZ$UWO{%T{|Bd|}%T}!OBd!O!Q%T!Q![CO![!^%T!_#R%T#R#SCO#S#o%T#p~%TyBiV$UWO!Q%T!Q![CO![!^%T!_#R%T#R#SCO#S#o%T#p~%TyCVV$UWkqO!Q%T!Q![CO![!^%T!_#R%T#R#SCO#S#o%T#p~%T7ZCs`$UW#]#vOYDuYZ%TZzDuz{Jl{!PDu!P!Q!-e!Q!^Du!^!_Fx!_!`!.^!`!a!/]!a!}Du!}#OHq#O#PJQ#P#oDu#o#pFx#p~DuXD|[$UW}POYDuYZ%TZ!PDu!P!QEr!Q!^Du!^!_Fx!_!}Du!}#OHq#O#PJQ#P#oDu#o#pFx#p~DuXEy_$UW}PO!^%T!_#Z%T#Z#[Er#[#]%T#]#^Er#^#a%T#a#bEr#b#g%T#g#hEr#h#i%T#i#jEr#j#m%T#m#nEr#n#o%T#p~%TPF}V}POYFxZ!PFx!P!QGd!Q!}Fx!}#OG{#O#PHh#P~FxPGiU}P#Z#[Gd#]#^Gd#a#bGd#g#hGd#i#jGd#m#nGdPHOTOYG{Z#OG{#O#PH_#P#QFx#Q~G{PHbQOYG{Z~G{PHkQOYFxZ~FxXHvY$UWOYHqYZ%TZ!^Hq!^!_G{!_#OHq#O#PIf#P#QDu#Q#oHq#o#pG{#p~HqXIkV$UWOYHqYZ%TZ!^Hq!^!_G{!_#oHq#o#pG{#p~HqXJVV$UWOYDuYZ%TZ!^Du!^!_Fx!_#oDu#o#pFx#p~Du7ZJs^$UW}POYJlYZKoZzJlz{NQ{!PJl!P!Q!,R!Q!^Jl!^!_!!]!_!}Jl!}#O!'|#O#P!+a#P#oJl#o#p!!]#p~Jl7ZKtV$UWOzKoz{LZ{!^Ko!^!_M]!_#oKo#o#pM]#p~Ko7ZL`X$UWOzKoz{LZ{!PKo!P!QL{!Q!^Ko!^!_M]!_#oKo#o#pM]#p~Ko7ZMSR$UWU7RO!^%T!_#o%T#p~%T7RM`ROzM]z{Mi{~M]7RMlTOzM]z{Mi{!PM]!P!QM{!Q~M]7RNQOU7R7ZNX^$UW}POYJlYZKoZzJlz{NQ{!PJl!P!Q! T!Q!^Jl!^!_!!]!_!}Jl!}#O!'|#O#P!+a#P#oJl#o#p!!]#p~Jl7Z! ^_$UWU7R}PO!^%T!_#Z%T#Z#[Er#[#]%T#]#^Er#^#a%T#a#bEr#b#g%T#g#hEr#h#i%T#i#jEr#j#m%T#m#nEr#n#o%T#p~%T7R!!bY}POY!!]YZM]Zz!!]z{!#Q{!P!!]!P!Q!&x!Q!}!!]!}#O!$`#O#P!&f#P~!!]7R!#VY}POY!!]YZM]Zz!!]z{!#Q{!P!!]!P!Q!#u!Q!}!!]!}#O!$`#O#P!&f#P~!!]7R!#|UU7R}P#Z#[Gd#]#^Gd#a#bGd#g#hGd#i#jGd#m#nGd7R!$cWOY!$`YZM]Zz!$`z{!${{#O!$`#O#P!&S#P#Q!!]#Q~!$`7R!%OYOY!$`YZM]Zz!$`z{!${{!P!$`!P!Q!%n!Q#O!$`#O#P!&S#P#Q!!]#Q~!$`7R!%sTU7ROYG{Z#OG{#O#PH_#P#QFx#Q~G{7R!&VTOY!$`YZM]Zz!$`z{!${{~!$`7R!&iTOY!!]YZM]Zz!!]z{!#Q{~!!]7R!&}_}POzM]z{Mi{#ZM]#Z#[!&x#[#]M]#]#^!&x#^#aM]#a#b!&x#b#gM]#g#h!&x#h#iM]#i#j!&x#j#mM]#m#n!&x#n~M]7Z!(R[$UWOY!'|YZKoZz!'|z{!(w{!^!'|!^!_!$`!_#O!'|#O#P!*o#P#QJl#Q#o!'|#o#p!$`#p~!'|7Z!(|^$UWOY!'|YZKoZz!'|z{!(w{!P!'|!P!Q!)x!Q!^!'|!^!_!$`!_#O!'|#O#P!*o#P#QJl#Q#o!'|#o#p!$`#p~!'|7Z!*PY$UWU7ROYHqYZ%TZ!^Hq!^!_G{!_#OHq#O#PIf#P#QDu#Q#oHq#o#pG{#p~Hq7Z!*tX$UWOY!'|YZKoZz!'|z{!(w{!^!'|!^!_!$`!_#o!'|#o#p!$`#p~!'|7Z!+fX$UWOYJlYZKoZzJlz{NQ{!^Jl!^!_!!]!_#oJl#o#p!!]#p~Jl7Z!,Yc$UW}POzKoz{LZ{!^Ko!^!_M]!_#ZKo#Z#[!,R#[#]Ko#]#^!,R#^#aKo#a#b!,R#b#gKo#g#h!,R#h#iKo#i#j!,R#j#mKo#m#n!,R#n#oKo#o#pM]#p~Ko7Z!-lV$UWT7ROY!-eYZ%TZ!^!-e!^!_!.R!_#o!-e#o#p!.R#p~!-e7R!.WQT7ROY!.RZ~!.R$P!.g[$UW#o#v}POYDuYZ%TZ!PDu!P!QEr!Q!^Du!^!_Fx!_!}Du!}#OHq#O#PJQ#P#oDu#o#pFx#p~Du]!/f[#wS$UW}POYDuYZ%TZ!PDu!P!QEr!Q!^Du!^!_Fx!_!}Du!}#OHq#O#PJQ#P#oDu#o#pFx#p~Duy!0cd$UWkqO!O%T!O!P@r!P!Q%T!Q![!1q![!^%T!_!g%T!g!hAl!h#R%T#R#S!1q#S#U%T#U#V!3X#V#X%T#X#YAl#Y#b%T#b#c!2w#c#d!4m#d#l%T#l#m!5{#m#o%T#p~%Ty!1x_$UWkqO!O%T!O!P@r!P!Q%T!Q![!1q![!^%T!_!g%T!g!hAl!h#R%T#R#S!1q#S#X%T#X#YAl#Y#b%T#b#c!2w#c#o%T#p~%Ty!3OR$UWkqO!^%T!_#o%T#p~%Ty!3^W$UWO!Q%T!Q!R!3v!R!S!3v!S!^%T!_#R%T#R#S!3v#S#o%T#p~%Ty!3}Y$UWkqO!Q%T!Q!R!3v!R!S!3v!S!^%T!_#R%T#R#S!3v#S#b%T#b#c!2w#c#o%T#p~%Ty!4rV$UWO!Q%T!Q!Y!5X!Y!^%T!_#R%T#R#S!5X#S#o%T#p~%Ty!5`X$UWkqO!Q%T!Q!Y!5X!Y!^%T!_#R%T#R#S!5X#S#b%T#b#c!2w#c#o%T#p~%Ty!6QZ$UWO!Q%T!Q![!6s![!^%T!_!c%T!c!i!6s!i#R%T#R#S!6s#S#T%T#T#Z!6s#Z#o%T#p~%Ty!6z]$UWkqO!Q%T!Q![!6s![!^%T!_!c%T!c!i!6s!i#R%T#R#S!6s#S#T%T#T#Z!6s#Z#b%T#b#c!2w#c#o%T#p~%T%w!7|R!]V$UW#m%hO!^%T!_#o%T#p~%T!P!8^R_w$UWO!^%T!_#o%T#p~%T6i!8rR'bd!a0`#x&s'|P!P!Q!8{!^!_!9Q!_!`!9_W!9QO$WW#v!9VP#`#v!_!`!9Y#v!9_O#o#v#v!9dO#a#v%w!9kT!{%o$UWO!^%T!_!`'v!`!a!9z!a#o%T#p~%T$P!:RR#W#w$UWO!^%T!_#o%T#p~%T%w!:gT'a!s#a#v$RS$UWO!^%T!_!`!:v!`!a!;W!a#o%T#p~%T$O!:}R#a#v$UWO!^%T!_#o%T#p~%T$O!;_T#`#v$UWO!^%T!_!`5T!`!a!;n!a#o%T#p~%T$O!;uS#`#v$UWO!^%T!_!`5T!`#o%T#p~%T6i!<YV'p6a$UWO!O%T!O!P!<o!P!^%T!_!a%T!a!b!=P!b#o%T#p~%T)z!<vRv)r$UWO!^%T!_#o%T#p~%T$O!=WS$UW#j#vO!^%T!_!`5T!`#o%T#p~%T7V!=kRx6}$UWO!^%T!_#o%T#p~%TZ!={R!OR$UWO!^%T!_#o%T#p~%T$O!>]S#g#v$UWO!^%T!_!`5T!`#o%T#p~%T$P!>pR$UW'f#wO!^%T!_#o%T#p~%T~!?OO!T~6d!?VT'w6[$UWO!^%T!_!`5T!`#o%T#p#q!=P#q~%T5g!?oR!S5]nQ$UWO!^%T!_#o%T#p~%TX!@PR!kP$UWO!^%T!_#o%T#p~%T7Z!@gr$UW'Y7R#zS']%k'g2bOX%TXY%cYZ%TZ[%c[p%Tpq%cqt%Ttu2`u}%T}!O3j!O!Q%T!Q![2`![!^%T!_!c%T!c!}2`!}#R%T#R#S2`#S#T%T#T#o2`#p$f%T$f$g%c$g#BY2`#BY#BZ!@Y#BZ$IS2`$IS$I_!@Y$I_$JT2`$JT$JU!@Y$JU$KV2`$KV$KW!@Y$KW&FU2`&FU&FV!@Y&FV?HT2`?HT?HU!@Y?HU~2`7Z!CO_$UW'Z7R#zS']%k'g2bOt%Ttu2`u}%T}!O3j!O!Q%T!Q![2`![!^%T!_!c%T!c!}2`!}#R%T#R#S2`#S#T%T#T#o2`#p$g%T$g~2`",tokenizers:[o3,a3,l3,0,1,2,3,4,5,6,7,8,9,s3],topRules:{Script:[0,7]},dialects:{jsx:11707,ts:11709},dynamicPrecedences:{149:1,176:1},specialized:[{term:289,get:(n,e)=>h3(n,e)<<1},{term:289,get:n=>u3[n]||-1},{term:299,get:n=>f3[n]||-1},{term:63,get:n=>d3[n]||-1}],tokenPrec:11730});function _f(n){let e=Object.keys(n).join(""),t=/\w/.test(e);return t&&(e=e.replace(/\w/g,"")),`[${t?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function x3(n){let e=Object.create(null),t=Object.create(null);for(let{label:r}of n){e[r[0]]=!0;for(let s=1;s<r.length;s++)t[r[s]]=!0}let i=_f(e)+_f(t)+"*$";return[new RegExp("^"+i),new RegExp(i)]}function m3(n){let e=n.map(r=>typeof r=="string"?{label:r}:r),[t,i]=e.every(r=>/^\w+$/.test(r.label))?[/\w*$/,/\w+$/]:x3(e);return r=>{let s=r.matchBefore(i);return s||r.explicit?{from:s?s.from:r.pos,options:e,validFor:t}:null}}function g3(n,e){return t=>{for(let i=ve(t.state).resolveInner(t.pos,-1);i;i=i.parent)if(n.indexOf(i.name)>-1)return null;return e(t)}}const O3=U.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",listStyle:"none",margin:0,padding:0,"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer",padding:"1px 3px",lineHeight:1.2}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"\xB7\xB7\xB7"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"300px"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'\u0192'"}},".cm-completionIcon-class":{"&:after":{content:"'\u25CB'"}},".cm-completionIcon-interface":{"&:after":{content:"'\u25CC'"}},".cm-completionIcon-variable":{"&:after":{content:"'\u{1D465}'"}},".cm-completionIcon-constant":{"&:after":{content:"'\u{1D436}'"}},".cm-completionIcon-type":{"&:after":{content:"'\u{1D461}'"}},".cm-completionIcon-enum":{"&:after":{content:"'\u222A'"}},".cm-completionIcon-property":{"&:after":{content:"'\u25A1'"}},".cm-completionIcon-keyword":{"&:after":{content:"'\u{1F511}\uFE0E'"}},".cm-completionIcon-namespace":{"&:after":{content:"'\u25A2'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class y3{constructor(e,t,i,r){this.field=e,this.line=t,this.from=i,this.to=r}}class zh{constructor(e,t,i){this.field=e,this.from=t,this.to=i}map(e){let t=e.mapPos(this.from,-1,Pe.TrackDel),i=e.mapPos(this.to,1,Pe.TrackDel);return t==null||i==null?null:new zh(this.field,t,i)}}class _h{constructor(e,t){this.lines=e,this.fieldPositions=t}instantiate(e,t){let i=[],r=[t],s=e.doc.lineAt(t),o=/^\s*/.exec(s.text)[0];for(let l of this.lines){if(i.length){let h=o,c=/^\t*/.exec(l)[0].length;for(let u=0;u<c;u++)h+=e.facet(Er);r.push(t+h.length-c),l=h+l.slice(c)}i.push(l),t+=l.length+1}let a=this.fieldPositions.map(l=>new zh(l.field,r[l.line]+l.from,r[l.line]+l.to));return{text:i,ranges:a}}static parse(e){let t=[],i=[],r=[],s;for(let o of e.split(/\r\n?|\n/)){for(;s=/[#$]\{(?:(\d+)(?::([^}]*))?|([^}]*))\}/.exec(o);){let a=s[1]?+s[1]:null,l=s[2]||s[3]||"",h=-1;for(let c=0;c<t.length;c++)(a!=null?t[c].seq==a:l?t[c].name==l:!1)&&(h=c);if(h<0){let c=0;for(;c<t.length&&(a==null||t[c].seq!=null&&t[c].seq<a);)c++;t.splice(c,0,{seq:a,name:l}),h=c;for(let u of r)u.field>=h&&u.field++}r.push(new y3(h,i.length,s.index,s.index+l.length)),o=o.slice(0,s.index)+l+o.slice(s.index+s[0].length)}i.push(o)}return new _h(i,r)}}let b3=X.widget({widget:new class extends Xt{toDOM(){let n=document.createElement("span");return n.className="cm-snippetFieldPosition",n}ignoreEvent(){return!1}}}),S3=X.mark({class:"cm-snippetField"});class En{constructor(e,t){this.ranges=e,this.active=t,this.deco=X.set(e.map(i=>(i.from==i.to?b3:S3).range(i.from,i.to)))}map(e){let t=[];for(let i of this.ranges){let r=i.map(e);if(!r)return null;t.push(r)}return new En(t,this.active)}selectionInsideField(e){return e.ranges.every(t=>this.ranges.some(i=>i.field==this.active&&i.from<=t.from&&i.to>=t.to))}}const Rr=j.define({map(n,e){return n&&n.map(e)}}),w3=j.define(),wr=Ae.define({create(){return null},update(n,e){for(let t of e.effects){if(t.is(Rr))return t.value;if(t.is(w3)&&n)return new En(n.ranges,t.value)}return n&&e.docChanged&&(n=n.map(e.changes)),n&&e.selection&&!n.selectionInsideField(e.selection)&&(n=null),n},provide:n=>U.decorations.from(n,e=>e?e.deco:X.none)});function jh(n,e){return $.create(n.filter(t=>t.field==e).map(t=>$.range(t.from,t.to)))}function v3(n){let e=_h.parse(n);return(t,i,r,s)=>{let{text:o,ranges:a}=e.instantiate(t.state,r),l={changes:{from:r,to:s,insert:ie.of(o)}};if(a.length&&(l.selection=jh(a,0)),a.length>1){let h=new En(a,0),c=l.effects=[Rr.of(h)];t.state.field(wr,!1)===void 0&&c.push(j.appendConfig.of([wr,E3,T3,O3]))}t.dispatch(t.state.update(l))}}function bm(n){return({state:e,dispatch:t})=>{let i=e.field(wr,!1);if(!i||n<0&&i.active==0)return!1;let r=i.active+n,s=n>0&&!i.ranges.some(o=>o.field==r+n);return t(e.update({selection:jh(i.ranges,r),effects:Rr.of(s?null:new En(i.ranges,r))})),!0}}const k3=({state:n,dispatch:e})=>n.field(wr,!1)?(e(n.update({effects:Rr.of(null)})),!0):!1,C3=bm(1),D3=bm(-1),A3=[{key:"Tab",run:C3,shift:D3},{key:"Escape",run:k3}],jf=N.define({combine(n){return n.length?n[0]:A3}}),E3=Cn.highest(Ar.compute([jf],n=>n.facet(jf)));function Di(n,e){return Object.assign(Object.assign({},e),{apply:v3(n)})}const T3=U.domEventHandlers({mousedown(n,e){let t=e.state.field(wr,!1),i;if(!t||(i=e.posAtCoords({x:n.clientX,y:n.clientY}))==null)return!1;let r=t.ranges.find(s=>s.from<=i&&s.to>=i);return!r||r.field==t.active?!1:(e.dispatch({selection:jh(t.ranges,r.field),effects:Rr.of(t.ranges.some(s=>s.field>r.field)?new En(t.ranges,r.field):null)}),!0)}}),Sm=new class extends mi{};Sm.startSide=1;Sm.endSide=-1;const F3=[Di("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),Di("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),Di("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),Di(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"block",type:"keyword"}),Di(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),Di('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),Di('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],Zf=new Zw,wm=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function Xn(n){return(e,t)=>{let i=e.node.getChild("VariableDefinition");return i&&t(i,n),!0}}const $3=["FunctionDeclaration"],Q3={FunctionDeclaration:Xn("function"),ClassDeclaration:Xn("class"),ClassExpression:()=>!0,EnumDeclaration:Xn("constant"),TypeAliasDeclaration:Xn("type"),NamespaceDeclaration:Xn("namespace"),VariableDefinition(n,e){n.matchContext($3)||e(n,"variable")},TypeDefinition(n,e){e(n,"type")},__proto__:null};function vm(n,e){let t=Zf.get(e);if(t)return t;let i=[],r=!0;function s(o,a){let l=n.sliceString(o.from,o.to);i.push({label:l,type:a})}return e.cursor(Ee.IncludeAnonymous).iterate(o=>{if(r)r=!1;else if(o.name){let a=Q3[o.name];if(a&&a(o,s)||wm.has(o.name))return!1}else if(o.to-o.from>8192){for(let a of vm(n,o.node))i.push(a);return!1}}),Zf.set(e,i),i}const Gf=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/;function P3(n){let e=ve(n.state).resolve(n.pos,-1);if(e.name=="TemplateString"||e.name=="String"||e.name=="LineComment"||e.name=="BlockComment")return null;let t=e.to-e.from<20&&Gf.test(n.state.sliceDoc(e.from,e.to));if(!t&&!n.explicit)return null;let i=[];for(let r=e;r;r=r.parent)wm.has(r.name)&&(i=i.concat(vm(n.state.doc,r)));return{options:i,from:t?e.from:n.pos,validFor:Gf}}const Bi=Ls.define({parser:p3.configure({props:[yp.add({IfStatement:la({except:/^\s*({|else\b)/}),TryStatement:la({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:dv,SwitchBody:n=>{let e=n.textAfter,t=/^\s*\}/.test(e),i=/^\s*(case|default)\b/.test(e);return n.baseIndent+(t?0:i?1:2)*n.unit},Block:fv({closing:"}"}),ArrowFunction:n=>n.baseIndent+n.unit,"TemplateString BlockComment":()=>-1,"Statement Property":la({except:/^{/}),JSXElement(n){let e=/^\s*<\//.test(n.textAfter);return n.lineIndent(n.node.from)+(e?0:n.unit)},JSXEscape(n){let e=/\s*\}/.test(n.textAfter);return n.lineIndent(n.node.from)+(e?0:n.unit)},"JSXOpenTag JSXSelfClosingTag"(n){return n.column(n.node.from)+n.unit}}),vp.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression":mv,BlockComment(n){return{from:n.from+2,to:n.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),R3=Bi.configure({dialect:"ts"}),I3=Bi.configure({dialect:"jsx"}),B3=Bi.configure({dialect:"jsx ts"});function M3(n={}){let e=n.jsx?n.typescript?B3:I3:n.typescript?R3:Bi;return new rv(e,[Bi.data.of({autocomplete:g3(["LineComment","BlockComment","String"],m3(F3))}),Bi.data.of({autocomplete:P3}),n.jsx?N3:[]])}function qf(n,e,t=n.length){if(!e)return"";let i=e.getChild("JSXIdentifier");return i?n.sliceString(i.from,Math.min(i.to,t)):""}const W3=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),N3=U.inputHandler.of((n,e,t,i)=>{if((W3?n.composing:n.compositionStarted)||n.state.readOnly||e!=t||i!=">"&&i!="/"||!Bi.isActiveAt(n.state,e,-1))return!1;let{state:r}=n,s=r.changeByRange(o=>{var a,l,h;let{head:c}=o,u=ve(r).resolveInner(c,-1),d;if(u.name=="JSXStartTag"&&(u=u.parent),i==">"&&u.name=="JSXFragmentTag")return{range:$.cursor(c+1),changes:{from:c,insert:"><>"}};if(i==">"&&u.name=="JSXIdentifier"){if(((l=(a=u.parent)===null||a===void 0?void 0:a.lastChild)===null||l===void 0?void 0:l.name)!="JSXEndTag"&&(d=qf(r.doc,u.parent,c)))return{range:$.cursor(c+1),changes:{from:c,insert:`></${d}>`}}}else if(i=="/"&&u.name=="JSXFragmentTag"){let x=u.parent,g=x==null?void 0:x.parent;if(x.from==c-1&&((h=g.lastChild)===null||h===void 0?void 0:h.name)!="JSXEndTag"&&(d=qf(r.doc,g==null?void 0:g.firstChild,c))){let f=`/${d}>`;return{range:$.cursor(c+f.length),changes:{from:c,insert:f}}}}return{range:o}});return s.changes.empty?!1:(n.dispatch(s,{userEvent:"input.type",scrollIntoView:!0}),!0)});function L3(n,e,t,i){if(e.name!=="TaggedTemplateExpression")return;const r=t.resolve(e.from,1);if((r==null?void 0:r.name)!=="VariableName"||i.sliceString(r.from,r.to)!==n)return;const o=r.nextSibling;if((o==null?void 0:o.name)!=="TemplateString")return;const a=i.sliceString(o.from,o.to);if(!!a.endsWith("`"))return{text:a.slice(1,-1),nameFrom:r.from,nameTo:r.to,textFrom:o.from+1,textTo:o.to-1}}const X3=[["bitmap","bitmap"],["tune","sequencer"],["map","map"]];class U3 extends Xt{constructor(e,t,i,r,s){super(),this.label=e,this.editorType=t,this.text=i,this.from=r,this.to=s}eq(e){return e.text===this.text&&e.from===this.from&&e.to===this.to}ignoreEvent(){return!1}toDOM(){const e=document.createElement("span");e.classList.add("cm-open-button");const t=e.appendChild(document.createElement("button"));return t.textContent=this.label,t.addEventListener("click",()=>this.onClick()),this.editorType==="bitmap"&&e.appendChild(document.createElement("bitmap-preview")).setAttribute("text",this.text),e}updateDOM(e){const t=e.children[0],i=t.cloneNode(!0);return i.addEventListener("click",()=>this.onClick()),e.replaceChild(i,t),this.editorType==="bitmap"&&e.querySelector("bitmap-preview").setAttribute("text",this.text),!0}onClick(){oe("SET_EDIT_RANGE",{range:[this.from,this.to]}),oe("SET_ASSET_EDITOR",{type:this.editorType,text:this.text})}}function Vf(n){const e=[],t=[],i=ve(n);return i.iterate({enter(r){for(const[s,o]of X3){const a=L3(s,r,i,n.doc);if(!a||a.nameFrom===a.nameTo||a.textFrom===a.textTo)continue;const l=X.replace({widget:new U3(s,o,a.text,a.textFrom,a.textTo)});e.push(l.range(a.nameFrom,a.nameTo)),t.push({from:a.textFrom,to:a.textTo});break}}}),{decorations:X.set(e),foldRanges:t}}var z3=Ae.define({create(n){return Vf(n)},update(n,e){return e.docChanged?Vf(e.state):{...n,decorations:n.decorations.map(e.changes)}},provide(n){return[U.decorations.from(n,e=>e.decorations),wp.from(n,e=>(t,i,r)=>{var s;return(s=e.foldRanges.find(o=>o.from>=i&&o.from<=r))!=null?s:null})]}});const _3=n=>(e,t)=>{let{state:i}=n,r=[];for(let s=e;s<t;){let o=n.lineBlockAt(s),a=mr(i,o.from,o.to);a&&r.push(Tr.of(a)),s=(a?n.lineBlockAt(a.to):o).to+1}return r.length&&n.dispatch({effects:r}),!!r.length};let j3=mC.filter((n,e)=>![11,12].includes(e));function Z3(n=()=>{}){const e=new U({state:te.create({extensions:[j3,Ar.of([FD]),Er.of("  "),M3(),z3,U.updateListener.of(n)]})});return e.foldRange=_3(e),e}function G3(n,e=[]){let t=n[0],i=t.name.split(".");if(i[0],i[i.length-1],e.length>0&&e.includes(enxtension))throw"Extension not recongized: "+i;q3(t)}function q3(n){var e=new FileReader;e.readAsText(n),e.onloadend=t=>{let i=e.result;try{const r=co.codemirror.state.doc.toString();oe("SET_EDITOR_TEXT",{text:i,range:[0,r.length]})}catch{}}}function V3(n,e){e("drop","",function(t){let r=t.dataTransfer.files;G3(r),Yf(t)}),e("dragover","",function(t){Yf(t)})}function Yf(n){return n.stopPropagation&&n.stopPropagation(),n.preventDefault&&n.preventDefault(),n.cancelBubble=!0,n.returnValue=!1,!1}function Y3(n,e){let t=!1;e("mousedown",".vertical-bar",i=>{t=!0}),e("mousemove","",i=>{if(!t)return;let r=i.clientX/window.innerWidth*100;if(r===0)return;const s=0,o=100;r<s&&(r=s),r>o&&(r=o),document.documentElement.style.setProperty("--editor-width",`${r}%`),J3(i)}),e("mouseup","",i=>{t=!1}),e("mouseleave","",i=>{t=!1})}function J3(n){return n.stopPropagation&&n.stopPropagation(),n.preventDefault&&n.preventDefault(),n.cancelBubble=!0,n.returnValue=!1,!1}function km(n){const e=n.codemirror.state.doc.toString(),t=e.match(/@title:\s+([^\n]+)/),i=t!==null?t[1]:"DRAFT",r=Object.fromEntries(n.savedGames);if(i in r&&r[i]===e)return;const s=[i,e],o=n.savedGames.filter(l=>l[0]!==i),a=[s,...o];n.savedGames=a,window.localStorage.setItem("puzzle-lab",JSON.stringify(a))}const Cm=n=>n.composedPath()[0],H3=(n,e)=>Cm(n).matches(e),K3=n=>(e,t,i)=>{n.addEventListener(e,r=>{r.trigger=Cm(r),(t===""||H3(r,t))&&i(r)})};function Dm(n,e){return n.className===""?!1:n.className.split(" ").indexOf(e)>=0?!0:n.parentNode&&Dm(n.parentNode,e)}function eA(n){const e=K3(document.body);e("keydown","",function(t){const i=document.activeElement;if(i?Dm(i,"code-container"):!1){const o=!n.stale||!n.staleRun;n.stale=!0,n.staleRun=!0,o&&oe("RENDER")}t.code==="Enter"&&(t.shiftKey||t.ctrlKey||t.metaKey)&&(t.preventDefault(),oe("RUN"))}),e("mousedown",".docs-trigger",function(t){oe("DOC_OPEN")}),window.addEventListener("unload",()=>{km(n)}),Y3(n,e),V3(n,e)}function tA({type:n,err:e},t){if(console.error(e),n==="page"||n==="runtime"){let i=null,r=null,s=e.stack.match(/<anonymous>:(.+)\)/);if(s){let a=s[1].split(":").map(Number);i=a[0]-2,r=a[1]}const o=i&&r?`${e.message} on line ${i} in column ${r}.
Open the browser console for more information.`:e.message;i&&r&&(t.errorInfo={line:i},t.logs=[...t.logs,o])}else if(n==="parse"){const{description:i,lineNumber:r,column:s}=e,o=`${i} on line ${r} in column ${s}.
Open the browser console for more information.`;t.errorInfo={line:r},t.logs=[...t.logs,o]}oe("RENDER"),Am(t)}function Am(n){var i;const e=(i=n.errorInfo)==null?void 0:i.line,t=document.querySelectorAll(".cm-lineNumbers > .cm-gutterElement");for(let r=0;r<t.length;r++){const s=t[r];s.innerText;const o=s.style.height;Number(s.innerText)!==e||o==="0px"||s.classList.add("err-line")}}function Jf(n){return new URLSearchParams(window.location.search).get(n)}function Hf(n){const e=new URL(window.location);e.searchParams.delete(n),window.history.pushState({},null,e)}async function iA(n,e){oe("RENDER"),e.codemirror=Z3(()=>{Am(e)}),e.codemirror.dom.id="code-editor",document.querySelector("#code-editor").replaceWith(e.codemirror.dom),eA(e);const t=window.localStorage.getItem("puzzle-lab")||"[]";e.savedGames=JSON.parse(t),Object.fromEntries(e.savedGames);const i=c=>oe("SET_EDITOR_TEXT",{text:c,range:[0,0]}),r="https://raw.githubusercontent.com/adrianoapj/sprig/main/games/tutorial.js";sessionStorage.clear(),i(await fetch(r).then(c=>c.text())),oe("RUN"),window.addEventListener("error",c=>{c.message.includes("Uncaught EvalError")||console.error("caught error:",c)});const s=Jf("file");if(Hf("file"),s){const c=await cb(s),u={from:0,to:e.codemirror.state.doc.toString().length,insert:c};e.codemirror.dispatch({changes:u})}const o=Jf("id");if(Hf("id"),o){const c=`https://project-bucket-hackclub.s3.eu-west-1.amazonaws.com/${o}.json`,d=(await fetch(c,{mode:"cors"}).then(g=>g.json())).text,x={from:0,to:e.codemirror.state.doc.toString().length,insert:d};e.codemirror.dispatch({changes:x})}const l=e.codemirror.state.doc.toString().matchAll(/(map|bitmap|tune)`[\s\S]*?`/g);for(const c of l){const u=c.index;e.codemirror.foldRange(u,u+1)}const h=document.querySelector(".game-canvas-container");new ResizeObserver(ih).observe(h),document.querySelector(".game-canvas").focus(),oe("RENDER")}function nA(n){return n=n.replaceAll(" ","-"),n===""&&(n="defaultName"),console.log(n),n}function rA({name:n},e){e.name=nA(n);const t=document.querySelector(".menu-name");t.innerText=e.name}function sA(n,e){const t=new Blob([e],{type:"text/plain"}),i=document.createElement("a");i.href=URL.createObjectURL(t),i.download=`${n}`,i.click(),URL.revokeObjectURL(i)}var Em={exports:{}},Tm={exports:{}};(function(){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e={rotl:function(t,i){return t<<i|t>>>32-i},rotr:function(t,i){return t<<32-i|t>>>i},endian:function(t){if(t.constructor==Number)return e.rotl(t,8)&16711935|e.rotl(t,24)&4278255360;for(var i=0;i<t.length;i++)t[i]=e.endian(t[i]);return t},randomBytes:function(t){for(var i=[];t>0;t--)i.push(Math.floor(Math.random()*256));return i},bytesToWords:function(t){for(var i=[],r=0,s=0;r<t.length;r++,s+=8)i[s>>>5]|=t[r]<<24-s%32;return i},wordsToBytes:function(t){for(var i=[],r=0;r<t.length*32;r+=8)i.push(t[r>>>5]>>>24-r%32&255);return i},bytesToHex:function(t){for(var i=[],r=0;r<t.length;r++)i.push((t[r]>>>4).toString(16)),i.push((t[r]&15).toString(16));return i.join("")},hexToBytes:function(t){for(var i=[],r=0;r<t.length;r+=2)i.push(parseInt(t.substr(r,2),16));return i},bytesToBase64:function(t){for(var i=[],r=0;r<t.length;r+=3)for(var s=t[r]<<16|t[r+1]<<8|t[r+2],o=0;o<4;o++)r*8+o*6<=t.length*8?i.push(n.charAt(s>>>6*(3-o)&63)):i.push("=");return i.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/ig,"");for(var i=[],r=0,s=0;r<t.length;s=++r%4)s!=0&&i.push((n.indexOf(t.charAt(r-1))&Math.pow(2,-2*s+8)-1)<<s*2|n.indexOf(t.charAt(r))>>>6-s*2);return i}};Tm.exports=e})();var jl={utf8:{stringToBytes:function(n){return jl.bin.stringToBytes(unescape(encodeURIComponent(n)))},bytesToString:function(n){return decodeURIComponent(escape(jl.bin.bytesToString(n)))}},bin:{stringToBytes:function(n){for(var e=[],t=0;t<n.length;t++)e.push(n.charCodeAt(t)&255);return e},bytesToString:function(n){for(var e=[],t=0;t<n.length;t++)e.push(String.fromCharCode(n[t]));return e.join("")}}},Kf=jl;/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var oA=function(n){return n!=null&&(Fm(n)||aA(n)||!!n._isBuffer)};function Fm(n){return!!n.constructor&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}function aA(n){return typeof n.readFloatLE=="function"&&typeof n.slice=="function"&&Fm(n.slice(0,0))}(function(){var n=Tm.exports,e=Kf.utf8,t=oA,i=Kf.bin,r=function(s,o){s.constructor==String?o&&o.encoding==="binary"?s=i.stringToBytes(s):s=e.stringToBytes(s):t(s)?s=Array.prototype.slice.call(s,0):!Array.isArray(s)&&s.constructor!==Uint8Array&&(s=s.toString());for(var a=n.bytesToWords(s),l=s.length*8,h=1732584193,c=-271733879,u=-1732584194,d=271733878,x=0;x<a.length;x++)a[x]=(a[x]<<8|a[x]>>>24)&16711935|(a[x]<<24|a[x]>>>8)&4278255360;a[l>>>5]|=128<<l%32,a[(l+64>>>9<<4)+14]=l;for(var g=r._ff,f=r._gg,p=r._hh,m=r._ii,x=0;x<a.length;x+=16){var O=h,y=c,b=u,w=d;h=g(h,c,u,d,a[x+0],7,-680876936),d=g(d,h,c,u,a[x+1],12,-389564586),u=g(u,d,h,c,a[x+2],17,606105819),c=g(c,u,d,h,a[x+3],22,-1044525330),h=g(h,c,u,d,a[x+4],7,-176418897),d=g(d,h,c,u,a[x+5],12,1200080426),u=g(u,d,h,c,a[x+6],17,-1473231341),c=g(c,u,d,h,a[x+7],22,-45705983),h=g(h,c,u,d,a[x+8],7,1770035416),d=g(d,h,c,u,a[x+9],12,-1958414417),u=g(u,d,h,c,a[x+10],17,-42063),c=g(c,u,d,h,a[x+11],22,-1990404162),h=g(h,c,u,d,a[x+12],7,1804603682),d=g(d,h,c,u,a[x+13],12,-40341101),u=g(u,d,h,c,a[x+14],17,-1502002290),c=g(c,u,d,h,a[x+15],22,1236535329),h=f(h,c,u,d,a[x+1],5,-165796510),d=f(d,h,c,u,a[x+6],9,-1069501632),u=f(u,d,h,c,a[x+11],14,643717713),c=f(c,u,d,h,a[x+0],20,-373897302),h=f(h,c,u,d,a[x+5],5,-701558691),d=f(d,h,c,u,a[x+10],9,38016083),u=f(u,d,h,c,a[x+15],14,-660478335),c=f(c,u,d,h,a[x+4],20,-405537848),h=f(h,c,u,d,a[x+9],5,568446438),d=f(d,h,c,u,a[x+14],9,-1019803690),u=f(u,d,h,c,a[x+3],14,-187363961),c=f(c,u,d,h,a[x+8],20,1163531501),h=f(h,c,u,d,a[x+13],5,-1444681467),d=f(d,h,c,u,a[x+2],9,-51403784),u=f(u,d,h,c,a[x+7],14,1735328473),c=f(c,u,d,h,a[x+12],20,-1926607734),h=p(h,c,u,d,a[x+5],4,-378558),d=p(d,h,c,u,a[x+8],11,-2022574463),u=p(u,d,h,c,a[x+11],16,1839030562),c=p(c,u,d,h,a[x+14],23,-35309556),h=p(h,c,u,d,a[x+1],4,-1530992060),d=p(d,h,c,u,a[x+4],11,1272893353),u=p(u,d,h,c,a[x+7],16,-155497632),c=p(c,u,d,h,a[x+10],23,-1094730640),h=p(h,c,u,d,a[x+13],4,681279174),d=p(d,h,c,u,a[x+0],11,-358537222),u=p(u,d,h,c,a[x+3],16,-722521979),c=p(c,u,d,h,a[x+6],23,76029189),h=p(h,c,u,d,a[x+9],4,-640364487),d=p(d,h,c,u,a[x+12],11,-421815835),u=p(u,d,h,c,a[x+15],16,530742520),c=p(c,u,d,h,a[x+2],23,-995338651),h=m(h,c,u,d,a[x+0],6,-198630844),d=m(d,h,c,u,a[x+7],10,1126891415),u=m(u,d,h,c,a[x+14],15,-1416354905),c=m(c,u,d,h,a[x+5],21,-57434055),h=m(h,c,u,d,a[x+12],6,1700485571),d=m(d,h,c,u,a[x+3],10,-1894986606),u=m(u,d,h,c,a[x+10],15,-1051523),c=m(c,u,d,h,a[x+1],21,-2054922799),h=m(h,c,u,d,a[x+8],6,1873313359),d=m(d,h,c,u,a[x+15],10,-30611744),u=m(u,d,h,c,a[x+6],15,-1560198380),c=m(c,u,d,h,a[x+13],21,1309151649),h=m(h,c,u,d,a[x+4],6,-145523070),d=m(d,h,c,u,a[x+11],10,-1120210379),u=m(u,d,h,c,a[x+2],15,718787259),c=m(c,u,d,h,a[x+9],21,-343485551),h=h+O>>>0,c=c+y>>>0,u=u+b>>>0,d=d+w>>>0}return n.endian([h,c,u,d])};r._ff=function(s,o,a,l,h,c,u){var d=s+(o&a|~o&l)+(h>>>0)+u;return(d<<c|d>>>32-c)+o},r._gg=function(s,o,a,l,h,c,u){var d=s+(o&l|a&~l)+(h>>>0)+u;return(d<<c|d>>>32-c)+o},r._hh=function(s,o,a,l,h,c,u){var d=s+(o^a^l)+(h>>>0)+u;return(d<<c|d>>>32-c)+o},r._ii=function(s,o,a,l,h,c,u){var d=s+(a^(o|~l))+(h>>>0)+u;return(d<<c|d>>>32-c)+o},r._blocksize=16,r._digestsize=16,Em.exports=function(s,o){if(s==null)throw new Error("Illegal argument "+s);var a=n.wordsToBytes(r(s,o));return o&&o.asBytes?a:o&&o.asString?i.bytesToString(a):n.bytesToHex(a)}})();var lA=Em.exports;async function hA(n){const e=lA(JSON.stringify(n)),{exists:t,uploadURL:i,jsonFilename:r,id:s}=await fetch(`https://vt4x133ukg.execute-api.eu-west-1.amazonaws.com/default/getPresignedURL?id=${e}`).then(a=>a.json());t||await fetch(i,{mode:"cors",method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:n})});const o=cA(`?id=${s}`);return uA(o),o}function cA(n){return window.location.protocol+"//"+window.location.host+window.location.pathname+n}function uA(n){const e=document.createElement("button");document.body.appendChild(e),e.addEventListener("click",()=>{navigator.clipboard.writeText(n)}),e.click(),e.remove()}const fA={INIT:iA,RUN:lb,SET_BITMAPS({bitmaps:n},e){e.bitmaps=n},UPLOAD(n,e){_y(e.codemirror.state.doc.toString())},SAVE(n,e){km(e),e.stale=!1,oe("RENDER")},SAVE_TO_FILE(n,e){const t=e.codemirror.state.doc.toString(),i=t.match(/@title:\s+([^\n]+)/),r=i!==null?i[1]:"DRAFT";sA(`${r}.js`,t)},async GET_URL(n,e){const t=e.codemirror.state.doc.toString(),i=await hA(t);alert(`Here is your game link: ${i}`),fetch("https://misguided.enterprises/clubscraps/cabal",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({link:i})})},LOG_ERROR:tA,SET_EDIT_RANGE({range:n},e){e.editRange=n},SET_ASSET_EDITOR({type:n,text:e},t){if(t.editor=n,oe("RUN"),oe("RENDER"),n===null)return;const i=document.getElementById("asset-editor");i.loadInitValue&&i.loadInitValue({text:e,bitmaps:t.bitmaps})},SET_EDITOR_TEXT({text:n,range:e},t){const[i]=e,r={from:i,to:t.codemirror.state.doc.toString().length,insert:n};t.codemirror.dispatch({changes:r}),oe("RENDER"),t.editRange!==null&&(t.editRange[1]=t.editRange[0]+n.length)},SET_NAME:rA,LOAD_FROM_DATA({data:n},e){console.log(n)},RENDER(n,e){eO(document.querySelector(".root"),Y1(e))},DOC_OPEN(n,e){const t=r=>{document.documentElement.style.setProperty("--docs-percentage",`${r}%`)},i=getComputedStyle(document.documentElement).getPropertyValue("--docs-percentage");t(i.trim()==="0%"?75:0),document.querySelector(".docs").classList.toggle("docs-expanded"),oe("RENDER")}};function oe(n,e={}){const t=fA[n];return t?t(e,co):(console.log("Action not recongnized:",n),null)}oe("INIT");
